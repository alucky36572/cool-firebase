/*! For license information please see main.01811daa.js.LICENSE.txt */
(()=>{var e={540:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case u:case s:case a:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case g:case l:return e;default:return t}}case r:return t}}}function S(e){return x(e)===u}t.isForwardRef=function(e){return x(e)===d}},904:(e,t,n)=>{"use strict";e.exports=n(540)},172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(396);n(554);var r=n(43);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var f=function(){function e(t){o(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return l(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),i=t.length,r=0;r<i;r+=1)n.push(t[r]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var i=n;i>=0;i-=1)this.handlers[i].called||(this.handlers[i].called=!0,this.handlers[i](e));for(var r=n;r>=0;r-=1)this.handlers[r].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],i=this.handlers.length,r=0;r<i;r+=1){var s=this.handlers[r];-1===t.indexOf(s)&&n.push(s)}return new e(n)}}]),e}();function g(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function m(e){return Array.isArray(e)?e:[e]}function v(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===s(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){o(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return l(e,[{key:"addHandlers",value:function(t,n){var i=g(this.handlerSets);if(i.has(t)){var r=i.get(t);i.set(t,r.addHandlers(n))}else i.set(t,new f(n));return new e(this.poolName,i)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),i="default"===this.poolName;n&&n.dispatchEvent(t,i)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var i=g(this.handlerSets);if(!i.has(t))return new e(this.poolName,i);var r=i.get(t).removeHandlers(n);return r.hasHandlers()?i.set(t,r):i.delete(t),new e(this.poolName,i)}}]),e}();c(y,"createByType",(function(e,t,n){var i=new Map;return i.set(t,new f(n)),new y(e,i)}));var b=function(){function e(t){var n=this;o(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return l(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var i=this.pools.get(e);this.pools.set(e,i.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var i=this.pools.get(e).removeHandlers(t,n);i.hasHandlers()?this.pools.set(e,i):this.pools.delete(e);var r=!1;this.pools.forEach((function(e){return r=r||e.hasHandlers(t)})),r||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),w=new(function(){function e(){var t=this;o(this,e),c(this,"targets",new Map),c(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=v(e);if(t.targets.has(i))return t.targets.get(i);if(!n)return null;var r=new b(i);return t.targets.set(i,r),r})),c(this,"removeTarget",(function(e){t.targets.delete(v(e))}))}return l(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i.canUseDOM){var r=n.target,s=void 0===r?document:r,o=n.pool,a=void 0===o?"default":o;this.getTarget(s).addHandlers(a,e,m(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i.canUseDOM){var r=n.target,s=void 0===r?document:r,o=n.pool,a=void 0===o?"default":o,l=this.getTarget(s,!1);l&&(l.removeHandlers(a,e,m(t)),l.hasHandlers()||this.removeTarget(s))}}}]),e}()),x=function(){function e(){return o(this,e),p(this,u(e).apply(this,arguments))}return h(e,r.PureComponent),l(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,i=e.pool,r=e.target;w.sub(t,n,{pool:i,target:r})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,i=e.pool,r=e.target;w.unsub(t,n,{pool:i,target:r})}},{key:"render",value:function(){return null}}]),e}();c(x,"defaultProps",{pool:"default",target:"document"}),x.propTypes={},t.instance=w,t.default=x},173:(e,t,n)=>{"use strict";var i;i=n(172),e.exports=i.default,e.exports.instance=i.instance},396:(e,t,n)=>{var i;!function(){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),s={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()},48:(e,t,n)=>{var i,r,s;s=function(e){"use strict";var t=e?e._modules:{};function n(t,n,i,r){t.hasOwnProperty(n)||(t[n]=r.apply(null,i),"function"==typeof CustomEvent&&e.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:n,module:t[n]}})))}n(t,"Extensions/Pane/PaneComposition.js",[t["Core/Utilities.js"]],(function(e){let{addEvent:t,correctFloat:n,defined:i,pick:r}=e;function s(e){let t,n=this;return e&&n.pane.forEach((i=>{o(e.chartX-n.plotLeft,e.chartY-n.plotTop,i.center)&&(t=i)})),t}function o(e,t,r,s,o){let a=!0,l=r[0],c=r[1],h=Math.sqrt(Math.pow(e-l,2)+Math.pow(t-c,2));if(i(s)&&i(o)){let i=Math.atan2(n(t-c,8),n(e-l,8));o!==s&&(a=s>o?i>=s&&i<=Math.PI||i<=o&&i>=-Math.PI:i>=s&&i<=n(o,8))}return h<=Math.ceil(r[2]/2)&&a}function a(e){this.polar&&(e.options.inverted&&([e.x,e.y]=[e.y,e.x]),e.isInsidePlot=this.pane.some((t=>o(e.x,e.y,t.center,t.axis&&t.axis.normalizedStartAngleRad,t.axis&&t.axis.normalizedEndAngleRad))))}function l(e){let t=this.chart;e.hoverPoint&&e.hoverPoint.plotX&&e.hoverPoint.plotY&&t.hoverPane&&!o(e.hoverPoint.plotX,e.hoverPoint.plotY,t.hoverPane.center)&&(e.hoverPoint=void 0)}function c(e){let t=this.chart;t.polar?(t.hoverPane=t.getHoverPane(e),e.filter=function(n){return n.visible&&!(!e.shared&&n.directTouch)&&r(n.options.enableMouseTracking,!0)&&(!t.hoverPane||n.xAxis.pane===t.hoverPane)}):t.hoverPane=void 0}return{compose:function(e,n){let i=e.prototype;i.getHoverPane||(i.collectionsWithUpdate.push("pane"),i.getHoverPane=s,t(e,"afterIsInsidePlot",a),t(n,"afterGetHoverData",l),t(n,"beforeGetHoverData",c))}}})),n(t,"Extensions/Pane/PaneDefaults.js",[],(function(){return{pane:{center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},background:{shape:"circle",borderRadius:0,borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}})),n(t,"Extensions/Pane/Pane.js",[t["Series/CenteredUtilities.js"],t["Extensions/Pane/PaneComposition.js"],t["Extensions/Pane/PaneDefaults.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{extend:r,merge:s,splat:o}=i;class a{constructor(e,t){this.coll="pane",this.init(e,t)}init(e,t){this.chart=t,this.background=[],t.pane.push(this),this.setOptions(e)}setOptions(e){this.options=e=s(n.pane,this.chart.angular?{background:{}}:void 0,e)}render(){let e=this.options,t=this.chart.renderer;this.group||(this.group=t.g("pane-group").attr({zIndex:e.zIndex||0}).add()),this.updateCenter();let i=this.options.background;if(i){let e=Math.max((i=o(i)).length,this.background.length||0);for(let t=0;t<e;t++)i[t]&&this.axis?this.renderBackground(s(n.background,i[t]),t):this.background[t]&&(this.background[t]=this.background[t].destroy(),this.background.splice(t,1))}}renderBackground(e,t){let n={class:"highcharts-pane "+(e.className||"")},i="animate";this.chart.styledMode||r(n,{fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.borderWidth}),this.background[t]||(this.background[t]=this.chart.renderer.path().add(this.group),i="attr"),this.background[t][i]({d:this.axis.getPlotBandPath(e.from,e.to,e)}).attr(n)}updateCenter(t){this.center=(t||this.axis||{}).center=e.getCenter.call(this)}update(e,t){s(!0,this.options,e),this.setOptions(this.options),this.render(),this.chart.axes.forEach((function(e){e.pane===this&&(e.pane=null,e.update({},t))}),this)}}return a.compose=t.compose,a})),n(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t){let{area:{prototype:{pointClass:n,pointClass:{prototype:i}}}}=e.seriesTypes,{defined:r,isNumber:s}=t;return class extends n{setState(){let e=this.state,t=this.series,n=t.chart.polar;r(this.plotHigh)||(this.plotHigh=t.yAxis.toPixels(this.high,!0)),r(this.plotLow)||(this.plotLow=this.plotY=t.yAxis.toPixels(this.low,!0)),t.lowerStateMarkerGraphic=t.stateMarkerGraphic,t.stateMarkerGraphic=t.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,n&&s(this.plotHighX)&&(this.plotX=this.plotHighX),i.setState.apply(this,arguments),this.state=e,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],n&&s(this.plotLowX)&&(this.plotX=this.plotLowX),t.upperStateMarkerGraphic=t.stateMarkerGraphic,t.stateMarkerGraphic=t.lowerStateMarkerGraphic,t.lowerStateMarkerGraphic=void 0;let o=t.modifyMarkerSettings();i.setState.apply(this,arguments),t.restoreMarkerSettings(o)}haloPath(){let e=this.series.chart.polar,t=[];return this.plotY=this.plotLow,e&&s(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(t=i.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,e&&s(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(t=t.concat(i.haloPath.apply(this,arguments))),t}isValid(){return s(this.low)&&s(this.high)}}})),n(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{noop:r}=t,{area:s,area:{prototype:o},column:{prototype:a}}=n.seriesTypes,{addEvent:l,defined:c,extend:h,isArray:u,isNumber:d,pick:p,merge:f}=i;class g extends s{toYData(e){return[e.low,e.high]}highToXY(e){let t=this.chart,n=this.xAxis.postTranslate(e.rectPlotX||0,this.yAxis.len-(e.plotHigh||0));e.plotHighX=n.x-t.plotLeft,e.plotHigh=n.y-t.plotTop,e.plotLowX=e.plotX}getGraphPath(e){let t,n,i,r=[],s=[],a=o.getGraphPath,l=this.options,c=this.chart.polar,h=c&&!1!==l.connectEnds,u=l.connectNulls,d=l.step;for(t=(e=e||this.points).length;t--;){n=e[t];let o=c?{plotX:n.rectPlotX,plotY:n.yBottom,doCurve:!1}:{plotX:n.plotX,plotY:n.plotY,doCurve:!1};n.isNull||h||u||e[t+1]&&!e[t+1].isNull||s.push(o),i={polarPlotY:n.polarPlotY,rectPlotX:n.rectPlotX,yBottom:n.yBottom,plotX:p(n.plotHighX,n.plotX),plotY:n.plotHigh,isNull:n.isNull},s.push(i),r.push(i),n.isNull||h||u||e[t-1]&&!e[t-1].isNull||s.push(o)}let f=a.call(this,e);d&&(!0===d&&(d="left"),l.step={left:"right",center:"center",right:"left"}[d]);let g=a.call(this,r),m=a.call(this,s);l.step=d;let v=[].concat(f,g);return!this.chart.polar&&m[0]&&"M"===m[0][0]&&(m[0]=["L",m[0][1],m[0][2]]),this.graphPath=v,this.areaPath=f.concat(m),v.isArea=!0,v.xMap=f.xMap,this.areaPath.xMap=f.xMap,v}drawDataLabels(){let e,t,n,i,r,s=this.points,a=s.length,l=[],c=this.options.dataLabels,d=this.chart.inverted;if(c){var p,f;if(u(c)?(i=c[0]||{enabled:!1},r=c[1]||{enabled:!1}):((i=h({},c)).x=c.xHigh,i.y=c.yHigh,(r=h({},c)).x=c.xLow,r.y=c.yLow),i.enabled||null!==(p=this.hasDataLabels)&&void 0!==p&&p.call(this)){for(e=a;e--;)if(t=s[e]){let{plotHigh:r=0,plotLow:s=0}=t;n=i.inside?r<s:r>s,t.y=t.high,t._plotY=t.plotY,t.plotY=r,l[e]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=n,d?i.align||(i.align=n?"right":"left"):i.verticalAlign||(i.verticalAlign=n?"top":"bottom")}for(this.options.dataLabels=i,o.drawDataLabels&&o.drawDataLabels.apply(this,arguments),e=a;e--;)(t=s[e])&&(t.dataLabelUpper=t.dataLabel,t.dataLabel=l[e],delete t.dataLabels,t.y=t.low,t.plotY=t._plotY)}if(r.enabled||null!==(f=this.hasDataLabels)&&void 0!==f&&f.call(this)){for(e=a;e--;)if(t=s[e]){let{plotHigh:e=0,plotLow:i=0}=t;n=r.inside?e<i:e>i,t.below=!n,d?r.align||(r.align=n?"left":"right"):r.verticalAlign||(r.verticalAlign=n?"bottom":"top")}this.options.dataLabels=r,o.drawDataLabels&&o.drawDataLabels.apply(this,arguments)}if(i.enabled)for(e=a;e--;)(t=s[e])&&(t.dataLabels=[t.dataLabelUpper,t.dataLabel].filter((function(e){return!!e})));this.options.dataLabels=c}}alignDataLabel(){a.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){let e={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){let{options:{marker:e,lowMarker:t}}=this;this.options.marker=f(e,t),t.symbol&&(this.symbol=t.symbol)}return e}restoreMarkerSettings(e){this.options.marker=e.marker,this.symbol=e.symbol}drawPoints(){let e,t,n=this.points.length,i=this.modifyMarkerSettings();for(o.drawPoints.apply(this,arguments),this.restoreMarkerSettings(i),e=0;e<n;)(t=this.points[e]).graphics=t.graphics||[],t.origProps={plotY:t.plotY,plotX:t.plotX,isInside:t.isInside,negative:t.negative,zone:t.zone,y:t.y},(t.graphic||t.graphics[0])&&(t.graphics[0]=t.graphic),t.graphic=t.graphics[1],t.plotY=t.plotHigh,c(t.plotHighX)&&(t.plotX=t.plotHighX),t.y=p(t.high,t.origProps.y),t.negative=t.y<(this.options.threshold||0),this.zones.length&&(t.zone=t.getZone()),this.chart.polar||(t.isInside=t.isTopInside=void 0!==t.plotY&&t.plotY>=0&&t.plotY<=this.yAxis.len&&t.plotX>=0&&t.plotX<=this.xAxis.len),e++;for(o.drawPoints.apply(this,arguments),e=0;e<n;)(t=this.points[e]).graphics=t.graphics||[],(t.graphic||t.graphics[1])&&(t.graphics[1]=t.graphic),t.graphic=t.graphics[0],t.origProps&&(h(t,t.origProps),delete t.origProps),e++}hasMarkerChanged(e,t){let n=e.lowMarker,i=t.lowMarker||{};return n&&(!1===n.enabled||i.symbol!==n.symbol||i.height!==n.height||i.width!==n.width)||super.hasMarkerChanged(e,t)}}return g.defaultOptions=f(s.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),l(g,"afterTranslate",(function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach((e=>{let t=e.high,n=e.plotY;e.isNull?e.plotY=void 0:(e.plotLow=n,e.plotHigh=d(t)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(t):t,!1,!0,void 0,!0):void 0,this.dataModify&&(e.yBottom=e.plotHigh))}))}),{order:0}),l(g,"afterTranslate",(function(){this.points.forEach((e=>{if(this.chart.polar)this.highToXY(e),e.plotLow=e.plotY,e.tooltipPos=[((e.plotHighX||0)+(e.plotLowX||0))/2,((e.plotHigh||0)+(e.plotLow||0))/2];else{let t=e.pos(!1,e.plotLow),n=e.pos(!1,e.plotHigh);t&&n&&(t[0]=(t[0]+n[0])/2,t[1]=(t[1]+n[1])/2),e.tooltipPos=t}}))}),{order:3}),h(g.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:e,pointValKey:"low",setStackedPoints:r}),n.registerSeriesType("arearange",g),g})),n(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n){let{spline:{prototype:i}}=t.seriesTypes,{merge:r,extend:s}=n;class o extends e{}return o.defaultOptions=r(e.defaultOptions),s(o.prototype,{getPointSpline:i.getPointSpline}),t.registerSeriesType("areasplinerange",o),o})),n(t,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],(function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}})),n(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/BoxPlot/BoxPlotSeriesDefaults.js"],t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r){let{noop:s}=n,{crisp:o,extend:a,merge:l,pick:c}=r;class h extends t{pointAttribs(){return{}}translate(){let e=this.yAxis,t=this.pointArrayMap;super.translate.apply(this),this.points.forEach((function(n){t.forEach((function(t){null!==n[t]&&(n[t+"Plot"]=e.translate(n[t],0,1,0,1))})),n.plotHigh=n.highPlot}))}drawPoints(){let e,t,n,i,r,s,a,l,h,u,d,p=this.points,f=this.options,g=this.chart,m=g.renderer,v=!1!==this.doQuartiles,y=this.options.whiskerLength;for(let b of p){let p=(s=b.graphic)?"animate":"attr",w=b.shapeArgs,x={},S={},k={},_={},T=b.color||this.color;if(void 0!==b.plotY){let C;a=w.width,h=(l=w.x)+a,u=a/2,e=v?b.q1Plot:b.lowPlot,t=v?b.q3Plot:b.lowPlot,n=b.highPlot,i=b.lowPlot,s||(b.graphic=s=m.g("point").add(this.group),b.stem=m.path().addClass("highcharts-boxplot-stem").add(s),y&&(b.whiskers=m.path().addClass("highcharts-boxplot-whisker").add(s)),v&&(b.box=m.path(void 0).addClass("highcharts-boxplot-box").add(s)),b.medianShape=m.path(void 0).addClass("highcharts-boxplot-median").add(s)),g.styledMode||(S.stroke=b.stemColor||f.stemColor||T,S["stroke-width"]=c(b.stemWidth,f.stemWidth,f.lineWidth),S.dashstyle=b.stemDashStyle||f.stemDashStyle||f.dashStyle,b.stem.attr(S),y&&(k.stroke=b.whiskerColor||f.whiskerColor||T,k["stroke-width"]=c(b.whiskerWidth,f.whiskerWidth,f.lineWidth),k.dashstyle=b.whiskerDashStyle||f.whiskerDashStyle||f.dashStyle,b.whiskers.attr(k)),v&&(x.fill=b.fillColor||f.fillColor||T,x.stroke=f.lineColor||T,x["stroke-width"]=f.lineWidth||0,x.dashstyle=b.boxDashStyle||f.boxDashStyle||f.dashStyle,b.box.attr(x)),_.stroke=b.medianColor||f.medianColor||T,_["stroke-width"]=c(b.medianWidth,f.medianWidth,f.lineWidth),_.dashstyle=b.medianDashStyle||f.medianDashStyle||f.dashStyle,b.medianShape.attr(_));let E=o((b.plotX||0)+(this.pointXOffset||0)+(this.barW||0)/2,b.stem.strokeWidth());if(C=[["M",E,t],["L",E,n],["M",E,e],["L",E,i]],b.stem[p]({d:C}),v){let n=b.box.strokeWidth();e=o(e,n),t=o(t,n),C=[["M",l=o(l,n),t],["L",l,e],["L",h=o(h,n),e],["L",h,t],["L",l,t],["Z"]],b.box[p]({d:C})}if(y){let e=b.whiskers.strokeWidth();n=o(b.highPlot,e),i=o(b.lowPlot,e),C=[["M",o(E-(d="string"==typeof y&&/%$/.test(y)?u*parseFloat(y)/100:Number(y)/2)),n],["L",o(E+d),n],["M",o(E-d),i],["L",o(E+d),i]],b.whiskers[p]({d:C})}C=[["M",l,r=o(b.medianPlot,b.medianShape.strokeWidth())],["L",h,r]],b.medianShape[p]({d:C})}}}toYData(e){return[e.low,e.q1,e.median,e.q3,e.high]}}return h.defaultOptions=l(t.defaultOptions,e),a(h.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:s,setStackedPoints:s}),i.registerSeriesType("boxplot",h),h})),n(t,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),n(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{parse:r}=e,{noop:s}=n,{arrayMax:o,arrayMin:a,isNumber:l,merge:c,pick:h,stableSort:u}=i;return class{constructor(e,t){this.setState=s,this.init(e,t)}init(e,t){this.options=e,this.visible=!0,this.chart=t.chart,this.legend=t}addToLegend(e){e.splice(this.options.legendIndex,0,this)}drawLegendSymbol(e){let t,n=h(e.options.itemDistance,20),i=this.legendItem||{},r=this.options,s=r.ranges,o=r.connectorDistance;if(!s||!s.length||!l(s[0].value))return void(e.options.bubbleLegend.autoRanges=!0);u(s,(function(e,t){return t.value-e.value})),this.ranges=s,this.setOptions(),this.render();let a=this.getMaxLabelSize(),c=this.ranges[0].radius,d=2*c;t=(t=o-c+a.width)>0?t:0,this.maxLabel=a,this.movementX="left"===r.labels.align?t:0,i.labelWidth=d+t+n,i.labelHeight=d+a.height/2}setOptions(){let e=this.ranges,t=this.options,n=this.chart.series[t.seriesIndex],i=this.legend.baseline,s={zIndex:t.zIndex,"stroke-width":t.borderWidth},o={zIndex:t.zIndex,"stroke-width":t.connectorWidth},a={align:this.legend.options.rtl||"left"===t.labels.align?"right":"left",zIndex:t.zIndex},l=n.options.marker.fillOpacity,u=this.chart.styledMode;e.forEach((function(d,p){u||(s.stroke=h(d.borderColor,t.borderColor,n.color),s.fill=h(d.color,t.color,1!==l?r(n.color).setOpacity(l).get("rgba"):n.color),o.stroke=h(d.connectorColor,t.connectorColor,n.color)),e[p].radius=this.getRangeRadius(d.value),e[p]=c(e[p],{center:e[0].radius-e[p].radius+i}),u||c(!0,e[p],{bubbleAttribs:c(s),connectorAttribs:c(o),labelAttribs:a})}),this)}getRangeRadius(e){let t=this.options,n=this.options.seriesIndex,i=this.chart.series[n],r=t.ranges[0].value,s=t.ranges[t.ranges.length-1].value,o=t.minSize,a=t.maxSize;return i.getRadius.call(this,s,r,o,a,e)}render(){let e=this.legendItem||{},t=this.chart.renderer,n=this.options.zThreshold;for(let i of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),e.symbol=t.g("bubble-legend"),e.label=t.g("bubble-legend-item").css(this.legend.itemStyle||{}),e.symbol.translateX=0,e.symbol.translateY=0,e.symbol.add(e.label),e.label.add(e.group),this.ranges))i.value>=n&&this.renderRange(i);this.hideOverlappingLabels()}renderRange(e){let t=this.ranges[0],n=this.legend,i=this.options,r=i.labels,s=this.chart,o=s.series[i.seriesIndex],a=s.renderer,l=this.symbols,c=l.labels,h=e.center,u=Math.abs(e.radius),d=i.connectorDistance||0,p=r.align,f=n.options.rtl,g=i.borderWidth,m=i.connectorWidth,v=t.radius||0,y=h-u-g/2+m/2,b=(y%1?1:.5)-(m%2?0:.5),w=a.styledMode,x=f||"left"===p?-d:d;"center"===p&&(x=0,i.connectorDistance=0,e.labelAttribs.align="center"),l.bubbleItems.push(a.circle(v,h+b,u).attr(w?{}:e.bubbleAttribs).addClass((w?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(i.className||"")).add(this.legendItem.symbol)),l.connectors.push(a.path(a.crispLine([["M",v,y],["L",v+x,y]],i.connectorWidth)).attr(w?{}:e.connectorAttribs).addClass((w?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(i.connectorClassName||"")).add(this.legendItem.symbol));let S=a.text(this.formatLabel(e)).attr(w?{}:e.labelAttribs).css(w?{}:r.style).addClass("highcharts-bubble-legend-labels "+(i.labels.className||"")).add(this.legendItem.symbol),k={x:v+x+i.labels.x,y:y+i.labels.y+.4*S.getBBox().height};S.attr(k),c.push(S),S.placed=!0,S.alignAttr=k}getMaxLabelSize(){let e,t;return this.symbols.labels.forEach((function(n){t=n.getBBox(!0),e=e?t.width>e.width?t:e:t})),e||{}}formatLabel(e){let n=this.options,i=n.labels.formatter,r=n.labels.format,{numberFormatter:s}=this.chart;return r?t.format(r,e):i?i.call(e):s(e.value,1)}hideOverlappingLabels(){let e=this.chart,t=this.options.labels.allowOverlap,n=this.symbols;!t&&n&&(e.hideOverlappingLabels(n.labels),n.labels.forEach((function(e,t){e.newOpacity?e.newOpacity!==e.oldOpacity&&n.connectors[t].show():n.connectors[t].hide()})))}getRanges(){let e,t,n=this.legend.bubbleLegend,i=n.chart.series,r=n.options.ranges,s=Number.MAX_VALUE,u=-Number.MAX_VALUE;return i.forEach((function(e){e.isBubble&&!e.ignoreSeries&&(t=e.zData.filter(l)).length&&(s=h(e.options.zMin,Math.min(s,Math.max(a(t),!1===e.options.displayNegative?e.options.zThreshold:-Number.MAX_VALUE))),u=h(e.options.zMax,Math.max(u,o(t))))})),e=s===u?[{value:u}]:[{value:s},{value:(s+u)/2},{value:u,autoRanges:!0}],r.length&&r[0].radius&&e.reverse(),e.forEach((function(t,n){r&&r[n]&&(e[n]=c(r[n],t))})),e}predictBubbleSizes(){let e,t=this.chart,n=t.legend.options,i=n.floating,r="horizontal"===n.layout,s=r?t.legend.lastLineHeight:0,o=t.plotSizeX,a=t.plotSizeY,l=t.series[this.options.seriesIndex],c=l.getPxExtremes(),h=Math.ceil(c.minPxSize),u=Math.ceil(c.maxPxSize),d=Math.min(a,o),p=l.options.maxSize;return i||!/%$/.test(p)?e=u:(e=(d+s)*(p=parseFloat(p))/100/(p/100+1),(r&&a-e>=o||!r&&o-e>=a)&&(e=u)),[h,Math.ceil(e)]}updateRanges(e,t){let n=this.legend.options.bubbleLegend;n.minSize=e,n.maxSize=t,n.ranges=this.getRanges()}correctSizes(){let e=this.legend,t=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(t.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,t.maxPxSize),e.render())}}})),n(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r){let{setOptions:s}=n,{composed:o}=i,{addEvent:a,objectEach:l,pushUnique:c,wrap:h}=r;function u(e,t,n){let i,r,s,o=this.legend,a=d(this)>=0;o&&o.options.enabled&&o.bubbleLegend&&o.options.bubbleLegend.autoRanges&&a?(i=o.bubbleLegend.options,r=o.bubbleLegend.predictBubbleSizes(),o.bubbleLegend.updateRanges(r[0],r[1]),i.placed||(o.group.placed=!1,o.allItems.forEach((e=>{(s=e.legendItem||{}).group&&(s.group.translateY=void 0)}))),o.render(),i.placed||(this.getMargins(),this.axes.forEach((function(e){e.visible&&e.render(),i.placed||(e.setScale(),e.updateNames(),l(e.ticks,(function(e){e.isNew=!0,e.isNewLabel=!0})))})),this.getMargins()),i.placed=!0,e.call(this,t,n),o.bubbleLegend.correctSizes(),m(o,p(o))):(e.call(this,t,n),o&&o.options.enabled&&o.bubbleLegend&&(o.render(),m(o,p(o))))}function d(e){let t=e.series,n=0;for(;n<t.length;){if(t[n]&&t[n].isBubble&&t[n].visible&&t[n].zData.length)return n;n++}return-1}function p(e){let t,n,i,r=e.allItems,s=[],o=r.length,a=0,l=0;for(a=0;a<o;a++)if(n=r[a].legendItem||{},i=(r[a+1]||{}).legendItem||{},n.labelHeight&&(r[a].itemHeight=n.labelHeight),r[a]===r[o-1]||n.y!==i.y){for(s.push({height:0}),t=s[s.length-1];l<=a;l++)r[l].itemHeight>t.height&&(t.height=r[l].itemHeight);t.step=a}return s}function f(e){let n=this.bubbleLegend,i=this.options,r=i.bubbleLegend,s=d(this.chart);n&&n.ranges&&n.ranges.length&&(r.ranges.length&&(r.autoRanges=!!r.ranges[0].autoRanges),this.destroyItem(n)),s>=0&&i.enabled&&r.enabled&&(r.seriesIndex=s,this.bubbleLegend=new t(r,this),this.bubbleLegend.addToLegend(e.allItems))}function g(e){let t;if(e.defaultPrevented)return!1;let n=e.legendItem,i=this.chart,r=n.visible;this&&this.bubbleLegend&&(n.visible=!r,n.ignoreSeries=r,t=d(i)>=0,this.bubbleLegend.visible!==t&&(this.update({bubbleLegend:{enabled:t}}),this.bubbleLegend.visible=t),n.visible=r)}function m(e,t){let n,i,r,s,o=e.allItems,a=e.options.rtl,l=0;o.forEach(((e,o)=>{(s=e.legendItem||{}).group&&(n=s.group.translateX||0,i=s.y||0,((r=e.movementX)||a&&e.ranges)&&(r=a?n-e.options.maxSize/2:n+r,s.group.attr({translateX:r})),o>t[l].step&&l++,s.group.attr({translateY:Math.round(i+t[l].height/2)}),s.y=i+t[l].height/2)}))}return{compose:function(t,n){c(o,"Series.BubbleLegend")&&(s({legend:{bubbleLegend:e}}),h(t.prototype,"drawChartBox",u),a(n,"afterGetAllItems",f),a(n,"itemClick",g))}}})),n(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n){let{seriesTypes:{scatter:{prototype:{pointClass:i}}}}=t,{extend:r}=n;class s extends i{haloPath(t){let n=(t&&this.marker&&this.marker.radius||0)+t;if(this.series.chart.inverted){let e=this.pos()||[0,0],{xAxis:t,yAxis:i,chart:r}=this.series;return r.renderer.symbols.circle(t.len-e[1]-n,i.len-e[0]-n,2*n,2*n)}return e.prototype.haloPath.call(this,n)}}return r(s.prototype,{ttBelow:!1}),s})),n(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r,s){let{parse:o}=n,{composed:a,noop:l}=i,{series:c,seriesTypes:{column:{prototype:h},scatter:u}}=r,{addEvent:d,arrayMax:p,arrayMin:f,clamp:g,extend:m,isNumber:v,merge:y,pick:b,pushUnique:w}=s;function x(){let e,t=this.len,{coll:n,isXAxis:i,min:r}=this,s=i?"xData":"yData",o=(this.max||0)-(r||0),a=0,l=t,c=t/o;("xAxis"===n||"yAxis"===n)&&(this.series.forEach((t=>{if(t.bubblePadding&&t.reserveSpace()){this.allowZoomOutside=!0,e=!0;let n=t[s];if(i&&((t.onPoint||t).getRadii(0,0,t),t.onPoint&&(t.radii=t.onPoint.radii)),o>0){let e=n.length;for(;e--;)if(v(n[e])&&this.dataMin<=n[e]&&n[e]<=this.max){let i=t.radii&&t.radii[e]||0;a=Math.min((n[e]-r)*c-i,a),l=Math.max((n[e]-r)*c+i,l)}}}})),e&&o>0&&!this.logarithmic&&(l-=t,c*=(t+Math.max(0,a)-Math.min(l,t))/t,[["min","userMin",a],["max","userMax",l]].forEach((e=>{void 0===b(this.options[e[0]],this[e[1]])&&(this[e[0]]+=e[2]/c)}))))}class S extends u{static compose(t,n,i){e.compose(n,i),w(a,"Series.Bubble")&&d(t,"foundExtremes",x)}animate(e){!e&&this.points.length<this.options.animationLimit&&this.points.forEach((function(e){let{graphic:t,plotX:n=0,plotY:i=0}=e;t&&t.width&&(this.hasRendered||t.attr({x:n,y:i,width:1,height:1}),t.animate(this.markerAttribs(e),this.options.animation))}),this)}getRadii(){let e,t,n,i=this.zData,r=this.yData,s=[],o=this.chart.bubbleZExtremes,{minPxSize:a,maxPxSize:l}=this.getPxExtremes();if(!o){let e,t=Number.MAX_VALUE,n=-Number.MAX_VALUE;this.chart.series.forEach((i=>{if(i.bubblePadding&&i.reserveSpace()){let r=(i.onPoint||i).getZExtremes();r&&(t=Math.min(b(t,r.zMin),r.zMin),n=Math.max(b(n,r.zMax),r.zMax),e=!0)}})),e?(o={zMin:t,zMax:n},this.chart.bubbleZExtremes=o):o={zMin:0,zMax:0}}for(t=0,e=i.length;t<e;t++)n=i[t],s.push(this.getRadius(o.zMin,o.zMax,a,l,n,r&&r[t]));this.radii=s}getRadius(e,t,n,i,r,s){let o=this.options,a="width"!==o.sizeBy,l=o.zThreshold,c=t-e,h=.5;if(null===s||null===r)return null;if(v(r)){if(o.sizeByAbsoluteValue&&(r=Math.abs(r-l),t=c=Math.max(t-l,Math.abs(e-l)),e=0),r<e)return n/2-1;c>0&&(h=(r-e)/c)}return a&&h>=0&&(h=Math.sqrt(h)),Math.ceil(n+h*(i-n))/2}hasData(){return!!this.processedXData.length}markerAttribs(e,t){let n=super.markerAttribs(e,t),{height:i=0,width:r=0}=n;return this.chart.inverted?m(n,{x:(e.plotX||0)-r/2,y:(e.plotY||0)-i/2}):n}pointAttribs(e,t){let n=this.options.marker.fillOpacity,i=c.prototype.pointAttribs.call(this,e,t);return 1!==n&&(i.fill=o(i.fill).setOpacity(n).get("rgba")),i}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:e,options:t,radii:n}=this,{minPxSize:i}=this.getPxExtremes(),r=e.length;for(;r--;){let s=e[r],o=n?n[r]:0;"z"===this.zoneAxis&&(s.negative=(s.z||0)<(t.zThreshold||0)),v(o)&&o>=i/2?(s.marker=m(s.marker,{radius:o,width:2*o,height:2*o}),s.dlBox={x:s.plotX-o,y:s.plotY-o,width:2*o,height:2*o}):(s.shapeArgs=s.plotY=s.dlBox=void 0,s.isInside=!1)}}getPxExtremes(){let e=Math.min(this.chart.plotWidth,this.chart.plotHeight),t=t=>{let n;return"string"==typeof t&&(n=/%$/.test(t),t=parseInt(t,10)),n?e*t/100:t},n=t(b(this.options.minSize,8));return{minPxSize:n,maxPxSize:Math.max(t(b(this.options.maxSize,"20%")),n)}}getZExtremes(){let e=this.options,t=(this.zData||[]).filter(v);if(t.length){let n=b(e.zMin,g(f(t),!1===e.displayNegative?e.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),i=b(e.zMax,p(t));if(v(n)&&v(i))return{zMin:n,zMax:i}}}}return S.defaultOptions=y(u.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:e}=this.series.chart,{z:t}=this.point;return v(t)?e(t,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),m(S.prototype,{alignDataLabel:h.alignDataLabel,applyZones:l,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:t,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),d(S,"updatedData",(e=>{delete e.target.chart.bubbleZExtremes})),d(S,"remove",(e=>{delete e.target.chart.bubbleZExtremes})),r.registerSeriesType("bubble",S),S})),n(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t){let{seriesTypes:{column:{prototype:{pointClass:{prototype:n}}},arearange:{prototype:{pointClass:i}}}}=e,{extend:r,isNumber:s}=t;class o extends i{isValid(){return s(this.low)}}return r(o.prototype,{setState:n.setState}),o})),n(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{noop:r}=t,{seriesTypes:{arearange:s,column:o,column:{prototype:a}}}=n,{addEvent:l,clamp:c,extend:h,isNumber:u,merge:d,pick:p}=i;class f extends s{setOptions(){return d(!0,arguments[0],{stacking:void 0}),s.prototype.setOptions.apply(this,arguments)}translate(){return a.translate.apply(this)}pointAttribs(){return a.pointAttribs.apply(this,arguments)}translate3dPoints(){return a.translate3dPoints.apply(this,arguments)}translate3dShapes(){return a.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){let e,t,n,i,r=this.yAxis,s=this.xAxis,o=s.startAngleRad,a=this.chart,l=this.xAxis.isRadial,h=Math.max(a.chartWidth,a.chartHeight)+999;this.points.forEach((f=>{let g=f.shapeArgs||{},m=this.options.minPointLength,v=f.plotY,y=r.translate(f.high,0,1,0,1);if(u(y)&&u(v))if(f.plotHigh=c(y,-h,h),f.plotLow=c(v,-h,h),i=f.plotHigh,Math.abs(e=p(f.rectPlotY,f.plotY)-f.plotHigh)<m?(t=m-e,e+=t,i-=t/2):e<0&&(e*=-1,i-=e),l&&this.polar)n=f.barX+o,f.shapeType="arc",f.shapeArgs=this.polar.arc(i+e,i,n,n+f.pointWidth);else{g.height=e,g.y=i;let{x:t=0,width:n=0}=g;f.shapeArgs=d(f.shapeArgs,this.crispCol(t,i,n,e)),f.tooltipPos=a.inverted?[r.len+r.pos-a.plotLeft-i-e/2,s.len+s.pos-a.plotTop-t-n/2,e]:[s.left-a.plotLeft+t+n/2,r.pos-a.plotTop+i+e/2,e]}}))}}return f.defaultOptions=d(o.defaultOptions,s.defaultOptions,{borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}}),l(f,"afterColumnTranslate",(function(){f.prototype.afterColumnTranslate.apply(this)}),{order:5}),h(f.prototype,{directTouch:!0,pointClass:e,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:a.adjustForMissingColumns,animate:a.animate,crispCol:a.crispCol,drawGraph:r,drawPoints:a.drawPoints,getSymbol:r,drawTracker:a.drawTracker,getColumnMetrics:a.getColumnMetrics}),n.registerSeriesType("columnrange",f),f})),n(t,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],(function(){return{}})),n(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n){let{column:i}=t.seriesTypes,{clamp:r,merge:s,pick:o}=n;class a extends i{translate(){let e=this.chart,t=this.options,n=this.dense=this.closestPointRange*this.xAxis.transA<2,i=this.borderWidth=o(t.borderWidth,n?0:1),s=this.yAxis,a=t.threshold,l=o(t.minPointLength,5),c=this.getColumnMetrics(),h=c.width,u=this.pointXOffset=c.offset,d=this.translatedThreshold=s.getThreshold(a),p=this.barW=Math.max(h,1+2*i);for(let f of(e.inverted&&(d-=.5),t.pointPadding&&(p=Math.ceil(p)),super.translate(),this.points)){let n,i,g,m,v,y,b,w,x,S,k,_=o(f.yBottom,d),T=999+Math.abs(_),C=r(f.plotY,-T,s.len+T),E=p/2,I=Math.min(C,_),A=Math.max(C,_)-I,P=f.plotX+u;t.centerInCategory&&(P=this.adjustForMissingColumns(P,h,f,c)),f.barX=P,f.pointWidth=h,f.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-C,this.xAxis.len-P-E,A]:[P+E,C+s.pos-e.plotTop,A],n=a+(f.total||f.y),"percent"===t.stacking&&(n=a+(f.y<0)?-100:100);let N=s.toPixels(n,!0);g=(i=e.plotHeight-N-(e.plotHeight-d))?E*(I-N)/i:0,m=i?E*(I+A-N)/i:0,y=P-g+E,b=P+g+E,w=P+m+E,x=P-m+E,S=I-l,k=I+A,f.y<0&&(S=I,k=I+A+l),e.inverted&&(v=s.width-I,i=N-(s.width-d),g=E*(N-v)/i,m=E*(N-(v-A))/i,b=(y=P+E+g)-2*g,w=P-m+E,x=P+m+E,S=I,k=I+A-l,f.y<0&&(k=I+A+l)),f.shapeType="path",f.shapeArgs={x:y,y:S,width:b-y,height:A,d:[["M",y,S],["L",b,S],["L",w,k],["L",x,k],["Z"]]}}}}return a.defaultOptions=s(i.defaultOptions,e),t.registerSeriesType("columnpyramid",a),a})),n(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],(function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}})),n(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r){let{arearange:s}=i.seriesTypes,{addEvent:o,merge:a,extend:l}=r;class c extends e{getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||t.prototype.getColumnMetrics.call(this)}drawDataLabels(){let e=this.pointValKey;if(s)for(let t of(s.prototype.drawDataLabels.call(this),this.points))t.y=t[e]}toYData(e){return[e.low,e.high]}}return c.defaultOptions=a(e.defaultOptions,n),o(c,"afterTranslate",(function(){for(let e of this.points)e.plotLow=e.plotY}),{order:0}),l(c.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),i.registerSeriesType("errorbar",c),c})),n(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],(function(e){let{series:{prototype:{pointClass:t}}}=e;return class extends t{setState(e){this.state=e}}})),n(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{noop:r}=t,{series:s,seriesTypes:{column:o}}=n,{clamp:a,isNumber:l,extend:c,merge:h,pick:u,pInt:d,defined:p}=i;class f extends s{translate(){let e=this.yAxis,t=this.options,n=e.center;this.generatePoints(),this.points.forEach((i=>{let r=h(t.dial,i.dial),s=d(r.radius)*n[2]/200,o=d(r.baseLength)*s/100,c=d(r.rearLength)*s/100,u=r.baseWidth,f=r.topWidth,g=t.overshoot,m=e.startAngleRad+e.translate(i.y,void 0,void 0,void 0,!0);(l(g)||!1===t.wrap)&&(g=l(g)?g/180*Math.PI:0,m=a(m,e.startAngleRad-g,e.endAngleRad+g)),m=180*m/Math.PI,i.shapeType="path";let v=r.path||[["M",-c,-u/2],["L",o,-u/2],["L",s,-f/2],["L",s,f/2],["L",o,u/2],["L",-c,u/2],["Z"]];i.shapeArgs={d:v,translateX:n[0],translateY:n[1],rotation:m},i.plotX=n[0],i.plotY=n[1],p(i.y)&&e.max-e.min&&(i.percentage=(i.y-e.min)/(e.max-e.min)*100)}))}drawPoints(){let e=this,t=e.chart,n=e.yAxis.center,i=e.pivot,r=e.options,s=r.pivot,o=t.renderer;e.points.forEach((n=>{let i=n.graphic,s=n.shapeArgs,a=s.d,l=h(r.dial,n.dial);i?(i.animate(s),s.d=a):n.graphic=o[n.shapeType](s).addClass("highcharts-dial").add(e.group),t.styledMode||n.graphic[i?"animate":"attr"]({stroke:l.borderColor,"stroke-width":l.borderWidth,fill:l.backgroundColor})})),i?i.animate({translateX:n[0],translateY:n[1]}):s&&(e.pivot=o.circle(0,0,s.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(n[0],n[1]).add(e.group),t.styledMode||e.pivot.attr({fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth}))}animate(e){let t=this;e||t.points.forEach((e=>{let n=e.graphic;n&&(n.attr({rotation:180*t.yAxis.startAngleRad/Math.PI}),n.animate({rotation:e.shapeArgs.rotation},t.options.animation))}))}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(e,t){s.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),u(t,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return f.defaultOptions=h(s.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),c(f.prototype,{angular:!0,directTouch:!0,drawGraph:r,drawTracker:o.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:e,trackerGroups:["group","dataLabelsGroup"]}),n.registerSeriesType("gauge",f),f})),n(t,"Series/DragNodesComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t){let{composed:n}=e,{addEvent:i,pushUnique:r}=t;function s(){let e,t,n,r=this;r.container&&(e=i(r.container,"mousedown",(e=>{let s=r.hoverPoint;s&&s.series&&s.series.hasDraggableNodes&&s.series.options.draggable&&(s.series.onMouseDown(s,e),t=i(r.container,"mousemove",(e=>s&&s.series&&s.series.onMouseMove(s,e))),n=i(r.container.ownerDocument,"mouseup",(e=>(t(),n(),s&&s.series&&s.series.onMouseUp(s,e)))))}))),i(r,"destroy",(function(){e()}))}return{compose:function(e){r(n,"DragNodes")&&i(e,"load",s)},onMouseDown:function(e,t){var n;let i=(null===(n=this.chart.pointer)||void 0===n?void 0:n.normalize(t))||t;e.fixedPosition={chartX:i.chartX,chartY:i.chartY,plotX:e.plotX,plotY:e.plotY},e.inDragMode=!0},onMouseMove:function(e,t){if(e.fixedPosition&&e.inDragMode){var n;let i,r,s=this.chart,o=(null===(n=s.pointer)||void 0===n?void 0:n.normalize(t))||t,a=e.fixedPosition.chartX-o.chartX,l=e.fixedPosition.chartY-o.chartY,c=s.graphLayoutsLookup;(Math.abs(a)>5||Math.abs(l)>5)&&(i=e.fixedPosition.plotX-a,r=e.fixedPosition.plotY-l,s.isInsidePlot(i,r)&&(e.plotX=i,e.plotY=r,e.hasDragged=!0,this.redrawHalo(e),c.forEach((e=>{e.restartSimulation()}))))}},onMouseUp:function(e){e.fixedPosition&&(e.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),e.inDragMode=e.hasDragged=!1,this.options.fixedDraggable||delete e.fixedPosition)},redrawHalo:function(e){e&&this.halo&&this.halo.attr({d:e.haloPath(this.options.states.hover.halo.size)})}}})),n(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n){let{setAnimation:i}=e,{composed:r}=t,{addEvent:s,pushUnique:o}=n;function a(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((e=>{e.updateSimulation()})),this.redraw())}function l(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((e=>{e.updateSimulation(!1)})),this.redraw())}function c(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach((e=>{e.stop()}))}function h(){let e,t=!1,n=n=>{n.maxIterations--&&isFinite(n.temperature)&&!n.isStable()&&!n.enableSimulation&&(n.beforeStep&&n.beforeStep(),n.step(),e=!1,t=!0)};if(this.graphLayoutsLookup){for(i(!1,this),this.graphLayoutsLookup.forEach((e=>e.start()));!e;)e=!0,this.graphLayoutsLookup.forEach(n);t&&this.series.forEach((e=>{e&&e.layout&&e.render()}))}}return{compose:function(e){o(r,"GraphLayout")&&(s(e,"afterPrint",a),s(e,"beforePrint",l),s(e,"predraw",c),s(e,"render",h))},integrations:{},layouts:{}}})),n(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],(function(e,t,n){let{seriesTypes:{bubble:{prototype:{pointClass:i}}}}=n;return class extends i{destroy(){var e;return null!==(e=this.series)&&void 0!==e&&e.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),t.prototype.destroy.apply(this,arguments)}firePointEvent(){let e=this.series.options;if(this.isParentNode&&e.parentNode){let n=e.allowPointSelect;e.allowPointSelect=e.parentNode.allowPointSelect,t.prototype.firePointEvent.apply(this,arguments),e.allowPointSelect=n}else t.prototype.firePointEvent.apply(this,arguments)}select(){let n=this.series.chart;this.isParentNode?(n.getSelectedPoints=n.getSelectedParentNodes,t.prototype.select.apply(this,arguments),n.getSelectedPoints=e.prototype.getSelectedPoints):t.prototype.select.apply(this,arguments)}}})),n(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],(function(e){let{isNumber:t}=e;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){let{numberFormatter:e}=this.series.chart,{value:n}=this.point;return t(n)?e(n,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}})),n(t,"Series/Networkgraph/VerletIntegration.js",[],(function(){return{attractive:function(e,t,n){let i=e.getMass(),r=-n.x*t*this.diffTemperature,s=-n.y*t*this.diffTemperature;e.fromNode.fixedPosition||(e.fromNode.plotX-=r*i.fromNode/e.fromNode.degree,e.fromNode.plotY-=s*i.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.plotX+=r*i.toNode/e.toNode.degree,e.toNode.plotY+=s*i.toNode/e.toNode.degree)},attractiveForceFunction:function(e,t){return(t-e)/e},barycenter:function(){let e=this.options.gravitationalConstant||0,t=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*e,n=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*e;this.nodes.forEach((function(e){e.fixedPosition||(e.plotX-=t/e.mass/e.degree,e.plotY-=n/e.mass/e.degree)}))},getK:function(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.5)},integrate:function(e,t){let n=-e.options.friction,i=e.options.maxSpeed,r=t.prevX,s=t.prevY,o=(t.plotX+t.dispX-r)*n,a=(t.plotY+t.dispY-s)*n,l=Math.abs,c=l(o)/(o||1),h=l(a)/(a||1),u=c*Math.min(i,Math.abs(o)),d=h*Math.min(i,Math.abs(a));t.prevX=t.plotX+t.dispX,t.prevY=t.plotY+t.dispY,t.plotX+=u,t.plotY+=d,t.temperature=e.vectorLength({x:u,y:d})},repulsive:function(e,t,n){let i=t*this.diffTemperature/e.mass/e.degree;e.fixedPosition||(e.plotX+=n.x*i,e.plotY+=n.y*i)},repulsiveForceFunction:function(e,t){return(t-e)/e*(t>e?1:0)}}})),n(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],(function(e,t){let{noop:n}=e;return{barycenter:function(){let e,t,n=this.options.gravitationalConstant,i=this.box,r=this.nodes;for(let s of r)this.options.splitSeries&&!s.isParentNode?(e=s.series.parentNode.plotX,t=s.series.parentNode.plotY):(e=i.width/2,t=i.height/2),s.fixedPosition||(s.plotX-=(s.plotX-e)*n/(s.mass*Math.sqrt(r.length)),s.plotY-=(s.plotY-t)*n/(s.mass*Math.sqrt(r.length)))},getK:n,integrate:t.integrate,repulsive:function(e,t,n,i){let r=t*this.diffTemperature/e.mass/e.degree,s=n.x*r,o=n.y*r;e.fixedPosition||(e.plotX+=s,e.plotY+=o),i.fixedPosition||(i.plotX-=s,i.plotY-=o)},repulsiveForceFunction:function(e,t,n,i){return Math.min(e,(n.marker.radius+i.marker.radius)/2)}}})),n(t,"Series/Networkgraph/EulerIntegration.js",[],(function(){return{attractive:function(e,t,n,i){let r=e.getMass(),s=n.x/i*t,o=n.y/i*t;e.fromNode.fixedPosition||(e.fromNode.dispX-=s*r.fromNode/e.fromNode.degree,e.fromNode.dispY-=o*r.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.dispX+=s*r.toNode/e.toNode.degree,e.toNode.dispY+=o*r.toNode/e.toNode.degree)},attractiveForceFunction:function(e,t){return e*e/t},barycenter:function(){let e=this.options.gravitationalConstant,t=this.barycenter.xFactor,n=this.barycenter.yFactor;this.nodes.forEach((function(i){if(!i.fixedPosition){let r=i.getDegree(),s=r*(1+r/2);i.dispX+=(t-i.plotX)*e*s/i.degree,i.dispY+=(n-i.plotY)*e*s/i.degree}}))},getK:function(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.3)},integrate:function(e,t){t.dispX+=t.dispX*e.options.friction,t.dispY+=t.dispY*e.options.friction;let n=t.temperature=e.vectorLength({x:t.dispX,y:t.dispY});0!==n&&(t.plotX+=t.dispX/n*Math.min(Math.abs(t.dispX),e.temperature),t.plotY+=t.dispY/n*Math.min(Math.abs(t.dispY),e.temperature))},repulsive:function(e,t,n,i){e.dispX+=n.x/i*t/e.degree,e.dispY+=n.y/i*t/e.degree},repulsiveForceFunction:function(e,t){return t*t/e}}})),n(t,"Series/Networkgraph/QuadTreeNode.js",[],(function(){class e{constructor(e){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=e,this.boxSize=Math.min(e.width,e.height)}divideBox(){let t=this.box.width/2,n=this.box.height/2;this.nodes[0]=new e({left:this.box.left,top:this.box.top,width:t,height:n}),this.nodes[1]=new e({left:this.box.left+t,top:this.box.top,width:t,height:n}),this.nodes[2]=new e({left:this.box.left+t,top:this.box.top+n,width:t,height:n}),this.nodes[3]=new e({left:this.box.left,top:this.box.top+n,width:t,height:n})}getBoxPosition(e){let t=e.plotX<this.box.left+this.box.width/2,n=e.plotY<this.box.top+this.box.height/2;return t?n?0:3:n?1:2}insert(t,n){let i;this.isInternal?this.nodes[this.getBoxPosition(t)].insert(t,n-1):(this.isEmpty=!1,this.body?n?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,n-1),this.body=!0),this.nodes[this.getBoxPosition(t)].insert(t,n-1)):((i=new e({top:t.plotX||NaN,left:t.plotY||NaN,width:.1,height:.1})).body=t,i.isInternal=!1,this.nodes.push(i)):(this.isInternal=!1,this.body=t))}updateMassAndCenter(){let e=0,t=0,n=0;if(this.isInternal){for(let i of this.nodes)i.isEmpty||(e+=i.mass,t+=i.plotX*i.mass,n+=i.plotY*i.mass);t/=e,n/=e}else this.body&&(e=this.body.mass,t=this.body.plotX,n=this.body.plotY);this.mass=e,this.plotX=t,this.plotY=n}}return e})),n(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],(function(e){return class{constructor(t,n,i,r){this.box={left:t,top:n,width:i,height:r},this.maxDepth=25,this.root=new e(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,(function(e){e.updateMassAndCenter()}))}insertNodes(e){for(let t of e)this.root.insert(t,this.maxDepth)}visitNodeRecursive(e,t,n){let i;if(e||(e=this.root),e===this.root&&t&&(i=t(e)),!1!==i){for(let r of e.nodes){if(r.isInternal){if(t&&(i=t(r)),!1===i)continue;this.visitNodeRecursive(r,t,n)}else r.body&&t&&t(r.body);n&&n(r)}e===this.root&&n&&n(e)}}}})),n(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],(function(e,t,n,i,r,s){let{win:o}=t,{clamp:a,defined:l,isFunction:c,fireEvent:h,pick:u}=r;class d{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(t){n.compose(t),n.integrations.euler=e,n.integrations.verlet=s,n.layouts["reingold-fruchterman"]=d}init(e){this.options=e,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=n.integrations[e.integration],this.enableSimulation=e.enableSimulation,this.attractiveForce=u(e.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=u(e.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=e.approximation}updateSimulation(e){this.enableSimulation=u(e,this.options.enableSimulation)}start(){let e=this.series,t=this.options;this.currentStep=0,this.forces=e[0]&&e[0].forces||[],this.chart=e[0]&&e[0].chart,this.initialRendering&&(this.initPositions(),e.forEach((function(e){e.finishedAnimating=!0,e.render()}))),this.setK(),this.resetSimulation(t),this.enableSimulation&&this.step()}step(){let e=this.series;for(let t of(this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[t+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let t of e)t.chart&&t.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&o.cancelAnimationFrame(this.simulation),this.simulation=o.requestAnimationFrame((()=>this.step()))):(this.simulation=!1,this.series.forEach((e=>{h(e,"afterSimulation")})))}}stop(){this.simulation&&o.cancelAnimationFrame(this.simulation)}setArea(e,t,n,i){this.box={left:e,top:t,width:n,height:i}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(e,t){for(let n of e)-1===t.indexOf(n)&&t.push(n)}removeElementFromCollection(e,t){let n=t.indexOf(e);-1!==n&&t.splice(n,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(e){this.maxIterations=u(e,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(e){this.initialRendering=e}createQuadTree(){this.quadTree=new i(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let e=this.options.initialPositions;if(c(e))for(let t of(e.call(this),this.nodes))l(t.prevX)||(t.prevX=t.plotX),l(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0;else"circle"===e?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let e,t=this.box,n=this.nodes,i=2*Math.PI/(n.length+1),r=n.filter((function(e){return 0===e.linksTo.length})),s={},o=this.options.initialPositionRadius,a=e=>{for(let t of e.linksFrom||[])s[t.toNode.id]||(s[t.toNode.id]=!0,l.push(t.toNode),a(t.toNode))},l=[];for(let c of r)l.push(c),a(c);if(l.length)for(let c of n)-1===l.indexOf(c)&&l.push(c);else l=n;for(let c=0,h=l.length;c<h;++c)(e=l[c]).plotX=e.prevX=u(e.plotX,t.width/2+o*Math.cos(c*i)),e.plotY=e.prevY=u(e.plotY,t.height/2+o*Math.sin(c*i)),e.dispX=0,e.dispY=0}setRandomPositions(){let e,t=this.box,n=this.nodes,i=n.length+1,r=e=>{let t=e*e/Math.PI;return t-Math.floor(t)};for(let s=0,o=n.length;s<o;++s)(e=n[s]).plotX=e.prevX=u(e.plotX,t.width*r(s)),e.plotY=e.prevY=u(e.plotY,t.height*r(i+s)),e.dispX=0,e.dispY=0}force(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.integration[e].apply(this,n)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let e=0,t=0,n=0;for(let i of this.nodes)t+=i.plotX*i.mass,n+=i.plotY*i.mass,e+=i.mass;return this.barycenter={x:t,y:n,xFactor:t/e,yFactor:n/e},this.barycenter}barnesHutApproximation(e,t){let n,i,r=this.getDistXY(e,t),s=this.vectorLength(r);return e!==t&&0!==s&&(t.isInternal?t.boxSize/s<this.options.theta&&0!==s?(i=this.repulsiveForce(s,this.k),this.force("repulsive",e,i*t.mass,r,s),n=!1):n=!0:(i=this.repulsiveForce(s,this.k),this.force("repulsive",e,i*t.mass,r,s))),n}repulsiveForces(){if("barnes-hut"===this.approximation)for(let e of this.nodes)this.quadTree.visitNodeRecursive(null,(t=>this.barnesHutApproximation(e,t)));else{let e,t,n;for(let i of this.nodes)for(let r of this.nodes)i===r||i.fixedPosition||(n=this.getDistXY(i,r),0!==(t=this.vectorLength(n))&&(e=this.repulsiveForce(t,this.k),this.force("repulsive",i,e*r.mass,n,t)))}}attractiveForces(){let e,t,n;for(let i of this.links)i.fromNode&&i.toNode&&(e=this.getDistXY(i.fromNode,i.toNode),0!==(t=this.vectorLength(e))&&(n=this.attractiveForce(t,this.k),this.force("attractive",i,n,e,t)))}applyLimits(){for(let e of this.nodes)e.fixedPosition||(this.integration.integrate(this,e),this.applyLimitBox(e,this.box),e.dispX=0,e.dispY=0)}applyLimitBox(e,t){let n=e.radius;e.plotX=a(e.plotX,t.left+n,t.width-n),e.plotY=a(e.plotY,t.top+n,t.height-n)}coolDown(e,t,n){return e-t*n}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let e=0;for(let t of this.nodes)e+=t.temperature;return e}vectorLength(e){return Math.sqrt(e.x*e.x+e.y*e.y)}getDistR(e,t){let n=this.getDistXY(e,t);return this.vectorLength(n)}getDistXY(e,t){let n=e.plotX-t.plotX,i=e.plotY-t.plotY;return{x:n,y:i,absX:Math.abs(n),absY:Math.abs(i)}}}return d})),n(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{addEvent:r,pick:s}=i;function o(){let e=this.series,t=[];return e.forEach((e=>{e.parentNode&&e.parentNode.selected&&t.push(e.parentNode)})),t}function a(){this.allDataPoints&&delete this.allDataPoints}class l extends n{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.series=[]}static compose(i){n.compose(i),e.integrations.packedbubble=t,e.layouts.packedbubble=l;let s=i.prototype;s.getSelectedParentNodes||(r(i,"beforeRedraw",a),s.getSelectedParentNodes=o)}beforeStep(){this.options.marker&&this.series.forEach((e=>{e&&e.calculateParentRadius()}))}isStable(){let e=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&e<1e-5||this.temperature<=0}setCircularPositions(){let e,t,n=this.box,i=this.nodes,r=2*Math.PI/(i.length+1),o=this.options.initialPositionRadius,a=0;for(let l of i)this.options.splitSeries&&!l.isParentNode?(e=l.series.parentNode.plotX,t=l.series.parentNode.plotY):(e=n.width/2,t=n.height/2),l.plotX=l.prevX=s(l.plotX,e+o*Math.cos(l.index||a*r)),l.plotY=l.prevY=s(l.plotY,t+o*Math.sin(l.index||a*r)),l.dispX=0,l.dispY=0,a++}repulsiveForces(){let e,t,n,i=this,r=i.options.bubblePadding,s=i.nodes;s.forEach((o=>{o.degree=o.mass,o.neighbours=0,s.forEach((s=>{e=0,o!==s&&!o.fixedPosition&&(i.options.seriesInteraction||o.series===s.series)&&(n=i.getDistXY(o,s),(t=i.vectorLength(n)-(o.marker.radius+s.marker.radius+r))<0&&(o.degree+=.01,o.neighbours++,e=i.repulsiveForce(-t/Math.sqrt(o.neighbours),i.k,o,s)),i.force("repulsive",o,e*s.mass,n,s,t))}))}))}applyLimitBox(e,t){let n,i;this.options.splitSeries&&!e.isParentNode&&this.options.parentNodeLimit&&(n=this.getDistXY(e,e.series.parentNode),(i=e.series.parentNodeRadius-e.marker.radius-this.vectorLength(n))<0&&i>-2*e.marker.radius&&(e.plotX-=.01*n.x,e.plotY-=.01*n.y)),super.applyLimitBox(e,t)}}return e.layouts.packedbubble=l,l})),n(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],(function(e,t){let{merge:n,syncTimeout:i}=e,{animObject:r}=t;return{initDataLabels:function(){let e=this.options.dataLabels;if(!this.dataLabelsGroup){let t=this.initDataLabelsGroup();return!this.chart.styledMode&&null!==e&&void 0!==e&&e.style&&t.css(e.style),t.attr({opacity:0}),this.visible&&t.show(),t}return this.dataLabelsGroup.attr(n({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){var e;let t=this.options.dataLabels;null!==t&&void 0!==t&&t.defer&&null!==(e=this.options.layoutAlgorithm)&&void 0!==e&&e.enableSimulation?i((()=>{this.deferDataLabels=!1}),t?r(t.animation).defer:0):this.deferDataLabels=!1}}})),n(t,"Extensions/TextPath.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t){let{deg2rad:n}=e,{addEvent:i,merge:r,uniqueKey:s,defined:o,extend:a}=t;function l(e,t){t=r(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},t);let n=this.renderer.url,l=this.text||this,c=l.textPath,{attributes:h,enabled:u}=t;if(e=e||c&&c.path,c&&c.undo(),e&&u){let t=i(l,"afterModifyTree",(t=>{if(e&&u){let i=e.attr("id");i||e.attr("id",i=s());let r={x:0,y:0};o(h.dx)&&(r.dx=h.dx,delete h.dx),o(h.dy)&&(r.dy=h.dy,delete h.dy),l.attr(r),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let c=t.nodes.slice(0);t.nodes.length=0,t.nodes[0]={tagName:"textPath",attributes:a(h,{"text-anchor":h.textAnchor,href:"".concat(n,"#").concat(i)}),children:c}}}));l.textPath={path:e,undo:t}}else l.attr({dx:0,dy:0}),delete l.textPath;return this.added&&(l.textCache="",this.renderer.buildText(l)),this}function c(e){var t;let i=e.bBox,r=null===(t=this.element)||void 0===t?void 0:t.querySelector("textPath");if(r){let t=[],{b:s,h:o}=this.renderer.fontMetrics(this.element),a=o-s,l=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),c=r.innerHTML.replace(l,"").split(/<tspan class="highcharts-br"[^>]*>/),h=c.length,u=(e,t)=>{let{x:i,y:o}=t,l=(r.getRotationOfChar(e)-90)*n,c=Math.cos(l),h=Math.sin(l);return[[i-a*c,o-a*h],[i+s*c,o+s*h]]};for(let n=0,i=0;i<h;i++){let s=c[i].length;for(let o=0;o<s;o+=5)try{let e=n+o+i,[s,a]=u(e,r.getStartPositionOfChar(e));0===o?(t.push(a),t.push(s)):(0===i&&t.unshift(a),i===h-1&&t.push(s))}catch(e){break}n+=s-1;try{let e=n+i,s=r.getEndPositionOfChar(e),[o,a]=u(e,s);t.unshift(a),t.unshift(o)}catch(e){break}}t.length&&t.push(t[0].slice()),i.polygon=t}return i}function h(e){var t;let n=e.labelOptions,i=e.point,r=n[i.formatPrefix+"TextPath"]||n.textPath;r&&!n.useHTML&&(this.setTextPath((null===(t=i.getDataLabelPath)||void 0===t?void 0:t.call(i,this))||i.graphic,r),i.dataLabelPath&&!r.enabled&&(i.dataLabelPath=i.dataLabelPath.destroy()))}return{compose:function(e){i(e,"afterGetBBox",c),i(e,"beforeAddingDataLabel",h);let t=e.prototype;t.setTextPath||(t.setTextPath=l)}}})),n(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Extensions/TextPath.js"]],(function(e,t,n,i,r,s,o,a,l,c,h,u){let{parse:d}=e,{noop:p}=i,{series:{prototype:f},seriesTypes:{bubble:g}}=a,{initDataLabels:m,initDataLabelsDefer:v}=l,{addEvent:y,clamp:b,defined:w,extend:x,fireEvent:S,isArray:k,isNumber:_,merge:T,pick:C}=c;u.compose(h);class E extends g{constructor(){super(...arguments),this.parentNodeMass=0,this.deferDataLabels=!0}static compose(e,n,i){g.compose(e,n,i),t.compose(n),o.compose(n)}accumulateAllPoints(){let e,t=this.chart,n=[];for(let i of t.series)if(i.is("packedbubble")&&i.reserveSpace()){e=i.yData||[];for(let t=0;t<e.length;t++)n.push([null,null,e[t],i.index,t,{id:t,marker:{radius:0}}])}return n}addLayout(){let e,t=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},i=t.type||"packedbubble",r=this.chart.options.chart,s=this.chart.graphLayoutsStorage,o=this.chart.graphLayoutsLookup;s||(this.chart.graphLayoutsStorage=s={},this.chart.graphLayoutsLookup=o=[]),(e=s[i])||(t.enableSimulation=w(r.forExport)?!r.forExport:t.enableSimulation,s[i]=e=new n.layouts[i],e.init(t),o.splice(e.index,0,e)),this.layout=e,this.points.forEach((e=>{e.mass=2,e.degree=1,e.collisionNmb=1})),e.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),e.addElementsToCollection([this],e.series),e.addElementsToCollection(this.points,e.nodes)}addSeriesLayout(){let e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},t=e.type||"packedbubble",i=this.chart.graphLayoutsStorage,r=this.chart.graphLayoutsLookup,s=T(e,e.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),o=i[t+"-series"];o||(i[t+"-series"]=o=new n.layouts[t],o.init(s),r.splice(o.index,0,o)),this.parentNodeLayout=o,this.createParentNodes()}calculateParentRadius(){let e=this.seriesBox();this.parentNodeRadius=b(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,e?Math.max(Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let e=this.chart.series,t=this.options.zMin,n=this.options.zMax,i=1/0,r=-1/0;return t&&n?[t,n]:(e.forEach((e=>{e.yData.forEach((e=>{w(e)&&(e>r&&(r=e),e<i&&(i=e))}))})),[t=C(t,i),n=C(n,r)])}checkOverlap(e,t){let n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)-Math.abs(e[2]+t[2])<-.001}createParentNodes(){let e,t=this.pointClass,n=this.chart,i=this.parentNodeLayout,r=this.layout.options,s=this.parentNode,o={radius:this.parentNodeRadius,lineColor:this.color,fillColor:d(this.color).brighten(.4).get()};r.parentNodeOptions&&(o=T(r.parentNodeOptions.marker||{},o)),this.parentNodeMass=0,this.points.forEach((e=>{this.parentNodeMass+=Math.PI*Math.pow(e.marker.radius,2)})),this.calculateParentRadius(),i.nodes.forEach((t=>{t.seriesIndex===this.index&&(e=!0)})),i.setArea(0,0,n.plotWidth,n.plotHeight),e||(s||(s=new t(this,{mass:this.parentNodeRadius/2,marker:o,dataLabels:{inside:!1},states:{normal:{marker:o},hover:{marker:o}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(s.plotX=this.parentNode.plotX,s.plotY=this.parentNode.plotY),this.parentNode=s,i.addElementsToCollection([this],i.series),i.addElementsToCollection([s],i.nodes))}deferLayout(){let e=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),e.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach((e=>{e.removeElementFromCollection(this,e.series)}),this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),f.destroy.apply(this,arguments)}drawDataLabels(){!this.deferDataLabels&&(f.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",f.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){var e;if(!this.layout||!this.layout.options.splitSeries)return;let t=this.chart,n=this.layout.options.parentNodeOptions.marker,i={fill:n.fillColor||d(this.color).brighten(.4).get(),opacity:n.fillOpacity,stroke:n.lineColor||this.color,"stroke-width":C(n.lineWidth,this.options.lineWidth)},r={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,t.seriesGroup),null!==(e=this.group)&&void 0!==e&&e.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&w(this.parentNode.plotX)&&w(this.parentNode.plotY)&&w(this.parentNodeRadius)&&(r=T({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},i),this.parentNode.graphic||(this.graph=this.parentNode.graphic=t.renderer.symbol(i.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(r))}drawTracker(){let e,t=this.parentNode;super.drawTracker(),t&&(e=k(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),e.forEach((e=>{(e.div||e.element).point=t})))}getPointRadius(){let e,t,n,i,r=this.chart,s=r.plotWidth,o=r.plotHeight,a=this.options,l=a.useSimulation,c=Math.min(s,o),h={},u=[],d=r.allDataPoints||[],p=d.length;["minSize","maxSize"].forEach((e=>{let t=parseInt(a[e],10),n=/%$/.test(a[e]);h[e]=n?c*t/100:t*Math.sqrt(p)})),r.minRadius=e=h.minSize/Math.sqrt(p),r.maxRadius=t=h.maxSize/Math.sqrt(p);let f=l?this.calculateZExtremes():[e,t];d.forEach(((r,s)=>{n=l?b(r[2],f[0],f[1]):r[2],0===(i=this.getRadius(f[0],f[1],e,t,n))&&(i=null),d[s][2]=i,u.push(i)})),this.radii=u}init(){return f.init.apply(this,arguments),v.call(this),this.eventsToUnbind.push(y(this,"updatedData",(function(){this.chart.series.forEach((e=>{e.type===this.type&&(e.isDirty=!0)}),this)}))),this}onMouseUp(e){if(e.fixedPosition&&!e.removed){let n,i=this.layout,r=this.parentNodeLayout;r&&i.options.dragBetweenSeries&&r.nodes.forEach((t=>{e&&e.marker&&t!==e.series.parentNode&&(n=i.getDistXY(e,t),i.vectorLength(n)-t.marker.radius-e.marker.radius<0&&(t.series.addPoint(T(e.options,{plotX:e.plotX,plotY:e.plotY}),!1),i.removeElementFromCollection(e,i.nodes),e.remove()))})),t.onMouseUp.apply(this,arguments)}}placeBubbles(e){let t,n,i=this.checkOverlap,r=this.positionBubble,s=[],o=1,a=0,l=0,c=[],h=e.sort(((e,t)=>t[2]-e[2]));if(h.length){if(s.push([[0,0,h[0][2],h[0][3],h[0][4]]]),h.length>1)for(s.push([[0,0-h[1][2]-h[0][2],h[1][2],h[1][3],h[1][4]]]),n=2;n<h.length;n++)h[n][2]=h[n][2]||1,i(t=r(s[o][a],s[o-1][l],h[n]),s[o][0])?(s.push([]),l=0,s[o+1].push(r(s[o][a],s[o][0],h[n])),o++,a=0):o>1&&s[o-1][l+1]&&i(t,s[o-1][l+1])?(l++,s[o].push(r(s[o][a],s[o-1][l],h[n])),a++):(a++,s[o].push(t));this.chart.stages=s,this.chart.rawPositions=[].concat.apply([],s),this.resizeRadius(),c=this.chart.rawPositions}return c}pointAttribs(e,t){let n=this.options,i=e&&e.isParentNode,r=n.marker;i&&n.layoutAlgorithm&&n.layoutAlgorithm.parentNodeOptions&&(r=n.layoutAlgorithm.parentNodeOptions.marker);let s=r.fillOpacity,o=f.pointAttribs.call(this,e,t);return 1!==s&&(o["fill-opacity"]=s),o}positionBubble(e,t,n){let i=Math.asin,r=Math.acos,s=Math.pow,o=Math.abs,a=(0,Math.sqrt)(s(e[0]-t[0],2)+s(e[1]-t[1],2)),l=r((s(a,2)+s(n[2]+t[2],2)-s(n[2]+e[2],2))/(2*(n[2]+t[2])*a)),c=i(o(e[0]-t[0])/a),h=(e[1]-t[1]<0?0:Math.PI)+l+c*((e[0]-t[0])*(e[1]-t[1])<0?1:-1),u=Math.cos(h),d=Math.sin(h);return[t[0]+(t[2]+n[2])*d,t[1]-(t[2]+n[2])*u,n[2],n[3],n[4]]}render(){let e=[];f.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach((t=>{k(t.dataLabels)&&t.dataLabels.forEach((t=>{e.push(t)}))})),this.options.useSimulation&&this.chart.hideOverlappingLabels(e))}resizeRadius(){let e,t,n,i,r,s=this.chart,o=s.rawPositions,a=Math.min,l=Math.max,c=s.plotLeft,h=s.plotTop,u=s.plotHeight,d=s.plotWidth;for(let m of(e=n=Number.POSITIVE_INFINITY,t=i=Number.NEGATIVE_INFINITY,o))r=m[2],e=a(e,m[0]-r),t=l(t,m[0]+r),n=a(n,m[1]-r),i=l(i,m[1]+r);let p=[t-e,i-n],f=[(d-c)/p[0],(u-h)/p[1]],g=a.apply([],f);if(Math.abs(g-1)>1e-10){for(let e of o)e[2]*=g;this.placeBubbles(o)}else s.diffY=u/2+h-n-(i-n)/2,s.diffX=d/2+c-e-(t-e)/2}seriesBox(){let e,t=this.chart,n=this.data,i=Math.max,r=Math.min,s=[t.plotLeft,t.plotLeft+t.plotWidth,t.plotTop,t.plotTop+t.plotHeight];return n.forEach((t=>{w(t.plotX)&&w(t.plotY)&&t.marker.radius&&(e=t.marker.radius,s[0]=r(s[0],t.plotX-e),s[1]=i(s[1],t.plotX+e),s[2]=r(s[2],t.plotY-e),s[3]=i(s[3],t.plotY+e))})),_(s.width/s.height)?s:null}setVisible(){let e=this;f.setVisible.apply(e,arguments),e.parentNodeLayout&&e.graph?e.visible?(e.graph.show(),e.parentNode.dataLabel&&e.parentNode.dataLabel.show()):(e.graph.hide(),e.parentNodeLayout.removeElementFromCollection(e.parentNode,e.parentNodeLayout.nodes),e.parentNode.dataLabel&&e.parentNode.dataLabel.hide()):e.layout&&(e.visible?e.layout.addElementsToCollection(e.points,e.layout.nodes):e.points.forEach((t=>{e.layout.removeElementFromCollection(t,e.layout.nodes)})))}translate(){let e,t,n,i=this.chart,r=this.data,s=this.index,o=this.options.useSimulation;for(let a of(this.processedXData=this.xData,this.generatePoints(),w(i.allDataPoints)||(i.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),o?n=i.allDataPoints:(n=this.placeBubbles(i.allDataPoints),this.options.draggable=!1),n))a[3]===s&&(e=r[a[4]],t=C(a[2],void 0),o||(e.plotX=a[0]-i.plotLeft+i.diffX,e.plotY=a[1]-i.plotTop+i.diffY),_(t)&&(e.marker=x(e.marker,{radius:t,width:2*t,height:2*t}),e.radius=t));o&&this.deferLayout(),S(this,"afterTranslate")}}return E.defaultOptions=T(g.defaultOptions,s),x(E.prototype,{pointClass:r,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:m,alignDataLabel:f.alignDataLabel,indexateNodes:p,onMouseDown:t.onMouseDown,onMouseMove:t.onMouseMove,redrawHalo:t.redrawHalo,searchPoint:p}),a.registerSeriesType("packedbubble",E),E})),n(t,"Series/Polygon/PolygonSeriesDefaults.js",[],(function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}})),n(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Series/Polygon/PolygonSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{noop:r}=e,{area:s,line:o,scatter:a}=n.seriesTypes,{extend:l,merge:c}=i;class h extends a{getGraphPath(){let e=o.prototype.getGraphPath.call(this),t=e.length+1;for(;t--;)(t===e.length||"M"===e[t][0])&&t>0&&e.splice(t,0,["Z"]);return this.areaPath=e,e}drawGraph(){this.options.fillColor=this.color,s.prototype.drawGraph.call(this)}}return h.defaultOptions=c(a.defaultOptions,t),l(h.prototype,{type:"polygon",drawTracker:o.prototype.drawTracker,setStackedPoints:r}),n.registerSeriesType("polygon",h),h})),n(t,"Core/Axis/RadialAxisDefaults.js",[],(function(){return{circular:{gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},radial:{gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",padding:5,x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},radialGauge:{endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2}}})),n(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/RadialAxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n,i){var r;let{defaultOptions:s}=t,{composed:o,noop:a}=n,{addEvent:l,correctFloat:c,defined:h,extend:u,fireEvent:d,isObject:p,merge:f,pick:g,pushUnique:m,relativeLength:v,wrap:y}=i;return function(t){function i(){this.autoConnect=this.isCircular&&void 0===g(this.userMax,this.options.max)&&c(this.endAngleRad-this.startAngleRad)===c(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function r(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map((e=>this.ticks[e]&&this.ticks[e].label)).filter((e=>!!e))}}function b(){return a}function w(e,t,n){let i,r,s,o=this.pane.center,a=e.value;return this.isCircular?(h(a)?e.point&&(e.point.shapeArgs||{}).start&&(a=this.chart.inverted?this.translate(e.point.rectPlotY,!0):e.point.x):(r=e.chartX||0,s=e.chartY||0,a=this.translate(Math.atan2(s-n,r-t)-this.startAngleRad,!0)),r=(i=this.getPosition(a)).x,s=i.y):(h(a)||(r=e.chartX,s=e.chartY),h(r)&&h(s)&&(n=o[1]+this.chart.plotTop,a=this.translate(Math.min(Math.sqrt(Math.pow(r-t,2)+Math.pow(s-n,2)),o[2]/2)-o[3]/2,!0))),[a,r||0,s||0]}function x(e,t,n){let i,r,s=this.pane.center,o=this.chart,a=this.left||0,l=this.top||0,c=g(t,s[2]/2-this.offset);return void 0===n&&(n=this.horiz?0:this.center&&-this.center[3]/2),n&&(c+=n),this.isCircular||void 0!==t?((r=this.chart.renderer.symbols.arc(a+s[0],l+s[1],c,c,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[a+s[0]],r.yBounds=[l+s[1]-c]):(i=this.postTranslate(this.angleRad,c),r=[["M",this.center[0]+o.plotLeft,this.center[1]+o.plotTop],["L",i.x,i.y]]),r}function S(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function k(e,t,n){let i,r,s,o,a,l,c=this.chart,h=e=>{if("string"==typeof e){let t=parseInt(e,10);return y.test(e)&&(t=t*p/100),t}return e},u=this.center,d=this.startAngleRad,p=u[2]/2,f=Math.min(this.offset,0),m=this.left||0,v=this.top||0,y=/%$/,b=this.isCircular,w=g(h(n.outerRadius),p),x=h(n.innerRadius),S=g(h(n.thickness),10);if("polygon"===this.options.gridLineInterpolation)l=this.getPlotLinePath({value:e}).concat(this.getPlotLinePath({value:t,reverse:!0}));else{e=Math.max(e,this.min),t=Math.min(t,this.max);let h=this.translate(e),p=this.translate(t);b||(w=h||0,x=p||0),"circle"!==n.shape&&b?(i=d+(h||0),r=d+(p||0)):(i=-Math.PI/2,r=1.5*Math.PI,a=!0),w-=f,S-=f,l=c.renderer.symbols.arc(m+u[0],v+u[1],w,w,{start:Math.min(i,r),end:Math.max(i,r),innerR:g(x,w-S),open:a,borderRadius:n.borderRadius}),b&&(s=(r+i)/2,o=m+u[0]+u[2]/2*Math.cos(s),l.xBounds=s>-Math.PI/2&&s<Math.PI/2?[o,c.plotWidth]:[0,o],l.yBounds=[v+u[1]+u[2]/2*Math.sin(s)],l.yBounds[0]+=s>-Math.PI&&s<0||s>Math.PI?-10:10)}return l}function _(e){let t,n,i,r,s,o,a,l,c,h=this.pane.center,u=this.chart,d=u.inverted,p=e.reverse,f=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},g=f.innerRadius||"0%",m=f.outerRadius||"100%",y=h[0]+u.plotLeft,b=h[1]+u.plotTop,w=this.height,x=e.isCrosshair,S=h[3]/2,k=e.value,_=this.getPosition(k),T=_.x,C=_.y;if(x&&(k=(l=this.getCrosshairPosition(e,y,b))[0],T=l[1],C=l[2]),this.isCircular)n=Math.sqrt(Math.pow(T-y,2)+Math.pow(C-b,2)),i="string"==typeof g?v(g,1):g/n,r="string"==typeof m?v(m,1):m/n,h&&S&&(i<(t=S/n)&&(i=t),r<t&&(r=t)),c=[["M",y+i*(T-y),b-i*(b-C)],["L",T-(1-r)*(T-y),C+(1-r)*(b-C)]];else if((k=this.translate(k))&&(k<0||k>w)&&(k=0),"circle"===this.options.gridLineInterpolation)c=this.getLinePath(0,k,S);else if(c=[],u[d?"yAxis":"xAxis"].forEach((e=>{e.pane===this.pane&&(s=e)})),s){a=s.tickPositions,s.autoConnect&&(a=a.concat([a[0]])),p&&(a=a.slice().reverse()),k&&(k+=S);for(let e=0;e<a.length;e++)o=s.getPosition(a[e],k),c.push(e?["L",o.x,o.y]:["M",o.x,o.y])}return c}function T(e,t){let n=this.translate(e);return this.postTranslate(this.isCircular?n:this.angleRad,g(this.isCircular?t:n<0?0:n,this.center[2]/2)-this.offset)}function C(){let e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}function E(e){e.beforeSetTickPositions=i,e.createLabelCollector=r,e.getCrosshairPosition=w,e.getLinePath=x,e.getOffset=S,e.getPlotBandPath=k,e.getPlotLinePath=_,e.getPosition=T,e.getTitlePosition=C,e.postTranslate=R,e.setAxisSize=F,e.setAxisTranslation=U,e.setOptions=B}function I(){let e=this.chart,t=this.options,n=e.angular&&this.isXAxis,i=this.pane,r=i&&i.options;if(!n&&i&&(e.angular||e.polar)){let e=2*Math.PI,n=(g(r.startAngle,0)-90)*Math.PI/180,i=(g(r.endAngle,g(r.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(t.angle||0)*Math.PI/180,this.startAngleRad=n,this.endAngleRad=i,this.offset=t.offset||0;let s=(n%e+e)%e,o=(i%e+e)%e;s>Math.PI&&(s-=e),o>Math.PI&&(o-=e),this.normalizedStartAngleRad=s,this.normalizedEndAngleRad=o}}function A(e){this.isRadial&&(e.align=void 0,e.preventDefault())}function P(){if(this.chart&&this.chart.labelCollectors){let e=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;e>=0&&this.chart.labelCollectors.splice(e,1)}}function N(e){let t,n=this.chart,i=n.angular,r=n.polar,s=this.isXAxis,o=this.coll,l=e.userOptions.pane||0,c=this.pane=n.pane&&n.pane[l];"colorAxis"!==o?(i?(i&&s?(this.isHidden=!0,this.createLabelCollector=b,this.getOffset=a,this.redraw=j,this.render=j,this.setScale=a,this.setCategories=a,this.setTitle=a):E(this),t=!s):r&&(E(this),t=this.horiz),i||r?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&n.labelCollectors.push(this.labelCollector)):this.isRadial=!1,c&&t&&(c.axis=this),this.isCircular=t):this.isRadial=!1}function M(){this.isRadial&&this.beforeSetTickPositions()}function O(e){let t=this.label;if(!t)return;let n,i=this.axis,r=t.getBBox(),s=i.options.labels,o=(i.translate(this.pos)+i.startAngleRad+Math.PI/2)/Math.PI*180%360,a=Math.round(o),l=h(s.y)?0:-.3*r.height,c=s.y,u=20,d=s.align,p="end",f=a<0?a+360:a,m=f,y=0,b=0;i.isRadial&&(n=i.getPosition(this.pos,i.center[2]/2+v(g(s.distance,-25),i.center[2]/2,-i.center[2]/2)),"auto"===s.rotation?t.attr({rotation:o}):h(c)||(c=i.chart.renderer.fontMetrics(t).b-r.height/2),h(d)||(i.isCircular?(r.width>i.len*i.tickInterval/(i.max-i.min)&&(u=0),d=o>u&&o<180-u?"left":o>180+u&&o<360-u?"right":"center"):d="center",t.attr({align:d})),"auto"===d&&2===i.tickPositions.length&&i.isCircular&&(f>90&&f<180?f=180-f:f>270&&f<=360&&(f=540-f),m>180&&m<=360&&(m=360-m),(i.pane.options.startAngle===a||i.pane.options.startAngle===a+360||i.pane.options.startAngle===a-360)&&(p="start"),d=a>=-90&&a<=90||a>=-360&&a<=-270||a>=270&&a<=360?"start"===p?"right":"left":"start"===p?"left":"right",m>70&&m<110&&(d="center"),f<15||f>=180&&f<195?y=.3*r.height:f>=15&&f<=35?y="start"===p?0:.75*r.height:f>=195&&f<=215?y="start"===p?.75*r.height:0:f>35&&f<=90?y="start"===p?-.25*r.height:r.height:f>215&&f<=270&&(y="start"===p?r.height:-.25*r.height),m<15?b="start"===p?-.15*r.height:.15*r.height:m>165&&m<=180&&(b="start"===p?.15*r.height:-.15*r.height),t.attr({align:d}),t.translate(b,y+l)),e.pos.x=n.x+(s.x||0),e.pos.y=n.y+(c||0))}function L(e){this.axis.getPosition&&u(e.pos,this.axis.getPosition(this.pos))}function D(e){let{options:n}=e;n.xAxis&&f(!0,t.radialDefaultOptions.circular,n.xAxis),n.yAxis&&f(!0,t.radialDefaultOptions.radialGauge,n.yAxis)}function R(e,t){let n=this.chart,i=this.center;return e=this.startAngleRad+e,{x:n.plotLeft+i[0]+Math.cos(e)*t,y:n.plotTop+i[1]+Math.sin(e)*t}}function j(){this.isDirty=!1}function F(){let e,t;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),e=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(t=this.postTranslate(this.angleRad,e[3]/2),e[0]=t.x-this.chart.plotLeft,e[1]=t.y-this.chart.plotTop),this.len=this.width=this.height=(e[2]-e[3])*g(this.sector,1)/2)}function U(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function B(e){let{coll:n}=this,{angular:i,inverted:r,polar:o}=this.chart,a={};i?this.isXAxis||(a=f(s.yAxis,t.radialDefaultOptions.radialGauge)):o&&(a=this.horiz?f(s.xAxis,t.radialDefaultOptions.circular):f("xAxis"===n?s.xAxis:s.yAxis,t.radialDefaultOptions.radial)),r&&"yAxis"===n&&(a.stackLabels=p(s.yAxis,!0)?s.yAxis.stackLabels:{},a.reversedStacks=!0);let l=this.options=f(a,e);l.plotBands||(l.plotBands=[]),d(this,"afterSetOptions")}function z(e,t,n,i,r,s,o){let a,l=this.axis;return l.isRadial?["M",t,n,"L",(a=l.getPosition(this.pos,l.center[2]/2+i)).x,a.y]:e.call(this,t,n,i,r,s,o)}t.radialDefaultOptions=f(e),t.compose=function(e,t){return m(o,"Axis.Radial")&&(l(e,"afterInit",I),l(e,"autoLabelAlign",A),l(e,"destroy",P),l(e,"init",N),l(e,"initialAxisTranslation",M),l(t,"afterGetLabelPosition",O),l(t,"afterGetPosition",L),l(n,"setOptions",D),y(t.prototype,"getMarkPath",z)),e}}(r||(r={})),r})),n(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r,s){let{animObject:o}=e,{composed:a}=t,{addEvent:l,defined:c,find:h,isNumber:u,merge:d,pick:p,pushUnique:f,relativeLength:g,splat:m,uniqueKey:v,wrap:y}=s;function b(){(this.pane||[]).forEach((e=>{e.render()}))}function w(e){let t=e.args[0].xAxis,n=e.args[0].yAxis,i=e.args[0].chart;t&&n&&("polygon"===n.gridLineInterpolation?(t.startOnTick=!0,t.endOnTick=!0):"polygon"===t.gridLineInterpolation&&i.inverted&&(n.startOnTick=!0,n.endOnTick=!0))}function x(){this.pane||(this.pane=[]),this.options.pane=m(this.options.pane),this.options.pane.forEach((e=>{new i(e,this)}),this)}function S(e){let t=e.args.marker,n=this.chart.xAxis[0],i=this.chart.yAxis[0],r=this.chart.inverted,s=r?i:n,o=r?n:i;if(this.chart.polar){e.preventDefault();let n=(t.attr?t.attr("start"):t.start)-s.startAngleRad,i=t.attr?t.attr("r"):t.r,r=(t.attr?t.attr("end"):t.end)-s.startAngleRad,a=t.attr?t.attr("innerR"):t.innerR;e.result.x=n+s.pos,e.result.width=r-n,e.result.y=o.len+o.pos-i,e.result.height=i-a}}function k(e){let t=this.chart;if(t.polar&&t.hoverPane&&t.hoverPane.axis){e.preventDefault();let n=t.hoverPane.center,i=t.mouseDownX||0,r=t.mouseDownY||0,s=e.args.chartY,o=e.args.chartX,a=2*Math.PI,l=t.hoverPane.axis.startAngleRad,c=t.hoverPane.axis.endAngleRad,h=t.inverted?t.xAxis[0]:t.yAxis[0],u={},d="arc";if(u.x=n[0]+t.plotLeft,u.y=n[1]+t.plotTop,this.zoomHor){let e=l>0?c-l:Math.abs(l)+Math.abs(c),p=Math.atan2(r-t.plotTop-n[1],i-t.plotLeft-n[0])-l,f=Math.atan2(s-t.plotTop-n[1],o-t.plotLeft-n[0])-l;u.r=n[2]/2,u.innerR=n[3]/2,p<=0&&(p+=a),f<=0&&(f+=a),f<p&&(f=[p,p=f][0]),e<a&&l+f>c+(a-e)/2&&(f=p,p=l<=0?l:0);let g=u.start=Math.max(p+l,l),m=u.end=Math.min(f+l,c);if("polygon"===h.options.gridLineInterpolation){let e=t.hoverPane.axis,i=g-e.startAngleRad+e.pos,r=h.getPlotLinePath({value:h.max}),s=e.toValue(i),o=e.toValue(i+(m-g));if(s<e.getExtremes().min){let{min:t,max:n}=e.getExtremes();s=n-(t-s)}if(o<e.getExtremes().min){let{min:t,max:n}=e.getExtremes();o=n-(t-o)}o<s&&(o=[s,s=o][0]),(r=E(r,s,o,e)).push(["L",n[0]+t.plotLeft,t.plotTop+n[1]]),u.d=r,d="path"}}if(this.zoomVert){let e=t.inverted?t.xAxis[0]:t.yAxis[0],a=Math.sqrt(Math.pow(i-t.plotLeft-n[0],2)+Math.pow(r-t.plotTop-n[1],2)),h=Math.sqrt(Math.pow(o-t.plotLeft-n[0],2)+Math.pow(s-t.plotTop-n[1],2));if(h<a&&(a=[h,h=a][0]),h>n[2]/2&&(h=n[2]/2),a<n[3]/2&&(a=n[3]/2),this.zoomHor||(u.start=l,u.end=c),u.r=h,u.innerR=a,"polygon"===e.options.gridLineInterpolation){let t=e.toValue(e.len+e.pos-a),n=e.toValue(e.len+e.pos-h),i=e.getPlotLinePath({value:n}).concat(e.getPlotLinePath({value:t,reverse:!0}));u.d=i,d="path"}}if(this.zoomHor&&this.zoomVert&&"polygon"===h.options.gridLineInterpolation){let e=t.hoverPane.axis,n=u.start||0,i=u.end||0,r=n-e.startAngleRad+e.pos,s=e.toValue(r),o=e.toValue(r+(i-n));if(u.d instanceof Array){let e=u.d.slice(0,u.d.length/2),n=u.d.slice(u.d.length/2,u.d.length);n=[...n].reverse();let i=t.hoverPane.axis;e=E(e,s,o,i),(n=E(n,s,o,i))&&(n[0][0]="L"),n=[...n].reverse(),u.d=e.concat(n),d="path"}}e.attrs=u,e.shapeType=d}}function _(){let e=this.chart;e.polar&&(this.polar=new j(this),e.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function T(){if(this.chart.polar&&this.xAxis){let{xAxis:e,yAxis:n}=this,i=this.chart;this.kdByAngle=i.tooltip&&i.tooltip.shared,this.kdByAngle||i.inverted?this.searchPoint=C:this.options.findNearestPointBy="xy";let r=this.points,s=r.length;for(;s--;)this.is("column")||this.is("columnrange")||this.polar.toXY(r[s]),i.hasParallelCoordinates||this.yAxis.reversed||(p(r[s].y,Number.MIN_VALUE)<n.min||r[s].x<e.min||r[s].x>e.max?(r[s].isNull=!0,r[s].plotY=NaN):r[s].isNull=r[s].isValid&&!r[s].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(l(this,"afterRender",(function(){let e;i.polar&&!1!==this.options.clip&&(e=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2}):this.clipCircle=function(e,t,n,i,r){let s=v(),o=e.createElement("clipPath").attr({id:s}).add(e.defs),a=r?e.arc(t,n,i,r,0,2*Math.PI).add(o):e.circle(t,n,i).add(o);return a.id=s,a.clipPath=o,a}(i.renderer,e[0],e[1],e[2]/2,e[3]/2),this.group.clip(this.clipCircle),this.setClip=t.noop)}))))}}function C(e){let t=this.chart,n=this.xAxis,i=this.yAxis,r=n.pane&&n.pane.center,s=e.chartX-(r&&r[0]||0)-t.plotLeft,o=e.chartY-(r&&r[1]||0)-t.plotTop,a=t.inverted?{clientX:e.chartX-i.pos,plotY:e.chartY-n.pos}:{clientX:180+-180/Math.PI*Math.atan2(s,o)};return this.searchKDTree(a)}function E(e,t,n,i){let r=i.tickInterval,s=i.tickPositions,o=h(s,(e=>e>=n)),a=h([...s].reverse(),(e=>e<=t));return c(o)||(o=s[s.length-1]),c(a)||(a=s[0],o+=r,e[0][0]="L",e.unshift(e[e.length-3])),(e=e.slice(s.indexOf(a),s.indexOf(o)+1))[0][0]="M",e}function I(e,t){return h(this.pane||[],(e=>e.options.id===t))||e.call(this,t)}function A(e,t,i,r,s,o){let a,l,c,h=this.chart,u=p(r.inside,!!this.options.stacking);if(h.polar){if(a=t.rectPlotX/Math.PI*180,h.inverted)this.forceDL=h.isInsidePlot(t.plotX,t.plotY),u&&t.shapeArgs?(l=t.shapeArgs,s=d(s,{x:(c=this.yAxis.postTranslate(((l.start||0)+(l.end||0))/2-this.xAxis.startAngleRad,t.barX+t.pointWidth/2)).x-h.plotLeft,y:c.y-h.plotTop})):t.tooltipPos&&(s=d(s,{x:t.tooltipPos[0],y:t.tooltipPos[1]})),r.align=p(r.align,"center"),r.verticalAlign=p(r.verticalAlign,"middle");else{var f;let e,t;null===(f=r).align&&(e=a>20&&a<160?"left":a>200&&a<340?"right":"center",f.align=e),null===f.verticalAlign&&(t=a<45||a>315?"bottom":a>135&&a<225?"top":"middle",f.verticalAlign=t),r=f}n.prototype.alignDataLabel.call(this,t,i,r,s,o),this.isRadialBar&&t.shapeArgs&&t.shapeArgs.start===t.shapeArgs.end?i.hide():i.show()}else e.call(this,t,i,r,s,o)}function P(){let e,t,n,i,r,o,a,l,h,d,p,f,m,v=this.options,y=v.stacking,b=this.chart,w=this.xAxis,x=this.yAxis,S=x.reversed,k=x.center,_=w.startAngleRad,T=w.endAngleRad-_,C=v.threshold,E=0,I=0,A=0;if(w.isRadial)for(n=(e=this.points).length,i=x.translate(x.min),r=x.translate(x.max),C=v.threshold||0,b.inverted&&u(C)&&c(E=x.translate(C))&&(E<0?E=0:E>T&&(E=T),this.translatedThreshold=E+_);n--;){if(p=(t=e[n]).barX,a=t.x,l=t.y,t.shapeType="arc",b.inverted){t.plotY=x.translate(l),y&&x.stacking?(d=x.stacking.stacks[(l<0?"-":"")+this.stackKey],this.visible&&d&&d[a]&&!t.isNull&&(h=d[a].points[this.getStackIndicator(void 0,a,this.index).key],I=x.translate(h[0]),A=x.translate(h[1]),c(I)&&(I=s.clamp(I,0,T)))):(I=E,A=t.plotY),I>A&&(A=[I,I=A][0]),S?A>i?A=i:I<r?I=r:(I>i||A<r)&&(I=A=T):I<i?I=i:A>r?A=r:(A<i||I>r)&&(I=A=0),x.min>x.max&&(I=A=S?T:0),I+=_,A+=_,k&&(t.barX=p+=k[3]/2),f=Math.max(p,0),m=Math.max(p+t.pointWidth,0);let e=v.borderRadius,n=g(("object"==typeof e?e.radius:e)||0,m-f);t.shapeArgs={x:k[0],y:k[1],r:m,innerR:f,start:I,end:A,borderRadius:n},t.opacity=I===A?0:void 0,t.plotY=(c(this.translatedThreshold)&&(I<this.translatedThreshold?I:A))-_}else I=p+_,t.shapeArgs=this.polar.arc(t.yBottom,t.plotY,I,I+t.pointWidth),t.shapeArgs.borderRadius=0;this.polar.toXY(t),b.inverted?(o=x.postTranslate(t.rectPlotY,p+t.pointWidth/2),t.tooltipPos=[o.x-b.plotLeft,o.y-b.plotTop]):t.tooltipPos=[t.plotX,t.plotY],k&&(t.ttBelow=t.plotY>k[1])}}function N(e,t){let n,i,r=this;if(this.chart.polar){t=t||this.points;for(let e=0;e<t.length;e++)if(!t[e].isNull){n=e;break}!1!==this.options.connectEnds&&void 0!==n&&(this.connectEnds=!0,t.splice(t.length,0,t[n]),i=!0),t.forEach((e=>{void 0===e.polarPlotY&&r.polar.toXY(e)}))}let s=e.apply(this,[].slice.call(arguments,1));return i&&t.pop(),s}function M(e,t){let n=this.chart,i={xAxis:[],yAxis:[]};return n.polar?n.axes.forEach((e=>{if("colorAxis"===e.coll)return;let r=e.isXAxis,s=e.center,o=t.chartX-s[0]-n.plotLeft,a=t.chartY-s[1]-n.plotTop;i[r?"xAxis":"yAxis"].push({axis:e,value:e.translate(r?Math.PI-Math.atan2(o,a):Math.sqrt(Math.pow(o,2)+Math.pow(a,2)),!0)})})):i=e.call(this,t),i}function O(e,t){this.chart.polar||e.call(this,t)}function L(e,n){let i,r,s,a,l,c,h=this,u=this.chart,d=this.group,f=this.markerGroup,g=this.xAxis&&this.xAxis.center,m=u.plotLeft,v=u.plotTop,y=this.options.animation;u.polar?h.isRadialBar?n||(h.startAngleRad=p(h.translatedThreshold,h.xAxis.startAngleRad),t.seriesTypes.pie.prototype.animate.call(h,n)):(y=o(y),h.is("column")?n||(r=g[3]/2,h.points.forEach((e=>{s=e.graphic,l=(a=e.shapeArgs)&&a.r,c=a&&a.innerR,s&&a&&(s.attr({r:r,innerR:r}),s.animate({r:l,innerR:c},h.options.animation))}))):n?(i={translateX:g[0]+m,translateY:g[1]+v,scaleX:.001,scaleY:.001},d.attr(i),f&&f.attr(i)):(i={translateX:m,translateY:v,scaleX:1,scaleY:1},d.animate(i,y),f&&f.animate(i,y))):e.call(this,n)}function D(e,t,n,i){let r,s;if(this.chart.polar)if(i){let e=(s=function e(t,n,i,r){let s,o,a,l,c,h,u=r?1:0,d=(s=n>=0&&n<=t.length-1?n:n<0?t.length-1+n:0)-1<0?t.length-(1+u):s-1,p=s+1>t.length-1?u:s+1,f=t[d],g=t[p],m=f.plotX,v=f.plotY,y=g.plotX,b=g.plotY,w=t[s].plotX,x=t[s].plotY;o=(1.5*w+m)/2.5,a=(1.5*x+v)/2.5,l=(1.5*w+y)/2.5,c=(1.5*x+b)/2.5;let S=Math.sqrt(Math.pow(o-w,2)+Math.pow(a-x,2)),k=Math.sqrt(Math.pow(l-w,2)+Math.pow(c-x,2)),_=Math.atan2(a-x,o-w);h=Math.PI/2+(_+Math.atan2(c-x,l-w))/2,Math.abs(_-h)>Math.PI/2&&(h-=Math.PI),o=w+Math.cos(h)*S,a=x+Math.sin(h)*S;let T={rightContX:l=w+Math.cos(Math.PI+h)*k,rightContY:c=x+Math.sin(Math.PI+h)*k,leftContX:o,leftContY:a,plotX:w,plotY:x};return i&&(T.prevPointCont=e(t,d,!1,r)),T}(t,i,!0,this.connectEnds)).prevPointCont&&s.prevPointCont.rightContX,n=s.prevPointCont&&s.prevPointCont.rightContY;r=["C",u(e)?e:s.plotX,u(n)?n:s.plotY,u(s.leftContX)?s.leftContX:s.plotX,u(s.leftContY)?s.leftContY:s.plotY,s.plotX,s.plotY]}else r=["M",n.plotX,n.plotY];else r=e.call(this,t,n,i);return r}function R(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.plotY;if(!this.destroyed){let{plotX:i,series:r}=this,{chart:s}=r;return s.polar&&u(i)&&u(n)?[i+(t?s.plotLeft:0),n+(t?s.plotTop:0)]:e.call(this,t,n)}}class j{static compose(e,t,n,s,o,c,h,u,d,p){if(i.compose(t,n),r.compose(e,o),f(a,"Polar")){let e=t.prototype,i=c.prototype,r=n.prototype,o=s.prototype;if(l(t,"afterDrawChartBox",b),l(t,"getAxes",x),l(t,"init",w),y(e,"get",I),y(r,"getCoordinates",M),y(r,"pinch",O),l(n,"getSelectionMarkerAttrs",k),l(n,"getSelectionBox",S),l(s,"afterInit",_),l(s,"afterTranslate",T,{order:2}),l(s,"afterColumnTranslate",P,{order:4}),y(o,"animate",L),y(i,"pos",R),u){let e=u.prototype;y(e,"alignDataLabel",A),y(e,"animate",L)}if(d&&y(d.prototype,"getGraphPath",N),p){let e=p.prototype;y(e,"getPointSpline",D),h&&(h.prototype.getPointSpline=e.getPointSpline)}}}constructor(e){this.series=e}arc(e,t,n,i){let r=this.series,s=r.xAxis.center,o=r.yAxis.len,a=s[3]/2,l=o-t+a,c=o-p(e,o)+a;return r.yAxis.reversed&&(l<0&&(l=a),c<0&&(c=a)),{x:s[0],y:s[1],r:l,innerR:c,start:n,end:i}}toXY(e){let t,n=this.series,i=n.chart,r=n.xAxis,s=n.yAxis,o=e.plotX,a=i.inverted,l=e.y,c=e.plotY,h=a?o:s.len-c;if(a&&n&&!n.isRadialBar&&(e.plotY=c=u(l)?s.translate(l):0),e.rectPlotX=o,e.rectPlotY=c,s.center&&(h+=s.center[3]/2),u(c)){let t=a?s.postTranslate(c,h):r.postTranslate(o,h);e.plotX=e.polarPlotX=t.x-i.plotLeft,e.plotY=e.polarPlotY=t.y-i.plotTop}n.kdByAngle?((t=(o/Math.PI*180+r.pane.options.startAngle)%360)<0&&(t+=360),e.clientX=t):e.clientX=e.plotX}}return j})),n(t,"Core/Axis/WaterfallAxis.js",[t["Core/Globals.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],(function(e,t,n){var i;let{composed:r}=e,{addEvent:s,objectEach:o,pushUnique:a}=n;return function(e){function n(){let e=this.waterfall.stacks;e&&(e.changed=!1,delete e.alreadyChanged)}function i(){let e=this.options.stackLabels;e&&e.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function l(){this.waterfall||(this.waterfall=new h(this))}function c(){let e=this.axes;for(let t of this.series)if(t.options.stacking){for(let t of e)t.isXAxis||(t.waterfall.stacks.changed=!0);break}}e.compose=function(e,t){a(r,"Axis.Waterfall")&&(s(e,"init",l),s(e,"afterBuildStacks",n),s(e,"afterRender",i),s(t,"beforeRedraw",c))};class h{constructor(e){this.axis=e,this.stacks={changed:!1}}renderStackTotals(){let e=this.axis,n=e.waterfall.stacks,i=e.stacking&&e.stacking.stackTotalGroup,r=new t(e,e.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=r,i&&o(n,(e=>{o(e,((e,n)=>{r.total=e.stackTotal,r.x=+n,e.label&&(r.label=e.label),t.prototype.render.call(r,i),e.label=r.label,delete r.label}))})),r.total=null}}e.Composition=h}(i||(i={})),i})),n(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(e,t,n){let{isNumber:i}=n;class r extends e.prototype.pointClass{getClassName(){let e=t.prototype.getClassName.call(this);return this.isSum?e+=" highcharts-sum":this.isIntermediateSum&&(e+=" highcharts-intermediate-sum"),e}isValid(){return i(this.y)||this.isSum||!!this.isIntermediateSum}}return r})),n(t,"Series/Waterfall/WaterfallSeriesDefaults.js",[],(function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}})),n(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"],t["Series/Waterfall/WaterfallSeriesDefaults.js"]],(function(e,t,n,i,r){let{column:s,line:o}=e.seriesTypes,{addEvent:a,arrayMax:l,arrayMin:c,correctFloat:h,crisp:u,extend:d,isNumber:p,merge:f,objectEach:g,pick:m}=t;function v(e,t){return Object.hasOwnProperty.call(e,t)}class y extends s{generatePoints(){s.prototype.generatePoints.apply(this);for(let e=0,t=this.points.length;e<t;e++){let t=this.points[e],n=this.processedYData[e];p(n)&&(t.isIntermediateSum||t.isSum)&&(t.y=h(n))}}processData(e){let t,n,i,r,s,o,a=this.options,l=this.yData,c=a.data,u=l.length,d=a.threshold||0;i=n=r=s=0;for(let p=0;p<u;p++)o=l[p],t=c&&c[p]?c[p]:{},"sum"===o||t.isSum?l[p]=h(i):"intermediateSum"===o||t.isIntermediateSum?(l[p]=h(n),n=0):(i+=o,n+=o),r=Math.min(i,r),s=Math.max(i,s);super.processData.call(this,e),a.stacking||(this.dataMin=r+d,this.dataMax=s)}toYData(e){return e.isSum?"sum":e.isIntermediateSum?"intermediateSum":e.y}updateParallelArrays(e,t){super.updateParallelArrays.call(this,e,t),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)}pointAttribs(e,t){let n=this.options.upColor;n&&!e.options.color&&p(e.y)&&(e.color=e.y>0?n:void 0);let i=s.prototype.pointAttribs.call(this,e,t);return delete i.dashstyle,i}getGraphPath(){return[["M",0,0]]}getCrispPath(){var e;let t=this.data.filter((e=>p(e.y))),n=this.yAxis,i=t.length,r=(null===(e=this.graph)||void 0===e?void 0:e.strokeWidth())||0,s=this.xAxis.reversed,o=this.yAxis.reversed,a=this.options.stacking,l=[];for(let c=1;c<i;c++){if(!this.options.connectNulls&&!p(this.data[t[c].index-1].y))continue;let e=t[c].box,i=t[c-1],h=i.y||0,d=t[c-1].box;if(!e||!d)continue;let f=n.waterfall.stacks[this.stackKey],g=h>0?-d.height:0;if(f&&d&&e){let t,h=f[c-1];if(a){let e=h.connectorThreshold;t=u(n.translate(e,!1,!0,!1,!0)+(o?g:0),r)}else t=u(d.y+(i.minPointLengthOffset||0),r);l.push(["M",(d.x||0)+(s?0:d.width||0),t],["L",(e.x||0)+(s&&e.width||0),t])}if(d&&l.length&&(!a&&h<0&&!o||h>0&&o)){let e=l[l.length-2];e&&"number"==typeof e[2]&&(e[2]+=d.height||0);let t=l[l.length-1];t&&"number"==typeof t[2]&&(t[2]+=d.height||0)}}return l}drawGraph(){o.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(e){var t;let n,i,r,s,o,a,l,c,h,u=this.options,d=null===(t=e.waterfall)||void 0===t?void 0:t.stacks,p=u.threshold||0,f=this.stackKey,g=this.xData,m=g.length,v=p,y=v,b=0,w=0,x=0,S=(e,t,r,s)=>{if(n){if(i)for(;r<i;r++)n.stackState[r]+=s;else n.stackState[0]=e,i=n.stackState.length;n.stackState.push(n.stackState[i-1]+t)}};if(e.stacking&&d&&this.reserveSpace()){h=d.changed,(c=d.alreadyChanged)&&0>c.indexOf(f)&&(h=!0),d[f]||(d[f]={});let e=d[f];if(e)for(let t=0;t<m;t++)(!e[l=g[t]]||h)&&(e[l]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:h&&e[l]?e[l].label:void 0}),n=e[l],(a=this.yData[t])>=0?n.posTotal+=a:n.negTotal+=a,o=u.data[t],r=n.absolutePos=n.posTotal,s=n.absoluteNeg=n.negTotal,n.stackTotal=r+s,i=n.stackState.length,o&&o.isIntermediateSum?(S(x,w,0,x),x=w,w=p,v^=y,y^=v,v^=y):o&&o.isSum?(S(p,b,i,0),v=p):(S(v,a,0,b),o&&(b+=a,w+=a)),n.stateIndex++,n.threshold=v,v+=n.stackTotal;d.changed=!1,d.alreadyChanged||(d.alreadyChanged=[]),d.alreadyChanged.push(f)}}getExtremes(){let e,t,n,i=this.options.stacking;return i?(e=this.yAxis.waterfall.stacks,t=this.stackedYNeg=[],n=this.stackedYPos=[],g(e[this.stackKey],"overlap"===i?function(e){t.push(c(e.stackState)),n.push(l(e.stackState))}:function(e){t.push(e.negTotal+e.threshold),n.push(e.posTotal+e.threshold)}),{dataMin:c(t),dataMax:l(n)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return y.defaultOptions=f(s.defaultOptions,r),y.compose=n.compose,d(y.prototype,{pointValKey:"y",showLine:!0,pointClass:i}),a(y,"afterColumnTranslate",(function(){let e,t,n,i,{options:r,points:s,yAxis:o}=this,a=m(r.minPointLength,5),l=a/2,c=r.threshold||0,h=r.stacking,g=o.waterfall.stacks[this.stackKey],y=c,b=c;for(let m=0;m<s.length;m++){let r=s[m],w=this.processedYData[m],x=d({x:0,y:0,width:0,height:0},r.shapeArgs||{});r.box=x;let S=[0,w],k=r.y||0;if(h){if(g){let s=g[m];"overlap"===h?(t=s.stackState[s.stateIndex--],e=k>=0?t:t-k,v(s,"absolutePos")&&delete s.absolutePos,v(s,"absoluteNeg")&&delete s.absoluteNeg):(k>=0?(t=s.threshold+s.posTotal,s.posTotal-=k,e=t):(t=s.threshold+s.negTotal,s.negTotal-=k,e=t-k),!s.posTotal&&p(s.absolutePos)&&v(s,"absolutePos")&&(s.posTotal=s.absolutePos,delete s.absolutePos),!s.negTotal&&p(s.absoluteNeg)&&v(s,"absoluteNeg")&&(s.negTotal=s.absoluteNeg,delete s.absoluteNeg)),r.isSum||(s.connectorThreshold=s.threshold+s.stackTotal),o.reversed?(n=k>=0?e-k:e+k,i=e):(n=e,i=e-k),r.below=n<=c,x.y=o.translate(n,!1,!0,!1,!0),x.height=Math.abs(x.y-o.translate(i,!1,!0,!1,!0));let a=o.waterfall.dummyStackItem;a&&(a.x=m,a.label=g[m].label,a.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[m],this.stackedYPos[m],void 0,this.xAxis))}}else e=Math.max(b,b+k)+S[0],x.y=o.translate(e,!1,!0,!1,!0),r.isSum?(x.y=o.translate(S[1],!1,!0,!1,!0),x.height=Math.min(o.translate(S[0],!1,!0,!1,!0),o.len)-x.y,r.below=S[1]<=c):r.isIntermediateSum?(k>=0?(n=S[1]+y,i=y):(n=y,i=S[1]+y),o.reversed&&(n^=i,i^=n,n^=i),x.y=o.translate(n,!1,!0,!1,!0),x.height=Math.abs(x.y-Math.min(o.translate(i,!1,!0,!1,!0),o.len)),y+=S[1],r.below=n<=c):(x.height=w>0?o.translate(b,!1,!0,!1,!0)-x.y:o.translate(b,!1,!0,!1,!0)-o.translate(b-w,!1,!0,!1,!0),b+=w,r.below=b<c),x.height<0&&(x.y+=x.height,x.height*=-1);r.plotY=x.y,r.yBottom=x.y+x.height,x.height<=a&&!r.isNull?(x.height=a,x.y-=l,r.yBottom=x.y+x.height,r.plotY=x.y,r.minPointLengthOffset=k<0?-l:l):(r.isNull&&(x.width=0),r.minPointLengthOffset=0);let _=r.plotY+(r.negative?x.height:0);r.below&&(r.plotY+=x.height),r.tooltipPos&&(this.chart.inverted?r.tooltipPos[0]=o.len-_:r.tooltipPos[1]=_),r.isInside=this.isPointInside(r);let T=u(r.yBottom,this.borderWidth);x.y=u(x.y,this.borderWidth),x.height=T-x.y,f(!0,r.shapeArgs,x)}}),{order:2}),e.registerSeriesType("waterfall",y),y})),n(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Extensions/Pane/Pane.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"],t["Core/Axis/RadialAxis.js"],t["Series/Waterfall/WaterfallSeries.js"]],(function(e,t,n,i,r,s,o,a){return e.RadialAxis=o,i.compose(e.Axis,e.Chart,e.Legend),r.compose(e.Axis,e.Chart,e.Legend),n.compose(e.Chart,e.Pointer),s.compose(e.Axis,e.Chart,e.Pointer,e.Series,e.Tick,e.Point,t.seriesTypes.areasplinerange,t.seriesTypes.column,t.seriesTypes.line,t.seriesTypes.spline),a.compose(e.Axis,e.Chart),e}))},e.exports?(s.default=s,e.exports=s):(i=[n(488)],void 0===(r=function(e){return s(e),s.Highcharts=e,s}.apply(t,i))||(e.exports=r))},488:function(e,t,n){var i,r,s;r="undefined"!=typeof window?window:this,s=function(e){"use strict";var t={};function n(t,n,i,r){!t.hasOwnProperty(n)&&(t[n]=r.apply(null,i),e&&"function"==typeof CustomEvent&&e.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:n,module:t[n]}})))}return n(t,"Core/Globals.js",[],(function(){var t,n;return(n=t||(t={})).SVG_NS="http://www.w3.org/2000/svg",n.product="Highcharts",n.version="11.4.8",n.win=void 0!==e?e:{},n.doc=n.win.document,n.svg=n.doc&&n.doc.createElementNS&&!!n.doc.createElementNS(n.SVG_NS,"svg").createSVGRect,n.userAgent=n.win.navigator&&n.win.navigator.userAgent||"",n.isChrome=n.win.chrome,n.isFirefox=-1!==n.userAgent.indexOf("Firefox"),n.isMS=/(edge|msie|trident)/i.test(n.userAgent)&&!n.win.opera,n.isSafari=!n.isChrome&&-1!==n.userAgent.indexOf("Safari"),n.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(n.userAgent),n.isWebKit=-1!==n.userAgent.indexOf("AppleWebKit"),n.deg2rad=2*Math.PI/360,n.hasBidiBug=n.isFirefox&&4>parseInt(n.userAgent.split("Firefox/")[1],10),n.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],n.noop=function(){},n.supportsPassiveEvents=function(){let e=!1;if(!n.isMS){let t=Object.defineProperty({},"passive",{get:function(){e=!0}});n.win.addEventListener&&n.win.removeEventListener&&(n.win.addEventListener("testPassive",n.noop,t),n.win.removeEventListener("testPassive",n.noop,t))}return e}(),n.charts=[],n.composed=[],n.dateFormats={},n.seriesTypes={},n.symbolSizes={},n.chartCount=0,t})),n(t,"Core/Utilities.js",[t["Core/Globals.js"]],(function(e){let t,{charts:n,doc:i,win:r}=e;function s(t,n,i,o){let a=n?"Highcharts error":"Highcharts warning";32===t&&(t="".concat(a,": Deprecated member"));let l=d(t),c=l?"".concat(a," #").concat(t,": www.highcharts.com/errors/").concat(t,"/"):t.toString();if(void 0!==o){let e="";l&&(c+="?"),S(o,(function(t,n){e+="\n - ".concat(n,": ").concat(t),l&&(c+=encodeURI(n)+"="+encodeURI(t))})),c+=e}_(e,"displayError",{chart:i,code:t,message:c,params:o},(function(){if(n)throw Error(c);r.console&&-1===s.messages.indexOf(c)&&console.warn(c)})),s.messages.push(c)}function o(e,t){return parseInt(e,t||10)}function a(e){return"string"==typeof e}function l(e){let t=Object.prototype.toString.call(e);return"[object Array]"===t||"[object Array Iterator]"===t}function c(e,t){return!!e&&"object"==typeof e&&(!t||!l(e))}function h(e){return c(e)&&"number"==typeof e.nodeType}function u(e){let t=e&&e.constructor;return!(!c(e,!0)||h(e)||!t||!t.name||"Object"===t.name)}function d(e){return"number"==typeof e&&!isNaN(e)&&e<1/0&&e>-1/0}function p(e){return null!=e}function f(e,t,n){let i,r=a(t)&&!p(n),s=(t,n)=>{p(t)?e.setAttribute(n,t):r?(i=e.getAttribute(n))||"class"!==n||(i=e.getAttribute(n+"Name")):e.removeAttribute(n)};return a(t)?s(n,t):S(t,s),i}function g(e){return l(e)?e:[e]}function m(e,t){let n;for(n in e||(e={}),t)e[n]=t[n];return e}function v(){let e=arguments,t=e.length;for(let n=0;n<t;n++){let t=e[n];if(null!=t)return t}}function y(e,t){m(e.style,t)}function b(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function w(e,t){return e>1e14?e:parseFloat(e.toPrecision(t||14))}(s||(s={})).messages=[],Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)};let x=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){let n,i=e.length;for(n=0;n<i;n++)if(t(e[n],n))return e[n]};function S(e,t,n){for(let i in e)Object.hasOwnProperty.call(e,i)&&t.call(n||e[i],e[i],i,e)}function k(e,t,n){function i(t,n){let i=e.removeEventListener;i&&i.call(e,t,n,!1)}function r(n){let r,s;e.nodeName&&(t?(r={})[t]=!0:r=n,S(r,(function(e,t){if(n[t])for(s=n[t].length;s--;)i(t,n[t][s].fn)})))}let s="function"==typeof e&&e.prototype||e;if(Object.hasOwnProperty.call(s,"hcEvents")){let e=s.hcEvents;if(t){let s=e[t]||[];n?(e[t]=s.filter((function(e){return n!==e.fn})),i(t,n)):(r(e),e[t]=[])}else r(e),delete s.hcEvents}}function _(t,n,r,s){if(r=r||{},i.createEvent&&(t.dispatchEvent||t.fireEvent&&t!==e)){let e=i.createEvent("Events");e.initEvent(n,!0,!0),r=m(e,r),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(n,r)}else if(t.hcEvents){r.target||m(r,{preventDefault:function(){r.defaultPrevented=!0},target:t,type:n});let e=[],i=t,s=!1;for(;i.hcEvents;)Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents[n]&&(e.length&&(s=!0),e.unshift.apply(e,i.hcEvents[n])),i=Object.getPrototypeOf(i);s&&e.sort(((e,t)=>e.order-t.order)),e.forEach((e=>{!1===e.fn.call(t,r)&&r.preventDefault()}))}s&&!r.defaultPrevented&&s.call(t,r)}S({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(t,n){e[n]=function(e){return s(32,!1,void 0,{["Highcharts.".concat(n)]:"use Array.".concat(t)}),Array.prototype[t].apply(e,[].slice.call(arguments,1))}}));let T=function(){let e=Math.random().toString(36).substring(2,9)+"-",n=0;return function(){return"highcharts-"+(t?"":e)+n++}}();return r.jQuery&&(r.jQuery.fn.highcharts=function(){let t=[].slice.call(arguments);if(this[0])return t[0]?(new(e[a(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):n[f(this[0],"data-highcharts-chart")]}),{addEvent:function(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s="function"==typeof t&&t.prototype||t;Object.hasOwnProperty.call(s,"hcEvents")||(s.hcEvents={});let o=s.hcEvents;e.Point&&t instanceof e.Point&&t.series&&t.series.chart&&(t.series.chart.runTrackerClick=!0);let a=t.addEventListener;a&&a.call(t,n,i,!!e.supportsPassiveEvents&&{passive:void 0===r.passive?-1!==n.indexOf("touch"):r.passive,capture:!1}),o[n]||(o[n]=[]);let l={fn:i,order:"number"==typeof r.order?r.order:1/0};return o[n].push(l),o[n].sort(((e,t)=>e.order-t.order)),function(){k(t,n,i)}},arrayMax:function(e){let t=e.length,n=e[0];for(;t--;)e[t]>n&&(n=e[t]);return n},arrayMin:function(e){let t=e.length,n=e[0];for(;t--;)e[t]<n&&(n=e[t]);return n},attr:f,clamp:function(e,t,n){return e>t?e<n?e:n:t},clearTimeout:function(e){p(e)&&clearTimeout(e)},correctFloat:w,createElement:function(e,t,n,r,s){let o=i.createElement(e);return t&&m(o,t),s&&y(o,{padding:"0",border:"none",margin:"0"}),n&&y(o,n),r&&r.appendChild(o),o},crisp:function(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)%2/2,n=(arguments.length>2?arguments[2]:void 0)?-1:1;return(Math.round(e*n-t)+t)*n},css:y,defined:p,destroyObjectProperties:function(e,t,n){S(e,(function(i,r){i!==t&&null!==i&&void 0!==i&&i.destroy&&i.destroy(),((null===i||void 0===i?void 0:i.destroy)||!n)&&delete e[r]}))},diffObjects:function(e,t,n,i){let r={};return function e(t,r,s,o){let a=n?r:t;S(t,(function(n,h){if(!o&&i&&i.indexOf(h)>-1&&r[h]){n=g(n),s[h]=[];for(let t=0;t<Math.max(n.length,r[h].length);t++)r[h][t]&&(void 0===n[t]?s[h][t]=r[h][t]:(s[h][t]={},e(n[t],r[h][t],s[h][t],o+1)))}else c(n,!0)&&!n.nodeType?(s[h]=l(n)?[]:{},e(n,r[h]||{},s[h],o+1),0!==Object.keys(s[h]).length||"colorAxis"===h&&0===o||delete s[h]):(t[h]!==r[h]||h in t&&!(h in r))&&"__proto__"!==h&&"constructor"!==h&&(s[h]=a[h])}))}(e,t,r,0),r},discardElement:function(e){e&&e.parentElement&&e.parentElement.removeChild(e)},erase:function(e,t){let n=e.length;for(;n--;)if(e[n]===t){e.splice(n,1);break}},error:s,extend:m,extendClass:function(e,t){let n=function(){};return m(n.prototype=new e,t),n},find:x,fireEvent:_,getClosestDistance:function(e,t){let n,i,r,s,o=!t;return e.forEach((e=>{if(e.length>1)for(s=i=e.length-1;s>0;s--){var a;(r=e[s]-e[s-1])<0&&!o?(null!==(a=t)&&void 0!==a&&a(),t=void 0):r&&(void 0===n||r<n)&&(n=r)}})),n},getMagnitude:b,getNestedProperty:function(e,t){let n=e.split(".");for(;n.length&&p(t);){let e=n.shift();if(void 0===e||"__proto__"===e)return;if("this"===e){var i;let e;return c(t)&&(e=t["@this"]),null!==(i=e)&&void 0!==i?i:t}let s=t[e];if(!p(s)||"function"==typeof s||"number"==typeof s.nodeType||s===r)return;t=s}return t},getStyle:function e(t,n,i){let s;if("width"===n){let n=Math.min(t.offsetWidth,t.scrollWidth),i=t.getBoundingClientRect&&t.getBoundingClientRect().width;return i<n&&i>=n-1&&(n=Math.floor(i)),Math.max(0,n-(e(t,"padding-left",!0)||0)-(e(t,"padding-right",!0)||0))}if("height"===n)return Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-(e(t,"padding-top",!0)||0)-(e(t,"padding-bottom",!0)||0));let a=r.getComputedStyle(t,void 0);return a&&(s=a.getPropertyValue(n),v(i,"opacity"!==n)&&(s=o(s))),s},inArray:function(e,t,n){return s(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),t.indexOf(e,n)},insertItem:function(e,t){let n,i=e.options.index,r=t.length;for(n=e.options.isInternal?r:0;n<r+1;n++)if(!t[n]||d(i)&&i<v(t[n].options.index,t[n]._i)||t[n].options.isInternal){t.splice(n,0,e);break}return n},isArray:l,isClass:u,isDOMElement:h,isFunction:function(e){return"function"==typeof e},isNumber:d,isObject:c,isString:a,keys:function(e){return s(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(e)},merge:function(){let e,t=arguments,n={},i=function(e,t){return"object"!=typeof e&&(e={}),S(t,(function(n,r){"__proto__"!==r&&"constructor"!==r&&(!c(n,!0)||u(n)||h(n)?e[r]=t[r]:e[r]=i(e[r]||{},n))})),e};!0===t[0]&&(n=t[1],t=Array.prototype.slice.call(t,2));let r=t.length;for(e=0;e<r;e++)n=i(n,t[e]);return n},normalizeTickInterval:function(e,t,n,i,r){let s,o=e,a=e/(n=v(n,b(e)));for(!t&&(t=r?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===i&&(1===n?t=t.filter((function(e){return e%1==0})):n<=.1&&(t=[1/n]))),s=0;s<t.length&&(o=t[s],(!r||!(o*n>=e))&&(r||!(a<=(t[s]+(t[s+1]||t[s]))/2)));s++);return w(o*n,-Math.round(Math.log(.001)/Math.LN10))},objectEach:S,offset:function(e){let t=i.documentElement,n=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:n.top+(r.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(r.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:n.width,height:n.height}},pad:function(e,t,n){return Array((t||2)+1-String(e).replace("-","").length).join(n||"0")+e},pick:v,pInt:o,pushUnique:function(e,t){return 0>e.indexOf(t)&&!!e.push(t)},relativeLength:function(e,t,n){return/%$/.test(e)?t*parseFloat(e)/100+(n||0):parseFloat(e)},removeEvent:k,replaceNested:function(e){let t,n;for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];do{for(n of(t=e,r))e=e.replace(n[0],n[1])}while(e!==t);return e},splat:g,stableSort:function(e,t){let n,i,r=e.length;for(i=0;i<r;i++)e[i].safeI=i;for(e.sort((function(e,i){return 0===(n=t(e,i))?e.safeI-i.safeI:n})),i=0;i<r;i++)delete e[i].safeI},syncTimeout:function(e,t,n){return t>0?setTimeout(e,t,n):(e.call(0,n),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:T,useSerialIds:function(e){return t=v(e,t)},wrap:function(e,t,n){let i=e[t];e[t]=function(){let e=arguments,t=this;return n.apply(this,[function(){return i.apply(t,arguments.length?arguments:e)}].concat([].slice.call(arguments)))}}}})),n(t,"Core/Chart/ChartDefaults.js",[],(function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}})),n(t,"Core/Color/Palettes.js",[],(function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}})),n(t,"Core/Time.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t){let{win:n}=e,{defined:i,error:r,extend:s,isNumber:o,isObject:a,merge:l,objectEach:c,pad:h,pick:u,splat:d,timeUnits:p}=t,f=e.isSafari&&n.Intl&&n.Intl.DateTimeFormat.prototype.formatRange,g=e.isSafari&&n.Intl&&!n.Intl.DateTimeFormat.prototype.formatRange;class m{constructor(e){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=n.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(e)}get(e,t){if(this.variableTimezone||this.timezoneOffset){let n=t.getTime(),i=n-this.getTimezoneOffset(t);t.setTime(i);let r=t["getUTC"+e]();return t.setTime(n),r}return this.useUTC?t["getUTC"+e]():t["get"+e]()}set(e,t,n){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===e||"Seconds"===e||"Minutes"===e&&this.getTimezoneOffset(t)%36e5==0)return t["setUTC"+e](n);let i=this.getTimezoneOffset(t),r=t.getTime()-i;t.setTime(r),t["setUTC"+e](n);let s=this.getTimezoneOffset(t);return r=t.getTime()+s,t.setTime(r)}return this.useUTC||f&&"FullYear"===e?t["setUTC"+e](n):t["set"+e](n)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u(e.useUTC,!0);this.options=e=l(!0,this.options,e),this.Date=e.Date||n.Date||Date,this.useUTC=t,this.timezoneOffset=t&&e.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=t&&!(!e.getTimezoneOffset&&!e.timezone)}makeTime(e,t,n,i,r,s){let o,a,l;return this.useUTC?(o=this.Date.UTC.apply(0,arguments),a=this.getTimezoneOffset(o),o+=a,a!==(l=this.getTimezoneOffset(o))?o+=l-a:a-36e5!==this.getTimezoneOffset(o-36e5)||g||(o-=36e5)):o=new this.Date(e,t,u(n,1),u(i,0),u(r,0),u(s,0)).getTime(),o}timezoneOffsetFunction(){let e=this,t=this.options,n=t.getTimezoneOffset;return this.useUTC?t.timezone?e=>{try{let n="shortOffset,".concat(t.timezone||""),[i,r,s,a,l=0]=(m.formatCache[n]=m.formatCache[n]||Intl.DateTimeFormat("en",{timeZone:t.timezone,timeZoneName:"shortOffset"})).format(e).split(/(GMT|:)/).map(Number),c=-36e5*(s+l/60);if(o(c))return c}catch(e){r(34)}return 0}:this.useUTC&&n?e=>6e4*n(e.valueOf()):()=>6e4*(e.timezoneOffset||0):e=>6e4*new Date(e.toString()).getTimezoneOffset()}dateFormat(t,n,r){if(!i(n)||isNaN(n))return e.defaultOptions.lang&&e.defaultOptions.lang.invalidDate||"";t=u(t,"%Y-%m-%d %H:%M:%S");let o=this,a=new this.Date(n),l=this.get("Hours",a),d=this.get("Day",a),p=this.get("Date",a),f=this.get("Month",a),g=this.get("FullYear",a),m=e.defaultOptions.lang,v=m&&m.weekdays,y=m&&m.shortWeekdays;return c(s({a:y?y[d]:v[d].substr(0,3),A:v[d],d:h(p),e:h(p,2," "),w:d,b:m.shortMonths[f],B:m.months[f],m:h(f+1),o:f+1,y:g.toString().substr(2,2),Y:g,H:h(l),k:l,I:h(l%12||12),l:l%12||12,M:h(this.get("Minutes",a)),p:l<12?"AM":"PM",P:l<12?"am":"pm",S:h(this.get("Seconds",a)),L:h(Math.floor(n%1e3),3)},e.dateFormats),(function(e,i){for(;-1!==t.indexOf("%"+i);)t=t.replace("%"+i,"function"==typeof e?e.call(o,n):e)})),r?t.substr(0,1).toUpperCase()+t.substr(1):t}resolveDTLFormat(e){return a(e,!0)?e:{main:(e=d(e))[0],from:e[1],to:e[2]}}getTimeTicks(e,t,n,r){let o,a,l,c,h=this,d=h.Date,f=[],g={},m=new d(t),v=e.unitRange,y=e.count||1;if(r=u(r,1),i(t)){h.set("Milliseconds",m,v>=p.second?0:y*Math.floor(h.get("Milliseconds",m)/y)),v>=p.second&&h.set("Seconds",m,v>=p.minute?0:y*Math.floor(h.get("Seconds",m)/y)),v>=p.minute&&h.set("Minutes",m,v>=p.hour?0:y*Math.floor(h.get("Minutes",m)/y)),v>=p.hour&&h.set("Hours",m,v>=p.day?0:y*Math.floor(h.get("Hours",m)/y)),v>=p.day&&h.set("Date",m,v>=p.month?1:Math.max(1,y*Math.floor(h.get("Date",m)/y))),v>=p.month&&(h.set("Month",m,v>=p.year?0:y*Math.floor(h.get("Month",m)/y)),a=h.get("FullYear",m)),v>=p.year&&(a-=a%y,h.set("FullYear",m,a)),v===p.week&&(c=h.get("Day",m),h.set("Date",m,h.get("Date",m)-c+r+(c<r?-7:0))),a=h.get("FullYear",m);let e=h.get("Month",m),s=h.get("Date",m),u=h.get("Hours",m);t=m.getTime(),(h.variableTimezone||!h.useUTC)&&i(n)&&(l=n-t>4*p.month||h.getTimezoneOffset(t)!==h.getTimezoneOffset(n));let d=m.getTime();for(o=1;d<n;)f.push(d),v===p.year?d=h.makeTime(a+o*y,0):v===p.month?d=h.makeTime(a,e+o*y):!l||v!==p.day&&v!==p.week?l&&v===p.hour&&y>1?d=h.makeTime(a,e,s,u+o*y):d+=v*y:d=h.makeTime(a,e,s+o*y*(v===p.day?1:7)),o++;f.push(d),v<=p.hour&&f.length<1e4&&f.forEach((function(e){e%18e5==0&&"000000000"===h.dateFormat("%H%M%S%L",e)&&(g[e]="day")}))}return f.info=s(e,{higherRanks:g,totalRange:v*y}),f}getDateFormat(e,t,n,i){let r=this.dateFormat("%m-%d %H:%M:%S.%L",t),s="01-01 00:00:00.000",o={millisecond:15,second:12,minute:9,hour:6,day:3},a="millisecond",l=a;for(a in p){if(e===p.week&&+this.dateFormat("%w",t)===n&&r.substr(6)===s.substr(6)){a="week";break}if(p[a]>e){a=l;break}if(o[a]&&r.substr(o[a])!==s.substr(o[a]))break;"week"!==a&&(l=a)}return this.resolveDTLFormat(i[a]).main}}return m.formatCache={},m})),n(t,"Core/Defaults.js",[t["Core/Chart/ChartDefaults.js"],t["Core/Globals.js"],t["Core/Color/Palettes.js"],t["Core/Time.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r){let{isTouchDevice:s}=t,{fireEvent:o,merge:a}=r,l={colors:n.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:e,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:e=>Math.sqrt(1-Math.pow(e-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:s?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};l.chart.styledMode=!1;let c=new i(l.time);return{defaultOptions:l,defaultTime:c,getOptions:function(){return l},setOptions:function(e){return o(t,"setOptions",{options:e}),a(!0,l,e),(e.time||e.global)&&(t.time?t.time.update(a(l.global,l.time,e.global,e.time)):t.time=c),l}}})),n(t,"Core/Color/Color.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t){let{isNumber:n,merge:i,pInt:r}=t;class s{static parse(e){return e?new s(e):s.None}constructor(t){let n,i,r,o;this.rgba=[NaN,NaN,NaN,NaN],this.input=t;let a=e.Color;if(a&&a!==s)return new a(t);if("object"==typeof t&&void 0!==t.stops)this.stops=t.stops.map((e=>new s(e[1])));else if("string"==typeof t){if(this.input=t=s.names[t.toLowerCase()]||t,"#"===t.charAt(0)){let e=t.length,n=parseInt(t.substr(1),16);7===e?i=[(16711680&n)>>16,(65280&n)>>8,255&n,1]:4===e&&(i=[(3840&n)>>4|(3840&n)>>8,(240&n)>>4|240&n,(15&n)<<4|15&n,1])}if(!i)for(r=s.parsers.length;r--&&!i;)(n=(o=s.parsers[r]).regex.exec(t))&&(i=o.parse(n))}i&&(this.rgba=i)}get(e){let t=this.input,r=this.rgba;if("object"==typeof t&&void 0!==this.stops){let n=i(t);return n.stops=[].slice.call(n.stops),this.stops.forEach(((t,i)=>{n.stops[i]=[n.stops[i][0],t.get(e)]})),n}return r&&n(r[0])?"rgb"===e||!e&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===e?"".concat(r[3]):"rgba("+r.join(",")+")":t}brighten(e){let t=this.rgba;if(this.stops)this.stops.forEach((function(t){t.brighten(e)}));else if(n(e)&&0!==e)for(let n=0;n<3;n++)t[n]+=r(255*e),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255);return this}setOpacity(e){return this.rgba[3]=e,this}tweenTo(e,t){let i=this.rgba,r=e.rgba;if(!n(i[0])||!n(r[0]))return e.input||"none";let s=1!==r[3]||1!==i[3];return(s?"rgba(":"rgb(")+Math.round(r[0]+(i[0]-r[0])*(1-t))+","+Math.round(r[1]+(i[1]-r[1])*(1-t))+","+Math.round(r[2]+(i[2]-r[2])*(1-t))+(s?","+(r[3]+(i[3]-r[3])*(1-t)):"")+")"}}return s.names={white:"#ffffff",black:"#000000"},s.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(e){return[r(e[1]),r(e[2]),r(e[3]),parseFloat(e[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(e){return[r(e[1]),r(e[2]),r(e[3]),1]}}],s.None=new s(""),s})),n(t,"Core/Animation/Fx.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n){let{parse:i}=e,{win:r}=t,{isNumber:s,objectEach:o}=n;class a{constructor(e,t,n){this.pos=NaN,this.options=t,this.elem=e,this.prop=n}dSetter(){let e=this.paths,t=e&&e[0],n=e&&e[1],i=this.now||0,r=[];if(1!==i&&t&&n)if(t.length===n.length&&i<1)for(let o=0;o<n.length;o++){let e=t[o],a=n[o],l=[];for(let t=0;t<a.length;t++){let n=e[t],r=a[t];s(n)&&s(r)&&("A"!==a[0]||4!==t&&5!==t)?l[t]=n+i*(r-n):l[t]=r}r.push(l)}else r=n;else r=this.toD||[];this.elem.attr("d",r,void 0,!0)}update(){let e=this.elem,t=this.prop,n=this.now,i=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,n,null,!0):e.style[t]=n+this.unit,i&&i.call(e,n,this)}run(e,t,n){let i=this,s=i.options,o=function(e){return!o.stopped&&i.step(e)},l=r.requestAnimationFrame||function(e){setTimeout(e,13)},c=function(){for(let e=0;e<a.timers.length;e++)a.timers[e]()||a.timers.splice(e--,1);a.timers.length&&l(c)};e!==t||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=t,this.unit=n,this.now=this.start,this.pos=0,o.elem=this.elem,o.prop=this.prop,o()&&1===a.timers.push(o)&&l(c)):(delete s.curAnim[this.prop],s.complete&&0===Object.keys(s.curAnim).length&&s.complete.call(this.elem))}step(e){let t,n,i=+new Date,r=this.options,s=this.elem,a=r.complete,l=r.duration,c=r.curAnim;return s.attr&&!s.element?t=!1:e||i>=l+this.startTime?(this.now=this.end,this.pos=1,this.update(),c[this.prop]=!0,n=!0,o(c,(function(e){!0!==e&&(n=!1)})),n&&a&&a.call(s),t=!1):(this.pos=r.easing((i-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t}initPath(e,t,n){let i,r,o,a,l=e.startX,c=e.endX,h=n.slice(),u=e.isArea,d=u?2:1,p=t&&n.length>t.length&&n.hasStackedCliffs,f=t&&t.slice();if(!f||p)return[h,h];function g(e,t){for(;e.length<r;){let n=e[0],i=t[r-e.length];if(i&&"M"===n[0]&&("C"===i[0]?e[0]=["C",n[1],n[2],n[1],n[2],n[1],n[2]]:e[0]=["L",n[1],n[2]]),e.unshift(n),u){let t=e.pop();e.push(e[e.length-1],t)}}}function m(e){for(;e.length<r;){let t=e[Math.floor(e.length/d)-1].slice();if("C"===t[0]&&(t[1]=t[5],t[2]=t[6]),u){let n=e[Math.floor(e.length/d)].slice();e.splice(e.length/2,0,t,n)}else e.push(t)}}if(l&&c&&c.length){for(o=0;o<l.length;o++){if(l[o]===c[0]){i=o;break}if(l[0]===c[c.length-l.length+o]){i=o,a=!0;break}if(l[l.length-1]===c[c.length-l.length+o]){i=l.length-o;break}}void 0===i&&(f=[])}return f.length&&s(i)&&(r=h.length+i*d,a?(g(f,h),m(h)):(g(h,f),m(f))),[f,h]}fillSetter(){a.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,i(this.start).tweenTo(i(this.end),this.pos),void 0,!0)}}return a.timers=[],a})),n(t,"Core/Animation/AnimationUtilities.js",[t["Core/Animation/Fx.js"],t["Core/Utilities.js"]],(function(e,t){let{defined:n,getStyle:i,isArray:r,isNumber:s,isObject:o,merge:a,objectEach:l,pick:c}=t;function h(e){return o(e)?a({duration:500,defer:0},e):{duration:e?500:0,defer:0}}function u(t,n){let i=e.timers.length;for(;i--;)e.timers[i].elem!==t||n&&n!==e.timers[i].prop||(e.timers[i].stopped=!0)}return{animate:function(t,n,c){let h,d,p,f,g="";o(c)||(f=arguments,c={duration:f[2],easing:f[3],complete:f[4]}),s(c.duration)||(c.duration=400),c.easing="function"==typeof c.easing?c.easing:Math[c.easing]||Math.easeInOutSine,c.curAnim=a(n),l(n,(function(s,o){u(t,o),p=new e(t,c,o),d=void 0,"d"===o&&r(n.d)?(p.paths=p.initPath(t,t.pathArray,n.d),p.toD=n.d,h=0,d=1):t.attr?h=t.attr(o):(h=parseFloat(i(t,o))||0,"opacity"!==o&&(g="px")),d||(d=s),"string"==typeof d&&d.match("px")&&(d=d.replace(/px/g,"")),p.run(h,d,g)}))},animObject:h,getDeferredAnimation:function(e,t,i){let r=h(t),s=i?[i]:e.series,a=0,l=0;return s.forEach((e=>{let i=h(e.options.animation);a=o(t)&&n(t.defer)?r.defer:Math.max(a,i.duration+i.defer),l=Math.min(r.duration,i.duration)})),e.renderer.forExport&&(a=0),{defer:Math.max(0,a-l),duration:Math.min(a,l)}},setAnimation:function(e,t){t.renderer.globalAnimation=c(e,t.options.chart.animation,!0)},stop:u}})),n(t,"Core/Renderer/HTML/AST.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t){let{SVG_NS:n,win:i}=e,{attr:r,createElement:s,css:o,error:a,isFunction:l,isString:c,objectEach:h,splat:u}=t,{trustedTypes:d}=i,p=d&&l(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:e=>e}),f=p?p.createHTML(""):"",g=function(){try{return!!(new DOMParser).parseFromString(f,"text/html")}catch(e){return!1}}();class m{static filterUserAttributes(e){return h(e,((t,n)=>{let i=!0;-1===m.allowedAttributes.indexOf(n)&&(i=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(n)&&(i=c(t)&&m.allowedReferences.some((e=>0===t.indexOf(e)))),i||(a(33,!1,void 0,{"Invalid attribute in config":"".concat(n)}),delete e[n]),c(t)&&e[n]&&(e[n]=t.replace(/</g,"&lt;"))})),e}static parseStyle(e){return e.split(";").reduce(((e,t)=>{let n=t.split(":").map((e=>e.trim())),i=n.shift();return i&&n.length&&(e[i.replace(/-([a-z])/g,(e=>e[1].toUpperCase()))]=n.join(":")),e}),{})}static setElementHTML(e,t){e.innerHTML=m.emptyHTML,t&&new m(t).addToDOM(e)}constructor(e){this.nodes="string"==typeof e?this.parseMarkup(e):e}addToDOM(t){return function t(i,s){let l;return u(i).forEach((function(i){let c,u=i.tagName,d=i.textContent?e.doc.createTextNode(i.textContent):void 0,p=m.bypassHTMLFiltering;if(u)if("#text"===u)c=d;else if(-1!==m.allowedTags.indexOf(u)||p){let a="svg"===u?n:s.namespaceURI||n,l=e.doc.createElementNS(a,u),f=i.attributes||{};h(i,(function(e,t){"tagName"!==t&&"attributes"!==t&&"children"!==t&&"style"!==t&&"textContent"!==t&&(f[t]=e)})),r(l,p?f:m.filterUserAttributes(f)),i.style&&o(l,i.style),d&&l.appendChild(d),t(i.children||[],l),c=l}else a(33,!1,void 0,{"Invalid tagName in config":u});c&&s.appendChild(c),l=c})),l}(this.nodes,t)}parseMarkup(e){let t,n=[];if(e=e.trim().replace(/ style=(["'])/g," data-style=$1"),g)t=(new DOMParser).parseFromString(p?p.createHTML(e):e,"text/html");else{let n=s("div");n.innerHTML=e,t={body:n}}let i=(e,t)=>{let n=e.nodeName.toLowerCase(),r={tagName:n};"#text"===n&&(r.textContent=e.textContent||"");let s=e.attributes;if(s){let e={};[].forEach.call(s,(t=>{"data-style"===t.name?r.style=m.parseStyle(t.value):e[t.name]=t.value})),r.attributes=e}if(e.childNodes.length){let t=[];[].forEach.call(e.childNodes,(e=>{i(e,t)})),t.length&&(r.children=t)}t.push(r)};return[].forEach.call(t.body.childNodes,(e=>i(e,n))),n}}return m.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],m.allowedReferences=["https://","http://","mailto:","/","../","./","#"],m.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],m.emptyHTML=f,m.bypassHTMLFiltering=!1,m})),n(t,"Core/Templating.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],(function(e,t){let{defaultOptions:n,defaultTime:i}=e,{extend:r,getNestedProperty:s,isArray:o,isNumber:a,isObject:l,pick:c,pInt:h}=t,u={add:(e,t)=>e+t,divide:(e,t)=>0!==t?e/t:"",eq:(e,t)=>e==t,each:function(e){let t=arguments[arguments.length-1];return!!o(e)&&e.map(((n,i)=>d(t.body,r(l(n)?n:{"@this":n},{"@index":i,"@first":0===i,"@last":i===e.length-1})))).join("")},ge:(e,t)=>e>=t,gt:(e,t)=>e>t,if:e=>!!e,le:(e,t)=>e<=t,lt:(e,t)=>e<t,multiply:(e,t)=>e*t,ne:(e,t)=>e!=t,subtract:(e,t)=>e-t,unless:e=>!e};function d(){let e,t,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0,h=/\{([\w\:\.\,;\-\/<>%@"'\u2019= #\(\)]+)\}/g,f=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,g=[],m=/f$/,v=/\.(\d)/,y=n.lang,b=l&&l.time||i,w=l&&l.numberFormatter||p,x=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"true"===t||"false"!==t&&((e=Number(t)).toString()===t?e:s(t,a))},S=0;for(;null!==(e=h.exec(o));){var k;let n=f.exec(e[1]);n&&(e=n,r=!0),t&&t.isBlock||(t={ctx:a,expression:e[1],find:e[0],isBlock:"#"===e[1].charAt(0),start:e.index,startInner:e.index+e[0].length,length:e[0].length});let i=e[1].split(" ")[0].replace("#","");u[i]&&(t.isBlock&&i===t.fn&&S++,t.fn||(t.fn=i));let s="else"===e[1];if(t.isBlock&&t.fn&&(e[1]==="/".concat(t.fn)||s))if(S)!s&&S--;else{let n=t.startInner,i=o.substr(n,e.index-n);void 0===t.body?(t.body=i,t.startInner=e.index+e[0].length):t.elseBody=i,t.find+=i+e[0],s||(g.push(t),t=void 0)}else t.isBlock||g.push(t);if(n&&(null===(k=t)||void 0===k||!k.isBlock))break}return g.forEach((e=>{let t,n,{body:i,elseBody:r,expression:s,fn:h}=e;if(h){let o=[e],c=s.split(" ");for(n=u[h].length;n--;)o.unshift(x(c[n+1]));t=u[h].apply(a,o),e.isBlock&&"boolean"==typeof t&&(t=d(t?i:r,a,l))}else{let e=s.split(":");if(t=x(e.shift()||""),e.length&&"number"==typeof t){let n=e.join(":");if(m.test(n)){let e=parseInt((n.match(v)||["","-1"])[1],10);null!==t&&(t=w(t,e,y.decimalPoint,n.indexOf(",")>-1?y.thousandsSep:""))}else t=b.dateFormat(n,t)}}o=o.replace(e.find,c(t,""))})),r?d(o,a,l):o}function p(e,t,i,r){let s,o;e=+e||0,t=+t;let l=n.lang,u=(e.toString().split(".")[1]||"").split("e")[0].length,d=e.toString().split("e"),p=t;-1===t?t=Math.min(u,20):a(t)?t&&d[1]&&d[1]<0&&((o=t+ +d[1])>=0?(d[0]=(+d[0]).toExponential(o).split("e")[0],t=o):(d[0]=d[0].split(".")[0]||0,e=t<20?(d[0]*Math.pow(10,d[1])).toFixed(t):0,d[1]=0)):t=2;let f=(Math.abs(d[1]?d[0]:e)+Math.pow(10,-Math.max(t,u)-1)).toFixed(t),g=String(h(f)),m=g.length>3?g.length%3:0;return i=c(i,l.decimalPoint),r=c(r,l.thousandsSep),s=(e<0?"-":"")+(m?g.substr(0,m)+r:""),0>+d[1]&&!p?s="0":s+=g.substr(m).replace(/(\d{3})(?=\d)/g,"$1"+r),t?s+=i+f.slice(-t):0==+s&&(s="0"),d[1]&&0!=+s&&(s+="e"+d[1]),s}return{dateFormat:function(e,t,n){return i.dateFormat(e,t,n)},format:d,helpers:u,numberFormat:p}})),n(t,"Core/Renderer/RendererRegistry.js",[t["Core/Globals.js"]],(function(e){var t,n;let i;return(n=t||(t={})).rendererTypes={},n.getRendererType=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return n.rendererTypes[e]||n.rendererTypes[i]},n.registerRendererType=function(t,r,s){n.rendererTypes[t]=r,(!i||s)&&(i=t,e.Renderer=r)},t})),n(t,"Core/Renderer/RendererUtilities.js",[t["Core/Utilities.js"]],(function(e){var t;let{clamp:n,pick:i,pushUnique:r,stableSort:s}=e;return(t||(t={})).distribute=function e(t,o,a){let l,c,h,u,d,p,f=t,g=f.reducedLen||o,m=(e,t)=>e.target-t.target,v=[],y=t.length,b=[],w=v.push,x=!0,S=0;for(l=y;l--;)S+=t[l].size;if(S>g){for(s(t,((e,t)=>(t.rank||0)-(e.rank||0))),h=(p=t[0].rank===t[t.length-1].rank)?y/2:-1,c=p?h:y-1;h&&S>g;)u=t[l=Math.floor(c)],r(b,l)&&(S-=u.size),c+=h,p&&c>=t.length&&(h/=2,c=h);b.sort(((e,t)=>t-e)).forEach((e=>w.apply(v,t.splice(e,1))))}for(s(t,m),t=t.map((e=>({size:e.size,targets:[e.target],align:i(e.align,.5)})));x;){for(l=t.length;l--;)u=t[l],d=(Math.min.apply(0,u.targets)+Math.max.apply(0,u.targets))/2,u.pos=n(d-u.size*u.align,0,o-u.size);for(l=t.length,x=!1;l--;)l>0&&t[l-1].pos+t[l-1].size>t[l].pos&&(t[l-1].size+=t[l].size,t[l-1].targets=t[l-1].targets.concat(t[l].targets),t[l-1].align=.5,t[l-1].pos+t[l-1].size>o&&(t[l-1].pos=o-t[l-1].size),t.splice(l,1),x=!0)}return w.apply(f,v),l=0,t.some((t=>{let n=0;return(t.targets||[]).some((()=>(f[l].pos=t.pos+n,void 0!==a&&Math.abs(f[l].pos-f[l].target)>a?(f.slice(0,l+1).forEach((e=>delete e.pos)),f.reducedLen=(f.reducedLen||o)-.1*o,f.reducedLen>.1*o&&e(f,o,a),!0):(n+=f[l].size,l++,!1))))})),s(f,m),f},t})),n(t,"Core/Renderer/SVG/SVGElement.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{animate:r,animObject:s,stop:o}=e,{deg2rad:a,doc:l,svg:c,SVG_NS:h,win:u}=n,{addEvent:d,attr:p,createElement:f,crisp:g,css:m,defined:v,erase:y,extend:b,fireEvent:w,isArray:x,isFunction:S,isObject:k,isString:_,merge:T,objectEach:C,pick:E,pInt:I,pushUnique:A,replaceNested:P,syncTimeout:N,uniqueKey:M}=i;class O{_defaultGetter(e){let t=E(this[e+"Value"],this[e],this.element?this.element.getAttribute(e):null,0);return/^-?[\d\.]+$/.test(t)&&(t=parseFloat(t)),t}_defaultSetter(e,t,n){n.setAttribute(t,e)}add(e){let t,n=this.renderer,i=this.element;return e&&(this.parentGroup=e),void 0!==this.textStr&&"text"===this.element.nodeName&&n.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this}addClass(e,t){let n=t?"":this.attr("class")||"";return(e=(e||"").split(/ /g).reduce((function(e,t){return-1===n.indexOf(t)&&e.push(t),e}),n?[n]:[]).join(" "))!==n&&this.attr("class",e),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(e,t,n){let i,r,s,o,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l={},c=this.renderer,h=c.alignedObjects,u=!!e;e?(this.alignOptions=e,this.alignByTranslate=t,this.alignTo=n):(e=this.alignOptions||{},t=this.alignByTranslate,n=this.alignTo);let d=!n||_(n)?n||"renderer":void 0;d&&(u&&A(h,this),n=void 0);let p=E(n,c[d],c),f=e.align,g=e.verticalAlign;return i=(p.x||0)+(e.x||0),r=(p.y||0)+(e.y||0),"right"===f?s=1:"center"===f&&(s=2),s&&(i+=((p.width||0)-(e.width||0))/s),l[t?"translateX":"x"]=Math.round(i),"bottom"===g?o=1:"middle"===g&&(o=2),o&&(r+=((p.height||0)-(e.height||0))/o),l[t?"translateY":"y"]=Math.round(r),a&&(this[this.placed?"animate":"attr"](l),this.placed=!0),this.alignAttr=l,this}alignSetter(e){let t={left:"start",center:"middle",right:"end"};t[e]&&(this.alignValue=e,this.element.setAttribute("text-anchor",t[e]))}animate(e,t,n){let i=s(E(t,this.renderer.globalAnimation,!0)),o=i.defer;return l.hidden&&(i.duration=0),0!==i.duration?(n&&(i.complete=n),N((()=>{this.element&&r(this,e,i)}),o)):(this.attr(e,void 0,n||i.complete),C(e,(function(e,t){i.step&&i.step.call(this,e,{prop:t,pos:1,elem:this})}),this)),this}applyTextOutline(e){let t=this.element;-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(t.style.fill)));let i=e.split(" "),r=i[i.length-1],s=i[0];if(s&&"none"!==s&&n.svg){this.fakeTS=!0,s=s.replace(/(^[\d\.]+)(.*?)$/g,(function(e,t,n){return 2*Number(t)+n})),this.removeTextOutline();let e=l.createElementNS(h,"tspan");p(e,{class:"highcharts-text-outline",fill:r,stroke:r,"stroke-width":s,"stroke-linejoin":"round"});let n=t.querySelector("textPath")||t;[].forEach.call(n.childNodes,(t=>{let n=t.cloneNode(!0);n.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach((e=>n.removeAttribute(e))),e.appendChild(n)}));let i=0;[].forEach.call(n.querySelectorAll("text tspan"),(e=>{i+=Number(e.getAttribute("dy"))}));let o=l.createElementNS(h,"tspan");o.textContent="\u200b",p(o,{x:Number(t.getAttribute("x")),dy:-i}),e.appendChild(o),n.insertBefore(e,n.firstChild)}}attr(e,t,n,i){let r,s,a,{element:l}=this,c=O.symbolCustomAttribs,h=this;return"string"==typeof e&&void 0!==t&&(r=e,(e={})[r]=t),"string"==typeof e?h=(this[e+"Getter"]||this._defaultGetter).call(this,e,l):(C(e,(function(t,n){a=!1,i||o(this,n),this.symbolName&&-1!==c.indexOf(n)&&(s||(this.symbolAttr(e),s=!0),a=!0),this.rotation&&("x"===n||"y"===n)&&(this.doTransform=!0),a||(this[n+"Setter"]||this._defaultSetter).call(this,t,n,l)}),this),this.afterSetters()),n&&n.call(this),h}clip(e){if(e&&!e.clipPath){let t=M()+"-",n=this.renderer.createElement("clipPath").attr({id:t}).add(this.renderer.defs);b(e,{clipPath:n,id:t,count:0}),e.add(n)}return this.attr("clip-path",e?"url(".concat(this.renderer.url,"#").concat(e.id,")"):"none")}crisp(e,t){t=Math.round(t||e.strokeWidth||0);let n=e.x||this.x||0,i=e.y||this.y||0,r=(e.width||this.width||0)+n,s=(e.height||this.height||0)+i,o=g(n,t),a=g(i,t);return b(e,{x:o,y:a,width:g(r,t)-o,height:g(s,t)-a}),v(e.strokeWidth)&&(e.strokeWidth=t),e}complexColor(e,n,i){let r,s,o,a,l,c,h,u,d,p,f,g=this.renderer,m=[];w(this.renderer,"complexColor",{args:arguments},(function(){if(e.radialGradient?s="radialGradient":e.linearGradient&&(s="linearGradient"),s){if(o=e[s],l=g.gradients,c=e.stops,d=i.radialReference,x(o)&&(e[s]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&d&&!v(o.gradientUnits)&&(a=o,o=T(o,g.getRadialAttr(d,a),{gradientUnits:"userSpaceOnUse"})),C(o,(function(e,t){"id"!==t&&m.push(t,e)})),C(c,(function(e){m.push(e)})),l[m=m.join(",")])p=l[m].attr("id");else{o.id=p=M();let e=l[m]=g.createElement(s).attr(o).add(g.defs);e.radAttr=a,e.stops=[],c.forEach((function(n){0===n[1].indexOf("rgba")?(h=(r=t.parse(n[1])).get("rgb"),u=r.get("a")):(h=n[1],u=1);let i=g.createElement("stop").attr({offset:n[0],"stop-color":h,"stop-opacity":u}).add(e);e.stops.push(i)}))}f="url("+g.url+"#"+p+")",i.setAttribute(n,f),i.gradient=m,e.toString=function(){return f}}}))}css(e){let t,n=this.styles,i={},r=this.element,s=!n;if(n&&C(e,(function(e,t){n&&n[t]!==e&&(i[t]=e,s=!0)})),s){n&&(e=b(n,i)),null===e.width||"auto"===e.width?delete this.textWidth:"text"===r.nodeName.toLowerCase()&&e.width&&(t=this.textWidth=I(e.width)),b(this.styles,e),t&&!c&&this.renderer.forExport&&delete e.width;let s=T(e);r.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach((e=>s&&delete s[e])),s.color&&(s.fill=s.color)),m(r,s)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),e.textOutline&&this.applyTextOutline(e.textOutline)),this}dashstyleSetter(e){let t,n=this["stroke-width"];if("inherit"===n&&(n=1),e=e&&e.toLowerCase()){let i=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=i.length;t--;)i[t]=""+I(i[t])*E(n,NaN);e=i.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}}destroy(){var e;let t,n,i=this,r=i.element||{},s=i.renderer,a=r.ownerSVGElement,l="SPAN"===r.nodeName&&i.parentGroup||void 0;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,o(i),i.clipPath&&a){let e=i.clipPath;[].forEach.call(a.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){t.getAttribute("clip-path").indexOf(e.element.id)>-1&&t.removeAttribute("clip-path")})),i.clipPath=e.destroy()}if(i.connector=null===(e=i.connector)||void 0===e?void 0:e.destroy(),i.stops){for(n=0;n<i.stops.length;n++)i.stops[n].destroy();i.stops.length=0,i.stops=void 0}for(i.safeRemoveChild(r);l&&l.div&&0===l.div.childNodes.length;)t=l.parentGroup,i.safeRemoveChild(l.div),delete l.div,l=t;i.alignOptions&&y(s.alignedObjects,i),C(i,(function(e,t){i[t]&&i[t].parentGroup===i&&i[t].destroy&&i[t].destroy(),delete i[t]}))}dSetter(e,t,n){x(e)&&("string"==typeof e[0]&&(e=this.renderer.pathToSegments(e)),this.pathArray=e,e=e.reduce(((e,t,n)=>t&&t.join?(n?e+" ":"")+t.join(" "):(t||"").toString()),"")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),this[t]!==e&&(n.setAttribute(t,e),this[t]=e)}fillSetter(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.complexColor(e,t,n)}hrefSetter(e,t,n){n.setAttributeNS("http://www.w3.org/1999/xlink",t,e)}getBBox(e,t){let n,i,r,s,{alignValue:o,element:a,renderer:l,styles:c,textStr:h}=this,{cache:u,cacheKeys:d}=l,p=a.namespaceURI===this.SVG_NS,f=E(t,this.rotation,0),g=l.styledMode?a&&O.prototype.getStyle.call(a,"font-size"):c.fontSize;if(v(h)&&(-1===(s=h.toString()).indexOf("<")&&(s=s.replace(/\d/g,"0")),s+=["",l.rootFontSize,g,f,this.textWidth,o,c.textOverflow,c.fontWeight].join(",")),s&&!e&&(n=u[s]),!n||n.polygon){if(p||l.forExport){try{r=this.fakeTS&&function(e){let t=a.querySelector(".highcharts-text-outline");t&&m(t,{display:e})},S(r)&&r("none"),n=a.getBBox?b({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight,x:0,y:0},S(r)&&r("")}catch(e){}(!n||n.width<0)&&(n={x:0,y:0,width:0,height:0})}else n=this.htmlGetBBox();i=n.height,p&&(n.height=i={"11px,17":14,"13px,20":16}["".concat(g||"",",").concat(Math.round(i))]||i),f&&(n=this.getRotatedBox(n,f));let t={bBox:n};w(this,"afterGetBBox",t),n=t.bBox}if(s&&(""===h||n.height>0)){for(;d.length>250;)delete u[d.shift()];u[s]||d.push(s),u[s]=n}return n}getRotatedBox(e,t){let{x:n,y:i,width:r,height:s}=e,{alignValue:o,translateY:l,rotationOriginX:c=0,rotationOriginY:h=0}=this,u={right:1,center:.5}[o||0]||0,d=Number(this.element.getAttribute("y")||0)-(l?0:i),p=t*a,f=(t-90)*a,g=Math.cos(p),m=Math.sin(p),v=r*g,y=r*m,b=Math.cos(f),w=Math.sin(f),[[x,S],[k,_]]=[c,h].map((e=>[e-e*g,e*m])),T=n+u*(r-v)+x+_+d*b,C=T+v,E=C-s*b,I=E-v,A=i+d-u*y-S+k+d*w,P=A+y,N=P-s*w,M=N-y,O=Math.min(T,C,E,I),L=Math.min(A,P,N,M);return{x:O,y:L,width:Math.max(T,C,E,I)-O,height:Math.max(A,P,N,M)-L,polygon:[[T,A],[C,P],[E,N],[I,M]]}}getStyle(e){return u.getComputedStyle(this.element||this,"").getPropertyValue(e)}hasClass(e){return-1!==(""+this.attr("class")).split(" ").indexOf(e)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(e,t){this.onEvents={},this.opacity=1,this.SVG_NS=h,this.element="span"===t||"body"===t?f(t):l.createElementNS(this.SVG_NS,t),this.renderer=e,this.styles={},w(this,"afterInit")}on(e,t){let{onEvents:n}=this;return n[e]&&n[e](),n[e]=d(this.element,e,t),this}opacitySetter(e,t,n){let i=Number(Number(e).toFixed(3));this.opacity=i,n.setAttribute(t,i)}reAlign(){var e;(null===(e=this.alignOptions)||void 0===e?void 0:e.width)&&"left"!==this.alignOptions.align&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(e){return this.attr("class",(""+this.attr("class")).replace(_(e)?RegExp("(^| )".concat(e,"( |$)")):e," ").replace(/ +/g," ").trim())}removeTextOutline(){let e=this.element.querySelector("tspan.highcharts-text-outline");e&&this.safeRemoveChild(e)}safeRemoveChild(e){let t=e.parentNode;t&&t.removeChild(e)}setRadialReference(e){let t=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this}shadow(e){var t;let{renderer:n}=this,i=T(90===(null===(t=this.parentGroup)||void 0===t?void 0:t.rotation)?{offsetX:-1,offsetY:-1}:{},k(e)?e:{}),r=n.shadowDefinition(i);return this.attr({filter:e?"url(".concat(n.url,"#").concat(r,")"):"none"})}show(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.attr({visibility:e?"inherit":"visible"})}"stroke-widthSetter"(e,t,n){this[t]=e,n.setAttribute(t,e)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let e,t=this.getStyle("stroke-width"),n=0;return/px$/.test(t)?n=I(t):""!==t&&(p(e=l.createElementNS(h,"rect"),{width:t,"stroke-width":0}),this.element.parentNode.appendChild(e),n=e.getBBox().width,e.parentNode.removeChild(e)),n}symbolAttr(e){let t=this;O.symbolCustomAttribs.forEach((function(n){t[n]=E(e[n],t[n])})),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})}textSetter(e){e!==this.textStr&&(delete this.textPxLength,this.textStr=e,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(e){let t=this.element,n=t.getElementsByTagName("title")[0]||l.createElementNS(this.SVG_NS,"title");t.insertBefore?t.insertBefore(n,t.firstChild):t.appendChild(n),n.textContent=P(E(e,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let e=this.element;return e.parentNode.appendChild(e),this}translate(e,t){return this.attr({translateX:e,translateY:t})}updateTransform(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform",{element:n,matrix:i,rotation:r=0,rotationOriginX:s,rotationOriginY:o,scaleX:a,scaleY:l,translateX:c=0,translateY:h=0}=this,u=["translate("+c+","+h+")"];v(i)&&u.push("matrix("+i.join(",")+")"),r&&(u.push("rotate("+r+" "+E(s,n.getAttribute("x"),0)+" "+E(o,n.getAttribute("y")||0)+")"),"SPAN"===(null===(e=this.text)||void 0===e?void 0:e.element.tagName)&&this.text.attr({rotation:r,rotationOriginX:(s||0)-this.padding,rotationOriginY:(o||0)-this.padding})),(v(a)||v(l))&&u.push("scale("+E(a,1)+" "+E(l,1)+")"),u.length&&!(this.text||this).textPath&&n.setAttribute(t,u.join(" "))}visibilitySetter(e,t,n){"inherit"===e?n.removeAttribute(t):this[t]!==e&&n.setAttribute(t,e),this[t]=e}xGetter(e){return"circle"===this.element.nodeName&&("x"===e?e="cx":"y"===e&&(e="cy")),this._defaultGetter(e)}zIndexSetter(e,t){let n,i,r,s,o,a=this.renderer,l=this.parentGroup,c=(l||a).element||a.box,h=this.element,u=c===a.box,d=!1,p=this.added;if(v(e)?(h.setAttribute("data-z-index",e),e=+e,this[t]===e&&(p=!1)):v(this[t])&&h.removeAttribute("data-z-index"),this[t]=e,p){for((e=this.zIndex)&&l&&(l.handleZ=!0),o=(n=c.childNodes).length-1;o>=0&&!d;o--)s=!v(r=(i=n[o]).getAttribute("data-z-index")),i!==h&&(e<0&&s&&!u&&!o?(c.insertBefore(h,n[o]),d=!0):(I(r)<=e||s&&(!v(e)||e>=0))&&(c.insertBefore(h,n[o+1]),d=!0));d||(c.insertBefore(h,n[u?3:0]),d=!0)}return d}}return O.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],O.prototype.strokeSetter=O.prototype.fillSetter,O.prototype.yGetter=O.prototype.xGetter,O.prototype.matrixSetter=O.prototype.rotationOriginXSetter=O.prototype.rotationOriginYSetter=O.prototype.rotationSetter=O.prototype.scaleXSetter=O.prototype.scaleYSetter=O.prototype.translateXSetter=O.prototype.translateYSetter=O.prototype.verticalAlignSetter=function(e,t){this[t]=e,this.doTransform=!0},O})),n(t,"Core/Renderer/SVG/SVGLabel.js",[t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],(function(e,t){let{defined:n,extend:i,isNumber:r,merge:s,pick:o,removeEvent:a}=t;class l extends e{constructor(e,t,n,i,r,s,o,a,c,h){let u;super(e,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=t,this.x=n,this.y=i,this.anchorX=s,this.anchorY=o,this.baseline=c,this.className=h,this.addClass("button"===h?"highcharts-no-tooltip":"highcharts-label"),h&&this.addClass("highcharts-"+h),this.text=e.text(void 0,0,0,a).attr({zIndex:1}),"string"==typeof r&&((u=/^url\((.*?)\)$/.test(r))||this.renderer.symbols[r])&&(this.symbolKey=r),this.bBox=l.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=e.styledMode||u,this.deferredAttr={},this.alignFactor=0}alignSetter(e){let t={left:0,center:.5,right:1}[e];t!==this.alignFactor&&(this.alignFactor=t,this.bBox&&r(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(e,t){this.anchorX=e,this.boxAttr(t,Math.round(e)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(e,t){this.anchorY=e,this.boxAttr(t,e-this.ySetting)}boxAttr(e,t){this.box?this.box.attr(e,t):this.deferredAttr[e]=t}css(t){if(t){let e={};t=s(t),l.textProps.forEach((n=>{void 0!==t[n]&&(e[n]=t[n],delete t[n])})),this.text.css(e),"fontSize"in e||"fontWeight"in e?this.updateTextPadding():("width"in e||"textOverflow"in e)&&this.updateBoxSize()}return e.prototype.css.call(this,t)}destroy(){a(this.element,"mouseenter"),a(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),e.prototype.destroy.call(this)}fillSetter(e,t){e&&(this.needsBox=!0),this.fill=e,this.boxAttr(t,e)}getBBox(e,t){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();let{padding:n,height:i=0,translateX:r=0,translateY:s=0,width:a=0}=this,l=o(this.paddingLeft,n),c=null!==t&&void 0!==t?t:this.rotation||0,h={width:a,height:i,x:r+this.bBox.x-l,y:s+this.bBox.y-n+this.baselineOffset};return c&&(h=this.getRotatedBox(h,c)),h}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(e){this.heightSetting=e,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:o(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&n(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(e,t){r(e)?e!==this[t]&&(this[t]=e,this.updateTextPadding()):this[t]=void 0}rSetter(e,t){this.boxAttr(t,e)}strokeSetter(e,t){this.stroke=e,this.boxAttr(t,e)}"stroke-widthSetter"(e,t){e&&(this.needsBox=!0),this["stroke-width"]=e,this.boxAttr(t,e)}"text-alignSetter"(e){this.textAlign=e}textSetter(e){void 0!==e&&this.text.attr({text:e}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let e,t=this.text,s={},o=this.padding,a=this.bBox=r(this.widthSetting)&&r(this.heightSetting)&&!this.textAlign||!n(t.textStr)?l.emptyBBox:t.getBBox(void 0,0);this.width=this.getPaddedWidth(),this.height=(this.heightSetting||a.height||0)+2*o;let c=this.renderer.fontMetrics(t);if(this.baselineOffset=o+Math.min((this.text.firstLineMetrics||c).b,a.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-c.h)/2),this.needsBox&&!t.textPath){if(!this.box){let e=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();e.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),e.add(this)}e=this.getCrispAdjust(),s.x=e,s.y=(this.baseline?-this.baselineOffset:0)+e,s.width=Math.round(this.width),s.height=Math.round(this.height),this.box.attr(i(s,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let e=this.text;if(!e.textPath){this.updateBoxSize();let t=this.baseline?0:this.baselineOffset,i=o(this.paddingLeft,this.padding);n(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(i+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(i!==e.x||t!==e.y)&&(e.attr("x",i),e.hasBoxWidthChanged&&(this.bBox=e.getBBox(!0)),void 0!==t&&e.attr("y",t)),e.x=i,e.y=t}}widthSetter(e){this.widthSetting=r(e)?e:void 0,this.doUpdate=!0}getPaddedWidth(){let e=this.padding,t=o(this.paddingLeft,e),n=o(this.paddingRight,e);return(this.widthSetting||this.bBox.width||0)+t+n}xSetter(e){this.x=e,this.alignFactor&&(e-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(e),this.attr("translateX",this.xSetting)}ySetter(e){this.ySetting=this.y=Math.round(e),this.attr("translateY",this.ySetting)}}return l.emptyBBox={width:0,height:0,x:0,y:0},l.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],l})),n(t,"Core/Renderer/SVG/Symbols.js",[t["Core/Utilities.js"]],(function(e){let{defined:t,isNumber:n,pick:i}=e;function r(e,n,r,s,o){let a=[];if(o){let l=o.start||0,c=i(o.r,r),h=i(o.r,s||r),u=2e-4/(o.borderRadius?1:Math.max(c,1)),d=Math.abs((o.end||0)-l-2*Math.PI)<u,p=(o.end||0)-(d?u:0),f=o.innerR,g=i(o.open,d),m=Math.cos(l),v=Math.sin(l),y=Math.cos(p),b=Math.sin(p),w=i(o.longArc,p-l-Math.PI<u?0:1),x=["A",c,h,0,w,i(o.clockwise,1),e+c*y,n+h*b];x.params={start:l,end:p,cx:e,cy:n},a.push(["M",e+c*m,n+h*v],x),t(f)&&((x=["A",f,f,0,w,t(o.clockwise)?1-o.clockwise:0,e+f*m,n+f*v]).params={start:p,end:l,cx:e,cy:n},a.push(g?["M",e+f*y,n+f*b]:["L",e+f*y,n+f*b],x)),g||a.push(["Z"])}return a}function s(e,t,n,i,r){return r&&r.r?o(e,t,n,i,r):[["M",e,t],["L",e+n,t],["L",e+n,t+i],["L",e,t+i],["Z"]]}function o(e,t,n,i,r){let s=(null===r||void 0===r?void 0:r.r)||0;return[["M",e+s,t],["L",e+n-s,t],["A",s,s,0,0,1,e+n,t+s],["L",e+n,t+i-s],["A",s,s,0,0,1,e+n-s,t+i],["L",e+s,t+i],["A",s,s,0,0,1,e,t+i-s],["L",e,t+s],["A",s,s,0,0,1,e+s,t],["Z"]]}return{arc:r,callout:function(e,t,i,r,s){let a=Math.min(s&&s.r||0,i,r),l=a+6,c=s&&s.anchorX,h=s&&s.anchorY||0,u=o(e,t,i,r,{r:a});if(!n(c)||c<i&&c>0&&h<r&&h>0)return u;if(e+c>i-l)if(h>t+l&&h<t+r-l)u.splice(3,1,["L",e+i,h-6],["L",e+i+6,h],["L",e+i,h+6],["L",e+i,t+r-a]);else if(c<i){let n=h<t+l,s=n?t:t+r;u.splice(n?2:5,0,["L",c,h],["L",e+i-a,s])}else u.splice(3,1,["L",e+i,r/2],["L",c,h],["L",e+i,r/2],["L",e+i,t+r-a]);else if(e+c<l)if(h>t+l&&h<t+r-l)u.splice(7,1,["L",e,h+6],["L",e-6,h],["L",e,h-6],["L",e,t+a]);else if(c>0){let n=h<t+l,i=n?t:t+r;u.splice(n?1:6,0,["L",c,h],["L",e+a,i])}else u.splice(7,1,["L",e,r/2],["L",c,h],["L",e,r/2],["L",e,t+a]);else h>r&&c<i-l?u.splice(5,1,["L",c+6,t+r],["L",c,t+r+6],["L",c-6,t+r],["L",e+a,t+r]):h<0&&c>l&&u.splice(1,1,["L",c-6,t],["L",c,t-6],["L",c+6,t],["L",i-a,t]);return u},circle:function(e,t,n,i){return r(e+n/2,t+i/2,n/2,i/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(e,t,n,i){return[["M",e+n/2,t],["L",e+n,t+i/2],["L",e+n/2,t+i],["L",e,t+i/2],["Z"]]},rect:s,roundedRect:o,square:s,triangle:function(e,t,n,i){return[["M",e+n/2,t],["L",e+n,t+i],["L",e,t+i],["Z"]]},"triangle-down":function(e,t,n,i){return[["M",e,t],["L",e+n,t],["L",e+n/2,t+i],["Z"]]}}})),n(t,"Core/Renderer/SVG/TextBuilder.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n){let{doc:i,SVG_NS:r,win:s}=t,{attr:o,extend:a,fireEvent:l,isString:c,objectEach:h,pick:u}=n;return class{constructor(e){let t=e.styles;this.renderer=e.renderer,this.svgElement=e,this.width=e.textWidth,this.textLineHeight=t&&t.lineHeight,this.textOutline=t&&t.textOutline,this.ellipsis=!(!t||"ellipsis"!==t.textOverflow),this.noWrap=!(!t||"nowrap"!==t.whiteSpace)}buildSVG(){let t=this.svgElement,n=t.element,r=t.renderer,s=u(t.textStr,"").toString(),o=-1!==s.indexOf("<"),a=n.childNodes,l=!t.added&&r.box,h=[s,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,t.getStyle("font-size"),this.width].join(",");if(h!==t.textCache){t.textCache=h,delete t.actualWidth;for(let e=a.length;e--;)n.removeChild(a[e]);if(o||this.ellipsis||this.width||t.textPath||-1!==s.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(s))){if(""!==s){l&&l.appendChild(n);let i=new e(s);this.modifyTree(i.nodes),i.addToDOM(n),this.modifyDOM(),this.ellipsis&&-1!==(n.textContent||"").indexOf("\u2026")&&t.attr("title",this.unescapeEntities(t.textStr||"",["&lt;","&gt;"])),l&&l.removeChild(n)}}else n.appendChild(i.createTextNode(this.unescapeEntities(s)));c(this.textOutline)&&t.applyTextOutline&&t.applyTextOutline(this.textOutline)}}modifyDOM(){let e,t=this.svgElement,n=o(t.element,"x");for(t.firstLineMetrics=void 0;(e=t.element.firstChild)&&/^[\s\u200B]*$/.test(e.textContent||" ");)t.element.removeChild(e);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),((e,i)=>{e.nextSibling&&e.previousSibling&&(0===i&&1===e.previousSibling.nodeType&&(t.firstLineMetrics=t.renderer.fontMetrics(e.previousSibling)),o(e,{dy:this.getLineHeight(e.nextSibling),x:n}))}));let a=this.width||0;if(!a)return;let l=(e,s)=>{let l=e.textContent||"",c=l.replace(/([^\^])-/g,"$1- ").split(" "),h=!this.noWrap&&(c.length>1||t.element.childNodes.length>1),u=this.getLineHeight(s),d=0,p=t.actualWidth;if(this.ellipsis)l&&this.truncate(e,l,void 0,0,Math.max(0,a-.8*u),((e,t)=>e.substring(0,t)+"\u2026"));else if(h){let l=[],h=[];for(;s.firstChild&&s.firstChild!==e;)h.push(s.firstChild),s.removeChild(s.firstChild);for(;c.length;)c.length&&!this.noWrap&&d>0&&(l.push(e.textContent||""),e.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(e,void 0,c,0===d&&p||0,a,((e,t)=>c.slice(0,t).join(" ").replace(/- /g,"-"))),p=t.actualWidth,d++;h.forEach((t=>{s.insertBefore(t,e)})),l.forEach((t=>{s.insertBefore(i.createTextNode(t),e);let a=i.createElementNS(r,"tspan");a.textContent="\u200b",o(a,{dy:u,x:n}),s.insertBefore(a,e)}))}},c=e=>{[].slice.call(e.childNodes).forEach((n=>{n.nodeType===s.Node.TEXT_NODE?l(n,e):(-1!==n.className.baseVal.indexOf("highcharts-br")&&(t.actualWidth=0),c(n))}))};c(t.element)}getLineHeight(e){let t=e.nodeType===s.Node.TEXT_NODE?e.parentElement:e;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(e){let t=(n,i)=>{let{attributes:r={},children:s,style:o={},tagName:l}=n,c=this.renderer.styledMode;if("b"===l||"strong"===l?c?r.class="highcharts-strong":o.fontWeight="bold":("i"===l||"em"===l)&&(c?r.class="highcharts-emphasized":o.fontStyle="italic"),o&&o.color&&(o.fill=o.color),"br"===l){r.class="highcharts-br",n.textContent="\u200b";let t=e[i+1];t&&t.textContent&&(t.textContent=t.textContent.replace(/^ +/gm,""))}else"a"===l&&s&&s.some((e=>"#text"===e.tagName))&&(n.children=[{children:s,tagName:"tspan"}]);"#text"!==l&&"a"!==l&&(n.tagName="tspan"),a(n,{attributes:r,style:o}),s&&s.filter((e=>"#text"!==e.tagName)).forEach(t)};e.forEach(t),l(this.svgElement,"afterModifyTree",{nodes:e})}truncate(e,t,n,i,r,s){let o,a,l=this.svgElement,{rotation:c}=l,h=[],u=n?1:0,d=(t||n||"").length,p=d,f=function(t,r){let s=r||t,o=e.parentNode;if(o&&void 0===h[s]&&o.getSubStringLength)try{h[s]=i+o.getSubStringLength(0,n?s+1:s)}catch(e){}return h[s]};if(l.rotation=0,i+(a=f(e.textContent.length))>r){for(;u<=d;)p=Math.ceil((u+d)/2),n&&(o=s(n,p)),a=f(p,o&&o.length-1),u===d?u=d+1:a>r?d=p-1:u=p;0===d?e.textContent="":t&&d===t.length-1||(e.textContent=o||s(t||n,p))}n&&n.splice(0,p),l.actualWidth=a,l.rotation=c}unescapeEntities(e,t){return h(this.renderer.escapes,(function(n,i){t&&-1!==t.indexOf(n)||(e=e.toString().replace(RegExp(n,"g"),i))})),e}}})),n(t,"Core/Renderer/SVG/SVGRenderer.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Defaults.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Renderer/SVG/Symbols.js"],t["Core/Renderer/SVG/TextBuilder.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r,s,o,a,l,c){let h,{defaultOptions:u}=t,{charts:d,deg2rad:p,doc:f,isFirefox:g,isMS:m,isWebKit:v,noop:y,SVG_NS:b,symbolSizes:w,win:x}=i,{addEvent:S,attr:k,createElement:_,crisp:T,css:C,defined:E,destroyObjectProperties:I,extend:A,isArray:P,isNumber:N,isObject:M,isString:O,merge:L,pick:D,pInt:R,replaceNested:j,uniqueKey:F}=c;class U{constructor(e,t,n,i,r,s,o){let a,l,c=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),h=c.element;o||c.css(this.getStyle(i||{})),e.appendChild(h),k(e,"dir","ltr"),-1===e.innerHTML.indexOf("xmlns")&&k(h,"xmlns",this.SVG_NS),this.box=h,this.boxWrapper=c,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=r,this.styledMode=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=c.getStyle("font-size"),this.setSize(t,n,!1),g&&e.getBoundingClientRect&&((a=function(){C(e,{left:0,top:0}),l=e.getBoundingClientRect(),C(e,{left:Math.ceil(l.left)-l.left+"px",top:Math.ceil(l.top)-l.top+"px"})})(),this.unSubPixelFix=S(x,"resize",a))}definition(t){return new e([t]).addToDOM(this.defs.element)}getReferenceURL(){if((g||v)&&f.getElementsByTagName("base").length){if(!E(h)){let t=F(),n=new e([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#".concat(t,")"),fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(f.body);C(n,{position:"fixed",top:0,left:0,zIndex:9e5});let i=f.elementFromPoint(6,6);h="hitme"===(i&&i.id),f.body.removeChild(n)}if(h)return j(x.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(e){return this.style=A({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},e),this.style}setStyle(e){this.boxWrapper.css(this.getStyle(e))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),I(this.gradients||{}),this.gradients=null,this.defs=e.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(e){return new this.Element(this,e)}getRadialAttr(e,t){return{cx:e[0]-e[2]/2+(t.cx||0)*e[2],cy:e[1]-e[2]/2+(t.cy||0)*e[2],r:(t.r||0)*e[2]}}shadowDefinition(e){let t=["highcharts-drop-shadow-".concat(this.chartIndex),...Object.keys(e).map((t=>"".concat(t,"-").concat(e[t])))].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),n=L({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},e);return this.defs.element.querySelector("#".concat(t))||this.definition({tagName:"filter",attributes:{id:t,filterUnits:n.filterUnits},children:this.getShadowFilterContent(n)}),t}getShadowFilterContent(e){return[{tagName:"feDropShadow",attributes:{dx:e.offsetX,dy:e.offsetY,"flood-color":e.color,"flood-opacity":Math.min(5*e.opacity,1),stdDeviation:e.width/2}}]}buildText(e){new l(e).buildSVG()}getContrast(e){let t=n.parse(e).rgba.map((e=>{let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),i=.2126*t[0]+.7152*t[1]+.0722*t[2];return 1.05/(i+.05)>(i+.05)/.05?"#FFFFFF":"#000000"}button(t,n,i,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>8?arguments[8]:void 0,a=arguments.length>9?arguments[9]:void 0,l=this.label(t,n,i,o,void 0,void 0,a,void 0,"button"),c=this.styledMode,h=arguments,d=0;s=L(u.global.buttonTheme,s),c&&(delete s.fill,delete s.stroke,delete s["stroke-width"]);let p=s.states||{},f=s.style||{};delete s.states,delete s.style;let g=[e.filterUserAttributes(s)],v=[f];return c||["hover","select","disabled"].forEach(((t,n)=>{g.push(L(g[0],e.filterUserAttributes(h[n+5]||p[t]||{}))),v.push(g[n+1].style),delete g[n+1].style})),S(l.element,m?"mouseover":"mouseenter",(function(){3!==d&&l.setState(1)})),S(l.element,m?"mouseout":"mouseleave",(function(){3!==d&&l.setState(d)})),l.setState=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(1!==e&&(l.state=d=e),l.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][e]),!c){l.attr(g[e]);let t=v[e];M(t)&&l.css(t)}},l.attr(g[0]),!c&&(l.css(A({cursor:"default"},f)),a&&l.text.css({pointerEvents:"none"})),l.on("touchstart",(e=>e.stopPropagation())).on("click",(function(e){3!==d&&r.call(l,e)}))}crispLine(e,t){let[n,i]=e;return E(n[1])&&n[1]===i[1]&&(n[1]=i[1]=T(n[1],t)),E(n[2])&&n[2]===i[2]&&(n[2]=i[2]=T(n[2],t)),e}path(e){let t=this.styledMode?{}:{fill:"none"};return P(e)?t.d=e:M(e)&&A(t,e),this.createElement("path").attr(t)}circle(e,t,n){let i=M(e)?e:void 0===e?{}:{x:e,y:t,r:n},r=this.createElement("circle");return r.xSetter=r.ySetter=function(e,t,n){n.setAttribute("c"+t,e)},r.attr(i)}arc(e,t,n,i,r,s){let o;M(e)?(t=(o=e).y,n=o.r,i=o.innerR,r=o.start,s=o.end,e=o.x):o={innerR:i,start:r,end:s};let a=this.symbol("arc",e,t,n,n,o);return a.r=n,a}rect(e,t,n,i,r,s){let o=M(e)?e:void 0===e?{}:{x:e,y:t,r:r,width:Math.max(n||0,0),height:Math.max(i||0,0)},a=this.createElement("rect");return this.styledMode||(void 0!==s&&(o["stroke-width"]=s,A(o,a.crisp(o))),o.fill="none"),a.rSetter=function(e,t,n){a.r=e,k(n,{rx:e,ry:e})},a.rGetter=function(){return a.r||0},a.attr(o)}roundedRect(e){return this.symbol("roundedRect").attr(e)}setSize(e,t,n){this.width=e,this.height=t,this.boxWrapper.animate({width:e,height:t},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:D(n,!0)?void 0:0}),this.alignElements()}g(e){let t=this.createElement("g");return e?t.attr({class:"highcharts-"+e}):t}image(e,t,n,i,r,s){let o={preserveAspectRatio:"none"};N(t)&&(o.x=t),N(n)&&(o.y=n),N(i)&&(o.width=i),N(r)&&(o.height=r);let a=this.createElement("image").attr(o),l=function(t){a.attr({href:e}),s.call(a,t)};if(s){a.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let t=new x.Image;S(t,"load",l),t.src=e,t.complete&&l({})}else a.attr({href:e});return a}symbol(e,t,n,i,r,s){let o,a,l,c,h=this,u=/^url\((.*?)\)$/,p=u.test(e),g=!p&&(this.symbols[e]?e:"circle"),m=g&&this.symbols[g];if(m)"number"==typeof t&&(a=m.call(this.symbols,t||0,n||0,i||0,r||0,s)),o=this.path(a),h.styledMode||o.attr("fill","none"),A(o,{symbolName:g||void 0,x:t,y:n,width:i,height:r}),s&&A(o,s);else if(p){l=e.match(u)[1];let i=o=this.image(l);i.imgwidth=D(s&&s.width,w[l]&&w[l].width),i.imgheight=D(s&&s.height,w[l]&&w[l].height),c=e=>e.attr({width:e.width,height:e.height}),["width","height"].forEach((e=>{i["".concat(e,"Setter")]=function(e,t){this[t]=e;let{alignByTranslate:n,element:i,width:r,height:o,imgwidth:a,imgheight:l}=this,c="width"===t?a:l,h=1;s&&"within"===s.backgroundSize&&r&&o&&a&&l?(h=Math.min(r/a,o/l),k(i,{width:Math.round(a*h),height:Math.round(l*h)})):i&&c&&i.setAttribute(t,c),!n&&a&&l&&this.translate(((r||0)-a*h)/2,((o||0)-l*h)/2)}})),E(t)&&i.attr({x:t,y:n}),i.isImg=!0,i.symbolUrl=e,E(i.imgwidth)&&E(i.imgheight)?c(i):(i.attr({width:0,height:0}),_("img",{onload:function(){let e=d[h.chartIndex];0===this.width&&(C(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),w[l]={width:this.width,height:this.height},i.imgwidth=this.width,i.imgheight=this.height,i.element&&c(i),this.parentNode&&this.parentNode.removeChild(this),h.imgCount--,h.imgCount||!e||e.hasLoaded||e.onload()},src:l}),this.imgCount++)}return o}clipRect(e,t,n,i){return this.rect(e,t,n,i,0)}text(e,t,n,i){let r={};if(i&&(this.allowHTML||!this.forExport))return this.html(e,t,n);r.x=Math.round(t||0),n&&(r.y=Math.round(n)),E(e)&&(r.text=e);let s=this.createElement("text").attr(r);return i&&(!this.forExport||this.allowHTML)||(s.xSetter=function(e,t,n){let i=n.getElementsByTagName("tspan"),r=n.getAttribute(t);for(let s,o=0;o<i.length;o++)(s=i[o]).getAttribute(t)===r&&s.setAttribute(t,e);n.setAttribute(t,e)}),s}fontMetrics(e){let t=R(s.prototype.getStyle.call(e,"font-size")||0),n=t<24?t+3:Math.round(1.2*t);return{h:n,b:Math.round(.8*n),f:t}}rotCorr(e,t,n){let i=e;return t&&n&&(i=Math.max(i*Math.cos(t*p),4)),{x:-e/3*Math.sin(t*p),y:i}}pathToSegments(e){let t=[],n=[],i={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let r=0;r<e.length;r++)O(n[0])&&N(e[r])&&n.length===i[n[0].toUpperCase()]&&e.splice(r,0,n[0].replace("M","L").replace("m","l")),"string"==typeof e[r]&&(n.length&&t.push(n.slice(0)),n.length=0),n.push(e[r]);return t.push(n.slice(0)),t}label(e,t,n,i,r,s,a,l,c){return new o(this,e,t,n,i,r,s,a,l,c)}alignElements(){this.alignedObjects.forEach((e=>e.align()))}}return A(U.prototype,{Element:s,SVG_NS:b,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:a,draw:y}),r.registerRendererType("svg",U,!0),U})),n(t,"Core/Renderer/HTML/HTMLElement.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Globals.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{composed:r}=t,{attr:s,css:o,createElement:a,defined:l,extend:c,pInt:h,pushUnique:u}=i;function d(e,t,i){var r;let s=(null===(r=this.div)||void 0===r?void 0:r.style)||i.style;n.prototype["".concat(t,"Setter")].call(this,e,t,i),s&&(s[t]=e)}let p=(e,t)=>{if(!e.div){var i;let r=s(e.element,"class"),o=e.css,l=a("div",r?{className:r}:void 0,{position:"absolute",left:"".concat(e.translateX||0,"px"),top:"".concat(e.translateY||0,"px"),...e.styles,display:e.display,opacity:e.opacity,visibility:e.visibility},(null===(i=e.parentGroup)||void 0===i?void 0:i.div)||t);e.classSetter=(e,t,n)=>{n.setAttribute("class",e),l.className=e},e.translateXSetter=e.translateYSetter=(t,n)=>{e[n]=t,l.style["translateX"===n?"left":"top"]="".concat(t,"px"),e.doTransform=!0},e.opacitySetter=e.visibilitySetter=d,e.css=t=>(o.call(e,t),t.cursor&&(l.style.cursor=t.cursor),t.pointerEvents&&(l.style.pointerEvents=t.pointerEvents),e),e.on=function(){return n.prototype.on.apply({element:l,onEvents:e.onEvents},arguments),e},e.div=l}return e.div};class f extends n{static compose(e){u(r,this.compose)&&(e.prototype.html=function(e,t,n){return new f(this,"span").attr({text:e,x:Math.round(t),y:Math.round(n)})})}constructor(e,t){super(e,t),this.css({position:"absolute",...e.styledMode?{}:{fontFamily:e.style.fontFamily,fontSize:e.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(e,t,n){this.xCorr=-e*n,this.yCorr=-t}css(e){let t,{element:n}=this,i="SPAN"===n.tagName&&e&&"width"in e,r=i&&e.width;return i&&(delete e.width,this.textWidth=h(r)||void 0,t=!0),"ellipsis"===(null===e||void 0===e?void 0:e.textOverflow)&&(e.whiteSpace="nowrap",e.overflow="hidden"),c(this.styles,e),o(n,e),t&&this.updateTransform(),this}htmlGetBBox(){let{element:e}=this;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}updateTransform(){if(!this.added)return void(this.alignOnAdd=!0);let{element:e,renderer:t,rotation:n,rotationOriginX:i,rotationOriginY:r,styles:s,textAlign:a="left",textWidth:c,translateX:h=0,translateY:u=0,x:d=0,y:p=0}=this,f={left:0,center:.5,right:1}[a],g=s.whiteSpace;if(o(e,{marginLeft:"".concat(h,"px"),marginTop:"".concat(u,"px")}),"SPAN"===e.tagName){var m;let s,h=[n,a,e.innerHTML,c,this.textAlign].join(","),u=-1*(null===(m=this.parentGroup)||void 0===m?void 0:m.padding)||0,v=!1;if(c!==this.oldTextWidth){let t=this.textPxLength?this.textPxLength:(o(e,{width:"",whiteSpace:g||"nowrap"}),e.offsetWidth),i=c||0;(i>this.oldTextWidth||t>i)&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)&&(o(e,{width:t>i||n?c+"px":"auto",display:"block",whiteSpace:g||"normal"}),this.oldTextWidth=c,v=!0)}this.hasBoxWidthChanged=v,h!==this.cTT&&(s=t.fontMetrics(e).b,l(n)&&(n!==(this.oldRotation||0)||a!==this.oldAlign)&&this.setSpanRotation(n,u,u),this.getSpanCorrection(!l(n)&&this.textPxLength||e.offsetWidth,s,f));let{xCorr:y=0,yCorr:b=0}=this,w=(null!==i&&void 0!==i?i:d)-y-d-u,x=(null!==r&&void 0!==r?r:p)-b-p-u;o(e,{left:"".concat(d+y,"px"),top:"".concat(p+b,"px"),transformOrigin:"".concat(w,"px ").concat(x,"px")}),this.cTT=h,this.oldRotation=n,this.oldAlign=a}}setSpanRotation(e,t,n){o(this.element,{transform:"rotate(".concat(e,"deg)"),transformOrigin:"".concat(t,"% ").concat(n,"px")})}add(e){let t,n=this.renderer.box.parentNode,i=[];if(this.parentGroup=e,e&&!(t=e.div)){let r=e;for(;r;)i.push(r),r=r.parentGroup;for(let e of i.reverse())t=p(e,n)}return(t||n).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(t){t!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,e.setElementHTML(this.element,null!==t&&void 0!==t?t:""),this.textStr=t,this.doTransform=!0)}alignSetter(e){this.alignValue=this.textAlign=e,this.doTransform=!0}xSetter(e,t){this[t]=e,this.doTransform=!0}}let g=f.prototype;return g.visibilitySetter=g.opacitySetter=d,g.ySetter=g.rotationSetter=g.rotationOriginXSetter=g.rotationOriginYSetter=g.xSetter,f})),n(t,"Core/Axis/AxisDefaults.js",[],(function(){var e,t;return(t=e||(e={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},t.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:e}=this.axis.chart;return e(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},e})),n(t,"Core/Foundation.js",[t["Core/Utilities.js"]],(function(e){var t;let{addEvent:n,isFunction:i,objectEach:r,removeEvent:s}=e;return(t||(t={})).registerEventOptions=function(e,t){e.eventOptions=e.eventOptions||{},r(t.events,(function(t,r){e.eventOptions[r]!==t&&(e.eventOptions[r]&&(s(e,r,e.eventOptions[r]),delete e.eventOptions[r]),i(t)&&(e.eventOptions[r]=t,n(e,r,t,{order:0})))}))},t})),n(t,"Core/Axis/Tick.js",[t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n){let{deg2rad:i}=t,{clamp:r,correctFloat:s,defined:o,destroyObjectProperties:a,extend:l,fireEvent:c,isNumber:h,merge:u,objectEach:d,pick:p}=n;return class{constructor(e,t,n,i,r){this.isNew=!0,this.isNewLabel=!0,this.axis=e,this.pos=t,this.type=n||"",this.parameters=r||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,c(this,"init"),n||i||this.addLabel()}addLabel(){let t,n,i,r=this,a=r.axis,u=a.options,d=a.chart,f=a.categories,g=a.logarithmic,m=a.names,v=r.pos,y=p(r.options&&r.options.labels,u.labels),b=a.tickPositions,w=v===b[0],x=v===b[b.length-1],S=(!y.step||1===y.step)&&1===a.tickInterval,k=b.info,_=r.label,T=this.parameters.category||(f?p(f[v],m[v],v):v);g&&h(T)&&(T=s(g.lin2log(T))),a.dateTime&&(k?t=(n=d.time.resolveDTLFormat(u.dateTimeLabelFormats[!u.grid&&k.higherRanks[v]||k.unitName])).main:h(T)&&(t=a.dateTime.getXDateFormat(T,u.dateTimeLabelFormats||{}))),r.isFirst=w,r.isLast=x;let C={axis:a,chart:d,dateTimeLabelFormat:t,isFirst:w,isLast:x,pos:v,tick:r,tickPositionInfo:k,value:T};c(this,"labelFormat",C);let E=t=>y.formatter?y.formatter.call(t,t):y.format?(t.text=a.defaultLabelFormatter.call(t),e.format(y.format,t,d)):a.defaultLabelFormatter.call(t),I=E.call(C,C),A=n&&n.list;r.shortenLabel=A?function(){for(i=0;i<A.length;i++)if(l(C,{dateTimeLabelFormat:A[i]}),_.attr({text:E.call(C,C)}),_.getBBox().width<a.getSlotWidth(r)-2*(y.padding||0))return;_.attr({text:""})}:void 0,S&&a._addedPlotLB&&r.moveLabel(I,y),o(_)||r.movedLabel?_&&_.textStr!==I&&!S&&(!_.textWidth||y.style.width||_.styles.width||_.css({width:null}),_.attr({text:I}),_.textPxLength=_.getBBox().width):(r.label=_=r.createLabel(I,y),r.rotation=0)}createLabel(e,t,n){let i=this.axis,r=i.chart,s=o(e)&&t.enabled?r.renderer.text(e,null===n||void 0===n?void 0:n.x,null===n||void 0===n?void 0:n.y,t.useHTML).add(i.labelGroup):void 0;return s&&(r.styledMode||s.css(u(t.style)),s.textPxLength=s.getBBox().width),s}destroy(){a(this,this.axis)}getPosition(e,t,n,i){let o=this.axis,a=o.chart,l=i&&a.oldChartHeight||a.chartHeight,h={x:e?s(o.translate(t+n,void 0,void 0,i)+o.transB):o.left+o.offset+(o.opposite?(i&&a.oldChartWidth||a.chartWidth)-o.right-o.left:0),y:e?l-o.bottom+o.offset-(o.opposite?o.height:0):s(l-o.translate(t+n,void 0,void 0,i)-o.transB)};return h.y=r(h.y,-1e9,1e9),c(this,"afterGetPosition",{pos:h}),h}getLabelPosition(e,t,n,r,s,a,l,h){let u,d,f=this.axis,g=f.transA,m=f.isLinked&&f.linkedParent?f.linkedParent.reversed:f.reversed,v=f.staggerLines,y=f.tickRotCorr||{x:0,y:0},b=r||f.reserveSpaceDefault?0:-f.labelOffset*("center"===f.labelAlign?.5:1),w=s.distance,x={};return u=0===f.side?n.rotation?-w:-n.getBBox().height:2===f.side?y.y+w:Math.cos(n.rotation*i)*(y.y-n.getBBox(!1,0).height/2),o(s.y)&&(u=0===f.side&&f.horiz?s.y+u:s.y),e=e+p(s.x,[0,1,0,-1][f.side]*w)+b+y.x-(a&&r?a*g*(m?-1:1):0),t=t+u-(a&&!r?a*g*(m?1:-1):0),v&&(d=l/(h||1)%v,f.opposite&&(d=v-d-1),t+=d*(f.labelOffset/v)),x.x=e,x.y=Math.round(t),c(this,"afterGetLabelPosition",{pos:x,tickmarkOffset:a,index:l}),x}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(arguments.length>5?arguments[5]:void 0).crispLine([["M",e,t],["L",e+(r?0:-n),t+(r?n:0)]],i)}handleOverflow(e){let t,n,r,s=this.axis,o=s.options.labels,a=e.x,l=s.chart.chartWidth,c=s.chart.spacing,h=p(s.labelLeft,Math.min(s.pos,c[3])),u=p(s.labelRight,Math.max(s.isRadial?0:s.pos+s.len,l-c[1])),d=this.label,f=this.rotation,g={left:0,center:.5,right:1}[s.labelAlign||d.attr("align")],m=d.getBBox().width,v=s.getSlotWidth(this),y={},b=v,w=1;f||"justify"!==o.overflow?f<0&&a-g*m<h?r=Math.round(a/Math.cos(f*i)-h):f>0&&a+g*m>u&&(r=Math.round((l-a)/Math.cos(f*i))):(t=a-g*m,n=a+(1-g)*m,t<h?b=e.x+b*(1-g)-h:n>u&&(b=u-e.x+b*g,w=-1),(b=Math.min(v,b))<v&&"center"===s.labelAlign&&(e.x+=w*(v-b-g*(v-Math.min(m,b)))),(m>b||s.autoRotation&&(d.styles||{}).width)&&(r=b)),r&&(this.shortenLabel?this.shortenLabel():(y.width=Math.floor(r)+"px",(o.style||{}).textOverflow||(y.textOverflow="ellipsis"),d.css(y)))}moveLabel(e,t){let n,i=this,r=i.label,s=i.axis,o=!1;r&&r.textStr===e?(i.movedLabel=r,o=!0,delete i.label):d(s.ticks,(function(t){o||t.isNew||t===i||!t.label||t.label.textStr!==e||(i.movedLabel=t.label,o=!0,t.labelPos=i.movedLabel.xy,delete t.label)})),!o&&(i.labelPos||r)&&(n=i.labelPos||r.xy,i.movedLabel=i.createLabel(e,t,n),i.movedLabel&&i.movedLabel.attr({opacity:0}))}render(e,t,n){let i=this.axis,r=i.horiz,o=this.pos,a=p(this.tickmarkOffset,i.tickmarkOffset),l=this.getPosition(r,o,a,t),h=l.x,u=l.y,d=i.pos,f=d+i.len,g=r?h:u;!i.chart.polar&&this.isNew&&(s(g)<d||g>f)&&(n=0);let m=p(n,this.label&&this.label.newOpacity,1);n=p(n,1),this.isActive=!0,this.renderGridLine(t,n),this.renderMark(l,n),this.renderLabel(l,t,m,e),this.isNew=!1,c(this,"afterRender")}renderGridLine(e,t){let n,i=this.axis,r=i.options,s={},o=this.pos,a=this.type,l=p(this.tickmarkOffset,i.tickmarkOffset),c=i.chart.renderer,h=this.gridLine,u=r.gridLineWidth,d=r.gridLineColor,f=r.gridLineDashStyle;"minor"===this.type&&(u=r.minorGridLineWidth,d=r.minorGridLineColor,f=r.minorGridLineDashStyle),h||(i.chart.styledMode||(s.stroke=d,s["stroke-width"]=u||0,s.dashstyle=f),a||(s.zIndex=1),e&&(t=0),this.gridLine=h=c.path().attr(s).addClass("highcharts-"+(a?a+"-":"")+"grid-line").add(i.gridGroup)),h&&(n=i.getPlotLinePath({value:o+l,lineWidth:h.strokeWidth(),force:"pass",old:e,acrossPanes:!1}))&&h[e||this.isNew?"attr":"animate"]({d:n,opacity:t})}renderMark(e,t){let n=this.axis,i=n.options,r=n.chart.renderer,s=this.type,o=n.tickSize(s?s+"Tick":"tick"),a=e.x,l=e.y,c=p(i["minor"!==s?"tickWidth":"minorTickWidth"],!s&&n.isXAxis?1:0),h=i["minor"!==s?"tickColor":"minorTickColor"],u=this.mark,d=!u;o&&(n.opposite&&(o[0]=-o[0]),u||(this.mark=u=r.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(n.axisGroup),n.chart.styledMode||u.attr({stroke:h,"stroke-width":c})),u[d?"attr":"animate"]({d:this.getMarkPath(a,l,o[0],u.strokeWidth(),n.horiz,r),opacity:t}))}renderLabel(e,t,n,i){let r=this.axis,s=r.horiz,o=r.options,a=this.label,l=o.labels,c=l.step,u=p(this.tickmarkOffset,r.tickmarkOffset),d=e.x,f=e.y,g=!0;a&&h(d)&&(a.xy=e=this.getLabelPosition(d,f,a,s,l,u,i,c),this.isFirst&&!this.isLast&&!o.showFirstLabel||this.isLast&&!this.isFirst&&!o.showLastLabel?g=!1:!s||l.step||l.rotation||t||0===n||this.handleOverflow(e),c&&i%c&&(g=!1),g&&h(e.y)?(e.opacity=n,a[this.isNewLabel?"attr":"animate"](e).show(!0),this.isNewLabel=!1):(a.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let e=this.label,t=this.axis;e&&!this.isNew&&(e.animate({opacity:0},void 0,e.destroy),delete this.label),t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}})),n(t,"Core/Axis/Axis.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/AxisDefaults.js"],t["Core/Color/Color.js"],t["Core/Defaults.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Axis/Tick.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r,s,o,a){let{animObject:l}=e,{xAxis:c,yAxis:h}=t,{defaultOptions:u}=i,{registerEventOptions:d}=r,{deg2rad:p}=s,{arrayMax:f,arrayMin:g,clamp:m,correctFloat:v,defined:y,destroyObjectProperties:b,erase:w,error:x,extend:S,fireEvent:k,getClosestDistance:_,insertItem:T,isArray:C,isNumber:E,isString:I,merge:A,normalizeTickInterval:P,objectEach:N,pick:M,relativeLength:O,removeEvent:L,splat:D,syncTimeout:R}=a,j=(e,t)=>P(t,void 0,void 0,M(e.options.allowDecimals,t<.5||void 0!==e.tickAmount),!!e.tickAmount);S(u,{xAxis:c,yAxis:A(c,h)});class F{constructor(e,t,n){this.init(e,t,n)}init(e,t){var n,i,r,s;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.coll,a="xAxis"===o,l=this.isZAxis||(e.inverted?!a:a);this.chart=e,this.horiz=l,this.isXAxis=a,this.coll=o,k(this,"init",{userOptions:t}),this.opposite=M(t.opposite,this.opposite),this.side=M(t.side,this.side,l?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);let c=this.options,h=c.labels;null!==(n=this.type)&&void 0!==n||(this.type=c.type||"linear"),null!==(i=this.uniqueNames)&&void 0!==i||(this.uniqueNames=null===(r=c.uniqueNames)||void 0===r||r),k(this,"afterSetType"),this.userOptions=t,this.minPixelPadding=0,this.reversed=M(c.reversed,this.reversed),this.visible=c.visible,this.zoomEnabled=c.zoomEnabled,this.hasNames="category"===this.type||!0===c.categories,this.categories=C(c.categories)&&c.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=y(c.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},null!==(s=this.len)&&void 0!==s||(this.len=0),this.minRange=this.userMinRange=c.minRange||c.maxZoom,this.range=c.range,this.offset=c.offset||0,this.max=void 0,this.min=void 0;let u=M(c.crosshair,D(e.options.tooltip.crosshairs)[a?0:1]);this.crosshair=!0===u?{}:u,-1===e.axes.indexOf(this)&&(a?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),T(this,e[this.coll])),e.orderItems(this.coll),this.series=this.series||[],e.inverted&&!this.isZAxis&&a&&!y(this.reversed)&&(this.reversed=!0),this.labelRotation=E(h.rotation)?h.rotation:void 0,d(this,c),k(this,"afterInit")}setOptions(e){let t=this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=A(t,u[this.coll],e),k(this,"afterSetOptions",{userOptions:e})}defaultLabelFormatter(){let e,t,n=this.axis,{numberFormatter:i}=this.chart,r=E(this.value)?this.value:NaN,s=n.chart.time,o=n.categories,a=this.dateTimeLabelFormat,l=u.lang,c=l.numericSymbols,h=l.numericSymbolMagnitude||1e3,d=n.logarithmic?Math.abs(r):n.tickInterval,p=c&&c.length;if(o)t="".concat(this.value);else if(a)t=s.dateFormat(a,r);else if(p&&c&&d>=1e3)for(;p--&&void 0===t;)d>=(e=Math.pow(h,p+1))&&10*r%e==0&&null!==c[p]&&0!==r&&(t=i(r/e,-1)+c[p]);return void 0===t&&(t=Math.abs(r)>=1e4?i(r,-1):i(r,-1,void 0,"")),t}getSeriesExtremes(){let e,t=this;k(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=void 0,t.softThreshold=!t.isXAxis,t.series.forEach((n=>{if(n.reserveSpace()){let i,r,s,o=n.options,a=o.threshold;if(t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=(a||0)&&(a=void 0),t.isXAxis)(i=n.xData)&&i.length&&(i=t.logarithmic?i.filter((e=>e>0)):i,r=(e=n.getXExtremes(i)).min,s=e.max,E(r)||r instanceof Date||(i=i.filter(E),r=(e=n.getXExtremes(i)).min,s=e.max),i.length&&(t.dataMin=Math.min(M(t.dataMin,r),r),t.dataMax=Math.max(M(t.dataMax,s),s)));else{let e=n.applyExtremes();E(e.dataMin)&&(r=e.dataMin,t.dataMin=Math.min(M(t.dataMin,r),r)),E(e.dataMax)&&(s=e.dataMax,t.dataMax=Math.max(M(t.dataMax,s),s)),y(a)&&(t.threshold=a),(!o.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1)}}}))})),k(this,"afterGetSeriesExtremes")}translate(e,t,n,i,r,s){var o;let a=this.linkedParent||this,l=i&&a.old?a.old.min:a.min;if(!E(l))return NaN;let c=a.minPixelPadding,h=(a.isOrdinal||(null===(o=a.brokenAxis)||void 0===o?void 0:o.hasBreaks)||a.logarithmic&&r)&&a.lin2val,u=1,d=0,p=i&&a.old?a.old.transA:a.transA,f=0;return p||(p=a.transA),n&&(u*=-1,d=a.len),a.reversed&&(u*=-1,d-=u*(a.sector||a.len)),t?(f=(e=e*u+d-c)/p+l,h&&(f=a.lin2val(f))):(h&&(e=a.val2lin(e)),f=u*(e-l)*p+d+u*c+(E(s)?p*s:0),a.isRadial||(f=v(f))),f}toPixels(e,t){return this.translate(e,!1,!this.horiz,void 0,!0)+(t?0:this.pos)}toValue(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(e){let t,n,i,r,s,o=this,a=o.chart,l=o.left,c=o.top,h=e.old,u=e.value,d=e.lineWidth,p=h&&a.oldChartHeight||a.chartHeight,f=h&&a.oldChartWidth||a.chartWidth,g=o.transB,v=e.translatedValue,y=e.force;function b(e,t,n){return"pass"!==y&&(e<t||e>n)&&(y?e=m(e,t,n):s=!0),e}let w={value:u,lineWidth:d,old:h,force:y,acrossPanes:e.acrossPanes,translatedValue:v};return k(this,"getPlotLinePath",w,(function(e){t=i=(v=m(v=M(v,o.translate(u,void 0,void 0,h)),-1e9,1e9))+g,n=r=p-v-g,E(v)?o.horiz?(n=c,r=p-o.bottom+(o.options.isInternal?0:a.scrollablePixelsY||0),t=i=b(t,l,l+o.width)):(t=l,i=f-o.right+(a.scrollablePixelsX||0),n=r=b(n,c,c+o.height)):(s=!0,y=!1),e.path=s&&!y?void 0:a.renderer.crispLine([["M",t,n],["L",i,r]],d||1)})),w.path}getLinearTickPositions(e,t,n){let i,r,s,o=v(Math.floor(t/e)*e),a=v(Math.ceil(n/e)*e),l=[];if(v(o+e)===o&&(s=20),this.single)return[t];for(i=o;i<=a&&(l.push(i),(i=v(i+e,s))!==r);)r=i;return l}getMinorTickInterval(){let{minorTicks:e,minorTickInterval:t}=this.options;return!0===e?M(t,"auto"):!1!==e?t:void 0}getMinorTickPositions(){let e,t=this.options,n=this.tickPositions,i=this.minorTickInterval,r=this.pointRangePadding||0,s=(this.min||0)-r,o=(this.max||0)+r,a=o-s,l=[];if(a&&a/i<this.len/3){let r=this.logarithmic;if(r)this.paddedTicks.forEach((function(e,t,n){t&&l.push.apply(l,r.getLogTickPositions(i,n[t-1],n[t],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())l=l.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(i),s,o,t.startOfWeek));else for(e=s+(n[0]-s)%i;e<=o&&e!==l[0];e+=i)l.push(e)}return 0!==l.length&&this.trimTicks(l),l}adjustForMinRange(){let e,t,n,i,r=this.options,s=this.logarithmic,{max:o,min:a,minRange:l}=this;this.isXAxis&&void 0===l&&!s&&(l=y(r.min)||y(r.max)||y(r.floor)||y(r.ceiling)?null:Math.min(5*(_(this.series.map((e=>{var t;return(e.xIncrement?null===(t=e.xData)||void 0===t?void 0:t.slice(0,2):e.xData)||[]})))||0),this.dataMax-this.dataMin)),E(o)&&E(a)&&E(l)&&o-a<l&&(t=this.dataMax-this.dataMin>=l,e=(l-o+a)/2,n=[a-e,M(r.min,a-e)],t&&(n[2]=s?s.log2lin(this.dataMin):this.dataMin),i=[(a=f(n))+l,M(r.max,a+l)],t&&(i[2]=s?s.log2lin(this.dataMax):this.dataMax),(o=g(i))-a<l&&(n[0]=o-l,n[1]=M(r.min,o-l),a=f(n))),this.minRange=l,this.min=a,this.max=o}getClosest(){let e,t;if(this.categories)t=1;else{let n=[];this.series.forEach((function(e){var i;let r=e.closestPointRange;1===(null===(i=e.xData)||void 0===i?void 0:i.length)?n.push(e.xData[0]):!e.noSharedTooltip&&y(r)&&e.reserveSpace()&&(t=y(t)?Math.min(t,r):r)})),n.length&&(n.sort(((e,t)=>e-t)),e=_([n]))}return e&&t?Math.min(e,t):e||t}nameToX(e){let t,n=C(this.options.categories),i=n?this.categories:this.names,r=e.options.x;return e.series.requireSorting=!1,y(r)||(r=this.uniqueNames&&i?n?i.indexOf(e.name):M(i.keys[e.name],-1):e.series.autoIncrement()),-1===r?!n&&i&&(t=i.length):t=r,void 0!==t?(this.names[t]=e.name,this.names.keys[e.name]=t):e.x&&(t=e.x),t}updateNames(){let e=this,t=this.names;t.length>0&&(Object.keys(t.keys).forEach((function(e){delete t.keys[e]})),t.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((t=>{t.xIncrement=null,(!t.points||t.isDirtyData)&&(e.max=Math.max(e.max,t.xData.length-1),t.processData(),t.generatePoints()),t.data.forEach((function(n,i){let r;(null===n||void 0===n?void 0:n.options)&&void 0!==n.name&&void 0!==(r=e.nameToX(n))&&r!==n.x&&(n.x=r,t.xData[i]=r)}))})))}setAxisTranslation(){let e,t,n=this,i=n.max-n.min,r=n.linkedParent,s=!!n.categories,o=n.isXAxis,a=n.axisPointRange||0,l=0,c=0,h=n.transA;(o||s||a)&&(e=n.getClosest(),r?(l=r.minPointOffset,c=r.pointRangePadding):n.series.forEach((function(t){let i=s?1:o?M(t.options.pointRange,e,0):n.axisPointRange||0,r=t.options.pointPlacement;if(a=Math.max(a,i),!n.single||s){let e=t.is("xrange")?!o:o;l=Math.max(l,e&&I(r)?0:i/2),c=Math.max(c,e&&"on"===r?0:i)}})),t=n.ordinal&&n.ordinal.slope&&e?n.ordinal.slope/e:1,n.minPointOffset=l*=t,n.pointRangePadding=c*=t,n.pointRange=Math.min(a,n.single&&s?1:i),o&&e&&(n.closestPointRange=e)),n.translationSlope=n.transA=h=n.staticScale||n.len/(i+c||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=h*l,k(this,"afterSetAxisTranslation")}minFromRange(){let{max:e,min:t}=this;return E(e)&&E(t)&&e-t||void 0}setTickInterval(e){var t;let n,i,r,s,o,{categories:a,chart:l,dataMax:c,dataMin:h,dateTime:u,isXAxis:d,logarithmic:p,options:f,softThreshold:g}=this,m=E(this.threshold)?this.threshold:void 0,b=this.minRange||0,{ceiling:w,floor:S,linkedTo:_,softMax:T,softMin:C}=f,I=E(_)&&(null===(t=l[this.coll])||void 0===t?void 0:t[_]),A=f.tickPixelInterval,P=f.maxPadding,N=f.minPadding,O=0,L=E(f.tickInterval)&&f.tickInterval>=0?f.tickInterval:void 0;if(u||a||I||this.getTickAmount(),s=M(this.userMin,f.min),o=M(this.userMax,f.max),I?(this.linkedParent=I,n=I.getExtremes(),this.min=M(n.min,n.dataMin),this.max=M(n.max,n.dataMax),this.type!==I.type&&x(11,!0,l)):(g&&y(m)&&E(c)&&E(h)&&(h>=m?(i=m,N=0):c<=m&&(r=m,P=0)),this.min=M(s,i,h),this.max=M(o,r,c)),E(this.max)&&E(this.min)&&(p&&(this.positiveValuesOnly&&!e&&0>=Math.min(this.min,M(h,this.min))&&x(10,!0,l),this.min=v(p.log2lin(this.min),16),this.max=v(p.log2lin(this.max),16)),this.range&&E(h)&&(this.userMin=this.min=s=Math.max(h,this.minFromRange()||0),this.userMax=o=this.max,this.range=void 0)),k(this,"foundExtremes"),this.adjustForMinRange(),E(this.min)&&E(this.max)){var D;if(!E(this.userMin)&&E(C)&&C<this.min&&(this.min=s=C),!E(this.userMax)&&E(T)&&T>this.max&&(this.max=o=T),a||this.axisPointRange||null!==(D=this.stacking)&&void 0!==D&&D.usePercentage||I||!(O=this.max-this.min)||(!y(s)&&N&&(this.min-=O*N),y(o)||!P||(this.max+=O*P)),!E(this.userMin)&&E(S)&&(this.min=Math.max(this.min,S)),!E(this.userMax)&&E(w)&&(this.max=Math.min(this.max,w)),g&&E(h)&&E(c)){let e=m||0;!y(s)&&this.min<e&&h>=e?this.min=f.minRange?Math.min(e,this.max-b):e:!y(o)&&this.max>e&&c<=e&&(this.max=f.minRange?Math.max(e,this.min+b):e)}!l.polar&&this.min>this.max&&(y(f.min)?this.max=this.min:y(f.max)&&(this.min=this.max)),O=this.max-this.min}if(this.min!==this.max&&E(this.min)&&E(this.max)?I&&!L&&A===I.options.tickPixelInterval?this.tickInterval=L=I.tickInterval:this.tickInterval=M(L,this.tickAmount?O/Math.max(this.tickAmount-1,1):void 0,a?1:O*A/Math.max(this.len,A)):this.tickInterval=1,d&&!e){var R,F;let e=this.min!==(null===(R=this.old)||void 0===R?void 0:R.min)||this.max!==(null===(F=this.old)||void 0===F?void 0:F.max);this.series.forEach((function(t){var n;t.forceCrop=null===(n=t.forceCropping)||void 0===n?void 0:n.call(t),t.processData(e)})),k(this,"postProcessData",{hasExtremesChanged:e})}this.setAxisTranslation(),k(this,"initialAxisTranslation"),this.pointRange&&!L&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let U=M(f.minTickInterval,u&&!this.series.some((e=>e.noSharedTooltip))?this.closestPointRange:0);!L&&this.tickInterval<U&&(this.tickInterval=U),u||p||L||(this.tickInterval=j(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let e,t=this.options,n=t.tickPositions,i=t.tickPositioner,r=this.getMinorTickInterval(),s=!this.isPanning,o=s&&t.startOnTick,a=s&&t.endOnTick,l=[];if(this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.single=this.min===this.max&&y(this.min)&&!this.tickAmount&&(this.min%1==0||!1!==t.allowDecimals),n)l=n.slice();else if(E(this.min)&&E(this.max)){var c,h;if((null===(c=this.ordinal)||void 0===c||!c.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))l=[this.min,this.max],x(19,!1,this.chart);else if(this.dateTime)l=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,null===(h=this.ordinal)||void 0===h?void 0:h.positions,this.closestPointRange,!0);else if(this.logarithmic)l=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let e=this.tickInterval,t=e;for(;t<=2*e&&(l=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&l.length>this.tickAmount);)this.tickInterval=j(this,t*=1.1)}l.length>this.len&&(l=[l[0],l[l.length-1]])[0]===l[1]&&(l.length=1),i&&(this.tickPositions=l,(e=i.apply(this,[this.min,this.max]))&&(l=e))}this.tickPositions=l,this.minorTickInterval="auto"===r&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:r,this.paddedTicks=l.slice(0),this.trimTicks(l,o,a),!this.isLinked&&E(this.min)&&E(this.max)&&(this.single&&l.length<2&&!this.categories&&!this.series.some((e=>e.is("heatmap")&&"between"===e.options.pointPlacement))&&(this.min-=.5,this.max+=.5),n||e||this.adjustTickAmount()),k(this,"afterSetTickPositions")}trimTicks(e,t,n){let i=e[0],r=e[e.length-1],s=!this.isOrdinal&&this.minPointOffset||0;if(k(this,"trimTicks"),!this.isLinked){if(t&&i!==-1/0)this.min=i;else for(;this.min-s>e[0];)e.shift();if(n)this.max=r;else for(;this.max+s<e[e.length-1];)e.pop();0===e.length&&y(i)&&!this.options.tickPositions&&e.push((r+i)/2)}}alignToOthers(){let e,t=this,n=t.chart,i=[this],r=t.options,s=n.options.chart,o="yAxis"===this.coll&&s.alignThresholds,a=[];if(t.thresholdAlignment=void 0,(!1!==s.alignTicks&&r.alignTicks||o)&&!1!==r.startOnTick&&!1!==r.endOnTick&&!t.logarithmic){let r=e=>{let{horiz:t,options:n}=e;return[t?n.left:n.top,n.width,n.height,n.pane].join(",")},s=r(this);n[this.coll].forEach((function(n){let{series:o}=n;o.length&&o.some((e=>e.visible))&&n!==t&&r(n)===s&&(e=!0,i.push(n))}))}if(e&&o){i.forEach((e=>{let n=e.getThresholdAlignment(t);E(n)&&a.push(n)}));let e=a.length>1?a.reduce(((e,t)=>e+t),0)/a.length:void 0;i.forEach((t=>{t.thresholdAlignment=e}))}return e}getThresholdAlignment(e){if((!E(this.dataMin)||this!==e&&this.series.some((e=>e.isDirty||e.isDirtyData)))&&this.getSeriesExtremes(),E(this.threshold)){let e=m((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(e=1-e),e}}getTickAmount(){let e=this.options,t=e.tickPixelInterval,n=e.tickAmount;y(e.tickInterval)||n||!(this.len<t)||this.isRadial||this.logarithmic||!e.startOnTick||!e.endOnTick||(n=2),!n&&this.alignToOthers()&&(n=Math.ceil(this.len/t)+1),n<4&&(this.finalTickAmt=n,n=5),this.tickAmount=n}adjustTickAmount(){let e,t,n,i=this,{finalTickAmt:r,max:s,min:o,options:a,tickPositions:l,tickAmount:c,thresholdAlignment:h}=i,u=null===l||void 0===l?void 0:l.length,d=M(i.threshold,i.softThreshold?0:null),p=i.tickInterval,f=()=>l.push(v(l[l.length-1]+p)),g=()=>l.unshift(v(l[0]-p));if(E(h)&&(n=h<.5?Math.ceil(h*(c-1)):Math.floor(h*(c-1)),a.reversed&&(n=c-1-n)),i.hasData()&&E(o)&&E(s)){let h=()=>{i.transA*=(u-1)/(c-1),i.min=a.startOnTick?l[0]:Math.min(o,l[0]),i.max=a.endOnTick?l[l.length-1]:Math.max(s,l[l.length-1])};if(E(n)&&E(i.threshold)){for(;l[n]!==d||l.length!==c||l[0]>o||l[l.length-1]<s;){for(l.length=0,l.push(i.threshold);l.length<c;)void 0===l[n]||l[n]>i.threshold?g():f();if(p>8*i.tickInterval)break;p*=2}h()}else if(u<c){for(;l.length<c;)l.length%2||o===d?f():g();h()}if(y(r)){for(t=e=l.length;t--;)(3===r&&t%2==1||r<=2&&t>0&&t<e-1)&&l.splice(t,1);i.finalTickAmt=void 0}}}setScale(){var e,t;let{coll:n,stacking:i}=this,r=!1,s=!1;this.series.forEach((e=>{r=r||e.isDirtyData||e.isDirty,s=s||e.xAxis&&e.xAxis.isDirty||!1})),this.setAxisSize();let o=this.len!==(this.old&&this.old.len);o||r||s||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(i&&"yAxis"===n&&i.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),i&&"xAxis"===n&&i.buildStacks(),this.isDirty||(this.isDirty=o||this.min!==(null===(e=this.old)||void 0===e?void 0:e.min)||this.max!==(null===(t=this.old)||void 0===t?void 0:t.max))):i&&i.cleanStacks(),r&&delete this.allExtremes,k(this,"afterSetScale")}setExtremes(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;this.series.forEach((e=>{delete e.kdTree})),k(this,"setExtremes",r=S(r,{min:e,max:t}),(e=>{this.userMin=e.min,this.userMax=e.max,this.eventArgs=e,n&&this.chart.redraw(i)}))}setAxisSize(){let e=this.chart,t=this.options,n=t.offsets||[0,0,0,0],i=this.horiz,r=this.width=Math.round(O(M(t.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),s=this.height=Math.round(O(M(t.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),o=this.top=Math.round(O(M(t.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),a=this.left=Math.round(O(M(t.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-s-o,this.right=e.chartWidth-r-a,this.len=Math.max(i?r:s,0),this.pos=i?a:o}getExtremes(){let e=this.logarithmic;return{min:e?v(e.lin2log(this.min)):this.min,max:e?v(e.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(e){let t=this.logarithmic,n=t?t.lin2log(this.min):this.min,i=t?t.lin2log(this.max):this.max;return null===e||e===-1/0?e=n:e===1/0?e=i:n>e?e=n:i<e&&(e=i),this.translate(e,0,1,0,1)}autoLabelAlign(e){let t=(M(e,0)-90*this.side+720)%360,n={align:"center"};return k(this,"autoLabelAlign",n,(function(e){t>15&&t<165?e.align="right":t>195&&t<345&&(e.align="left")})),n.align}tickSize(e){let t,n=this.options,i=M(n["tick"===e?"tickWidth":"minorTickWidth"],"tick"===e&&this.isXAxis&&!this.categories?1:0),r=n["tick"===e?"tickLength":"minorTickLength"];i&&r&&("inside"===n[e+"Position"]&&(r=-r),t=[r,i]);let s={tickSize:t};return k(this,"afterTickSize",s),s.tickSize}labelMetrics(){let e=this.chart.renderer,t=this.ticks,n=t[Object.keys(t)[0]]||{};return this.chart.renderer.fontMetrics(n.label||n.movedLabel||e.box)}unsquish(){let e,t,n=this.options.labels,i=n.padding||0,r=this.horiz,s=this.tickInterval,o=this.len/(((this.categories?1:0)+this.max-this.min)/s),a=n.rotation,l=v(.8*this.labelMetrics().h),c=Math.max(this.max-this.min,0),h=function(e){let t=(e+2*i)/(o||1);return(t=t>1?Math.ceil(t):1)*s>c&&e!==1/0&&o!==1/0&&c&&(t=Math.ceil(c/s)),v(t*s)},u=s,d=Number.MAX_VALUE;if(r){if(!n.staggerLines&&(E(a)?t=[a]:o<n.autoRotationLimit&&(t=n.autoRotation)),t){let n,i;for(let r of t)(r===a||r&&r>=-90&&r<=90)&&(i=(n=h(Math.abs(l/Math.sin(p*r))))+Math.abs(r/360))<d&&(d=i,e=r,u=n)}}else u=h(.75*l);return this.autoRotation=t,this.labelRotation=M(e,E(a)?a:0),n.step?s:u}getSlotWidth(e){let t=this.chart,n=this.horiz,i=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),s=t.margin[3];if(e&&E(e.slotWidth))return e.slotWidth;if(n&&i.step<2)return i.rotation?0:(this.staggerLines||1)*this.len/r;if(!n){let e=i.style.width;if(void 0!==e)return parseInt(String(e),10);if(s)return s-t.spacing[3]}return.33*t.chartWidth}renderUnsquish(){let e,t,n,i,r=this.chart,s=r.renderer,o=this.tickPositions,a=this.ticks,l=this.options.labels,c=l.style,h=this.horiz,u=this.getSlotWidth(),d=Math.max(1,Math.round(u-(h?2*(l.padding||0):l.distance||0))),p={},f=this.labelMetrics(),g=c.textOverflow,m=0;if(I(l.rotation)||(p.rotation=l.rotation||0),o.forEach((function(e){let t=a[e];t.movedLabel&&t.replaceMovedLabel(),t&&t.label&&t.label.textPxLength>m&&(m=t.label.textPxLength)})),this.maxLabelLength=m,this.autoRotation)m>d&&m>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(e=d,!g))for(t="clip",i=o.length;!h&&i--;)(n=a[o[i]].label)&&("ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>u&&n.css({width:u+"px"}),n.getBBox().height>this.len/o.length-(f.h-f.f)&&(n.specificTextOverflow="ellipsis"));p.rotation&&(e=m>.5*r.chartHeight?.33*r.chartHeight:m,g||(t="ellipsis")),this.labelAlign=l.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(p.align=this.labelAlign),o.forEach((function(n){let i=a[n],r=i&&i.label,s=c.width,o={};r&&(r.attr(p),i.shortenLabel?i.shortenLabel():e&&!s&&"nowrap"!==c.whiteSpace&&(e<r.textPxLength||"SPAN"===r.element.tagName)?(o.width=e+"px",g||(o.textOverflow=r.specificTextOverflow||t),r.css(o)):!r.styles.width||o.width||s||r.css({width:null}),delete r.specificTextOverflow,i.rotation=p.rotation)}),this),this.tickRotCorr=s.rotCorr(f.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some((function(e){return e.hasData()}))||this.options.showEmpty&&y(this.min)&&y(this.max)}addTitle(e){let t,n=this.chart.renderer,i=this.horiz,r=this.opposite,s=this.options.title,o=this.chart.styledMode;this.axisTitle||((t=s.textAlign)||(t=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[s.align]),this.axisTitle=n.text(s.text||"",0,0,s.useHTML).attr({zIndex:7,rotation:s.rotation||0,align:t}).addClass("highcharts-axis-title"),o||this.axisTitle.css(A(s.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),o||s.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[e?"show":"hide"](e)}generateTick(e){let t=this.ticks;t[e]?t[e].addLabel():t[e]=new o(this,e)}createGroups(){let{axisParent:e,chart:t,coll:n,options:i}=this,r=t.renderer,s=(t,s,o)=>r.g(t).attr({zIndex:o}).addClass("highcharts-".concat(n.toLowerCase()).concat(s," ")+(this.isRadial?"highcharts-radial-axis".concat(s," "):"")+(i.className||"")).add(e);this.axisGroup||(this.gridGroup=s("grid","-grid",i.gridZIndex),this.axisGroup=s("axis","",i.zIndex),this.labelGroup=s("axis-labels","-labels",i.labels.zIndex))}getOffset(){let e,t,n,i,r=this,{chart:s,horiz:o,options:a,side:l,ticks:c,tickPositions:h,coll:u}=r,d=s.inverted&&!r.isZAxis?[1,0,3,2][l]:l,p=r.hasData(),f=a.title,g=a.labels,m=E(a.crossing),v=s.axisOffset,b=s.clipOffset,w=[-1,1,1,-1][l],x=0,S=0,_=0;if(r.showAxis=e=p||a.showEmpty,r.staggerLines=r.horiz&&g.staggerLines||void 0,r.createGroups(),p||r.isLinked?(h.forEach((function(e){r.generateTick(e)})),r.renderUnsquish(),r.reserveSpaceDefault=0===l||2===l||{1:"left",3:"right"}[l]===r.labelAlign,M(g.reserveSpace,!m&&null,"center"===r.labelAlign||null,r.reserveSpaceDefault)&&h.forEach((function(e){_=Math.max(c[e].getLabelSize(),_)})),r.staggerLines&&(_*=r.staggerLines),r.labelOffset=_*(r.opposite?-1:1)):N(c,(function(e,t){e.destroy(),delete c[t]})),null!==f&&void 0!==f&&f.text&&!1!==f.enabled&&(r.addTitle(e),e&&!m&&!1!==f.reserveSpace&&(r.titleOffset=x=r.axisTitle.getBBox()[o?"height":"width"],S=y(t=f.offset)?0:M(f.margin,o?5:10))),r.renderLine(),r.offset=w*M(a.offset,v[l]?v[l]+(a.margin||0):0),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},i=0===l?-r.labelMetrics().h:2===l?r.tickRotCorr.y:0,n=Math.abs(_)+S,_&&(n-=i,n+=w*(o?M(g.y,r.tickRotCorr.y+w*g.distance):M(g.x,w*g.distance))),r.axisTitleMargin=M(t,n),r.getMaxLabelDimensions&&(r.maxLabelDimensions=r.getMaxLabelDimensions(c,h)),"colorAxis"!==u&&b){let e=this.tickSize("tick");v[l]=Math.max(v[l],(r.axisTitleMargin||0)+x+w*r.offset,n,h&&h.length&&e?e[0]+w*r.offset:0);let t=!r.axisLine||a.offset?0:r.axisLine.strokeWidth()/2;b[d]=Math.max(b[d],t)}k(this,"afterGetOffset")}getLinePath(e){let t=this.chart,n=this.opposite,i=this.offset,r=this.horiz,s=this.left+(n?this.width:0)+i,o=t.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(e*=-1),t.renderer.crispLine([["M",r?this.left:s,r?o:this.top],["L",r?t.chartWidth-this.right:s,r?o:t.chartHeight-this.bottom]],e)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(e){let t=this.horiz,n=this.left,i=this.top,r=this.len,s=this.options.title,o=t?n:i,a=this.opposite,l=this.offset,c=s.x,h=s.y,u=this.chart.renderer.fontMetrics(e),d=e?Math.max(e.getBBox(!1,0).height-u.h-1,0):0,p={low:o+(t?0:r),middle:o+r/2,high:o+(t?r:0)}[s.align],f=(t?i+this.height:n)+(t?1:-1)*(a?-1:1)*(this.axisTitleMargin||0)+[-d,d,u.f,-d][this.side],g={x:t?p+c:f+(a?this.width:0)+l+c,y:t?f+h-(a?this.height:0)+l:p+h};return k(this,"afterGetTitlePosition",{titlePosition:g}),g}renderMinorTick(e,t){let n=this.minorTicks;n[e]||(n[e]=new o(this,e,"minor")),t&&n[e].isNew&&n[e].render(null,!0),n[e].render(null,!1,1)}renderTick(e,t,n){let i=this.isLinked,r=this.ticks;(!i||e>=this.min&&e<=this.max||this.grid&&this.grid.isColumn)&&(r[e]||(r[e]=new o(this,e)),n&&r[e].isNew&&r[e].render(t,!0,-1),r[e].render(t))}render(){let e,t,n=this,i=n.chart,r=n.logarithmic,a=i.renderer,c=n.options,h=n.isLinked,u=n.tickPositions,d=n.axisTitle,p=n.ticks,f=n.minorTicks,g=n.alternateBands,m=c.stackLabels,v=c.alternateGridColor,y=c.crossing,b=n.tickmarkOffset,w=n.axisLine,x=n.showAxis,S=l(a.globalAnimation);if(n.labelEdge.length=0,n.overlap=!1,[p,f,g].forEach((function(e){N(e,(function(e){e.isActive=!1}))})),E(y)){let e=this.isXAxis?i.yAxis[0]:i.xAxis[0],t=[1,-1,-1,1][this.side];if(e){let i=e.toPixels(y,!0);n.horiz&&(i=e.len-i),n.offset=t*i}}if(n.hasData()||h){let a=n.chart.hasRendered&&n.old&&E(n.old.min);n.minorTickInterval&&!n.categories&&n.getMinorTickPositions().forEach((function(e){n.renderMinorTick(e,a)})),u.length&&(u.forEach((function(e,t){n.renderTick(e,t,a)})),b&&(0===n.min||n.single)&&(p[-1]||(p[-1]=new o(n,-1,null,!0)),p[-1].render(-1))),v&&u.forEach((function(o,a){t=void 0!==u[a+1]?u[a+1]+b:n.max-b,a%2==0&&o<n.max&&t<=n.max+(i.polar?-b:b)&&(g[o]||(g[o]=new s.PlotLineOrBand(n,{})),e=o+b,g[o].options={from:r?r.lin2log(e):e,to:r?r.lin2log(t):t,color:v,className:"highcharts-alternate-grid"},g[o].render(),g[o].isActive=!0)})),n._addedPlotLB||(n._addedPlotLB=!0,(c.plotLines||[]).concat(c.plotBands||[]).forEach((function(e){n.addPlotBandOrLine(e)})))}[p,f,g].forEach((function(e){let t=[],n=S.duration;N(e,(function(e,n){e.isActive||(e.render(n,!1,0),e.isActive=!1,t.push(n))})),R((function(){let n=t.length;for(;n--;)e[t[n]]&&!e[t[n]].isActive&&(e[t[n]].destroy(),delete e[t[n]])}),e!==g&&i.hasRendered&&n?n:0)})),w&&(w[w.isPlaced?"animate":"attr"]({d:this.getLinePath(w.strokeWidth())}),w.isPlaced=!0,w[x?"show":"hide"](x)),d&&x&&(d[d.isNew?"attr":"animate"](n.getTitlePosition(d)),d.isNew=!1),m&&m.enabled&&n.stacking&&n.stacking.renderStackTotals(),n.old={len:n.len,max:n.max,min:n.min,transA:n.transA,userMax:n.userMax,userMin:n.userMin},n.isDirty=!1,k(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(e){e.render()}))),this.series.forEach((function(e){e.isDirty=!0}))}getKeepProps(){return this.keepProps||F.keepProps}destroy(e){let t=this,n=t.plotLinesAndBands,i=this.eventOptions;if(k(this,"destroy",{keepEvents:e}),e||L(t),[t.ticks,t.minorTicks,t.alternateBands].forEach((function(e){b(e)})),n){let e=n.length;for(;e--;)n[e].destroy()}for(let r in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach((function(e){t[e]&&(t[e]=t[e].destroy())})),t.plotLinesAndBandsGroups)t.plotLinesAndBandsGroups[r]=t.plotLinesAndBandsGroups[r].destroy();N(t,(function(e,n){-1===t.getKeepProps().indexOf(n)&&delete t[n]})),this.eventOptions=i}drawCrosshair(e,t){let i,r,s,o,a=this.crosshair,l=M(a&&a.snap,!0),c=this.chart,h=this.cross;if(k(this,"drawCrosshair",{e:e,point:t}),e||(e=this.cross&&this.cross.e),a&&!1!==(y(t)||!l)){if(l?y(t)&&(r=M("colorAxis"!==this.coll?t.crosshairPos:null,this.isXAxis?t.plotX:this.len-t.plotY)):r=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),y(r)&&(o={value:t&&(this.isXAxis?t.x:M(t.stackY,t.y)),translatedValue:r},c.polar&&S(o,{isCrosshair:!0,chartX:e&&e.chartX,chartY:e&&e.chartY,point:t}),i=this.getPlotLinePath(o)||null),!y(i))return void this.hideCrosshair();s=this.categories&&!this.isRadial,h||(this.cross=h=c.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(s?"category ":"thin ")+(a.className||"")).attr({zIndex:M(a.zIndex,2)}).add(),!c.styledMode&&(h.attr({stroke:a.color||(s?n.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":M(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&h.attr({dashstyle:a.dashStyle}))),h.show().attr({d:i}),s&&!a.width&&h.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair();k(this,"afterDrawCrosshair",{e:e,point:t})}hideCrosshair(){this.cross&&this.cross.hide(),k(this,"afterHideCrosshair")}update(e,t){let n=this.chart;e=A(this.userOptions,e),this.destroy(!0),this.init(n,e),n.isDirtyBox=!0,M(t,!0)&&n.redraw()}remove(e){let t=this.chart,n=this.coll,i=this.series,r=i.length;for(;r--;)i[r]&&i[r].remove(!1);w(t.axes,this),w(t[n]||[],this),t.orderItems(n),this.destroy(),t.isDirtyBox=!0,M(e,!0)&&t.redraw()}setTitle(e,t){this.update({title:e},t)}setCategories(e,t){this.update({categories:e},t)}}return F.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],F})),n(t,"Core/Axis/DateTimeAxis.js",[t["Core/Utilities.js"]],(function(e){var t;let{addEvent:n,getMagnitude:i,normalizeTickInterval:r,timeUnits:s}=e;return function(e){function t(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function o(){"datetime"===this.type?this.dateTime||(this.dateTime=new a(this)):this.dateTime=void 0}e.compose=function(e){return e.keepProps.includes("dateTime")||(e.keepProps.push("dateTime"),e.prototype.getTimeTicks=t,n(e,"afterSetType",o)),e};class a{constructor(e){this.axis=e}normalizeTimeTickInterval(e,t){let n,o=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],a=o[o.length-1],l=s[a[0]],c=a[1];for(n=0;n<o.length&&(l=s[(a=o[n])[0]],c=a[1],!o[n+1]||!(e<=(l*c[c.length-1]+s[o[n+1][0]])/2));n++);return l===s.year&&e<5*l&&(c=[1,2,5]),{unitRange:l,count:r(e/l,c,"year"===a[0]?Math.max(i(e/l),1):1),unitName:a[0]}}getXDateFormat(e,t){let{axis:n}=this,i=n.chart.time;return n.closestPointRange?i.getDateFormat(n.closestPointRange,e,n.options.startOfWeek,t)||i.resolveDTLFormat(t.year).main:i.resolveDTLFormat(t.day).main}}e.Additions=a}(t||(t={})),t})),n(t,"Core/Axis/LogarithmicAxis.js",[t["Core/Utilities.js"]],(function(e){var t;let{addEvent:n,normalizeTickInterval:i,pick:r}=e;return function(e){function t(){var e;"logarithmic"!==this.type?this.logarithmic=void 0:null!==(e=this.logarithmic)&&void 0!==e||(this.logarithmic=new o(this))}function s(){let e=this.logarithmic;e&&(this.lin2val=function(t){return e.lin2log(t)},this.val2lin=function(t){return e.log2lin(t)})}e.compose=function(e){return e.keepProps.includes("logarithmic")||(e.keepProps.push("logarithmic"),n(e,"afterSetType",t),n(e,"afterInit",s)),e};class o{constructor(e){this.axis=e}getLogTickPositions(e,t,n,s){let o=this.axis,a=o.len,l=o.options,c=[];if(s||(this.minorAutoInterval=void 0),e>=.5)e=Math.round(e),c=o.getLinearTickPositions(e,t,n);else if(e>=.08){let i,r,o,a,l,h,u;for(i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],r=Math.floor(t);r<n+1&&!u;r++)for(o=0,a=i.length;o<a&&!u;o++)(l=this.log2lin(this.lin2log(r)*i[o]))>t&&(!s||h<=n)&&void 0!==h&&c.push(h),h>n&&(u=!0),h=l}else{let h=this.lin2log(t),u=this.lin2log(n),d=s?o.getMinorTickInterval():l.tickInterval,p=l.tickPixelInterval/(s?5:1),f=s?a/o.tickPositions.length:a;e=i(e=r("auto"===d?null:d,this.minorAutoInterval,(u-h)*p/(f||1))),c=o.getLinearTickPositions(e,h,u).map(this.log2lin),s||(this.minorAutoInterval=e/5)}return s||(o.tickInterval=e),c}lin2log(e){return Math.pow(10,e)}log2lin(e){return Math.log(e)/Math.LN10}}e.Additions=o}(t||(t={})),t})),n(t,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[t["Core/Utilities.js"]],(function(e){var t;let{erase:n,extend:i,isNumber:r}=e;return function(e){let t;function s(e){return this.addPlotBandOrLine(e,"plotBands")}function o(e,n){let i=this.userOptions,r=new t(this,e);if(this.visible&&(r=r.render()),r){if(this._addedPlotLB||(this._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach((e=>{this.addPlotBandOrLine(e)}))),n){let t=i[n]||[];t.push(e),i[n]=t}this.plotLinesAndBands.push(r)}return r}function a(e){return this.addPlotBandOrLine(e,"plotLines")}function l(e,t,n){n=n||this.options;let i,s,o=this.getPlotLinePath({value:t,force:!0,acrossPanes:n.acrossPanes}),a=[],l=this.horiz,c=!r(this.min)||!r(this.max)||e<this.min&&t<this.min||e>this.max&&t>this.max,h=this.getPlotLinePath({value:e,force:!0,acrossPanes:n.acrossPanes}),u=1;if(h&&o)for(c&&(s=h.toString()===o.toString(),u=0),i=0;i<h.length;i+=2){let e=h[i],t=h[i+1],n=o[i],r=o[i+1];("M"===e[0]||"L"===e[0])&&("M"===t[0]||"L"===t[0])&&("M"===n[0]||"L"===n[0])&&("M"===r[0]||"L"===r[0])&&(l&&n[1]===e[1]?(n[1]+=u,r[1]+=u):l||n[2]!==e[2]||(n[2]+=u,r[2]+=u),a.push(["M",e[1],e[2]],["L",t[1],t[2]],["L",r[1],r[2]],["L",n[1],n[2]],["Z"])),a.isFlat=s}return a}function c(e){this.removePlotBandOrLine(e)}function h(e){let t=this.plotLinesAndBands,i=this.options,r=this.userOptions;if(t){let s=t.length;for(;s--;)t[s].id===e&&t[s].destroy();[i.plotLines||[],r.plotLines||[],i.plotBands||[],r.plotBands||[]].forEach((function(t){for(s=t.length;s--;)(t[s]||{}).id===e&&n(t,t[s])}))}}function u(e){this.removePlotBandOrLine(e)}e.compose=function(e,n){let r=n.prototype;return r.addPlotBand||(t=e,i(r,{addPlotBand:s,addPlotLine:a,addPlotBandOrLine:o,getPlotBandPath:l,removePlotBand:c,removePlotLine:u,removePlotBandOrLine:h})),n}}(t||(t={})),t})),n(t,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[t["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],t["Core/Utilities.js"]],(function(e,t){let{addEvent:n,arrayMax:i,arrayMin:r,defined:s,destroyObjectProperties:o,erase:a,fireEvent:l,merge:c,objectEach:h,pick:u}=t;class d{static compose(t,i){return n(t,"afterInit",(function(){this.labelCollectors.push((()=>{let e=[];for(let n of this.axes)for(let{label:i,options:r}of n.plotLinesAndBands){var t;i&&(null===r||void 0===r||null===(t=r.label)||void 0===t||!t.allowOverlap)&&e.push(i)}return e}))})),e.compose(d,i)}constructor(e,t){this.axis=e,this.options=t,this.id=t.id}render(){var e,t,n;l(this,"render");let i,{axis:r,options:o}=this,{horiz:a,logarithmic:d}=r,{color:p,events:f,zIndex:g=0}=o,m={},v=r.chart.renderer,y=o.to,b=o.from,w=o.value,x=o.borderWidth,S=o.label,{label:k,svgElem:_}=this,T=[],C=s(b)&&s(y),E=s(w),I=!_,A={class:"highcharts-plot-"+(C?"band ":"line ")+(o.className||"")},P=C?"bands":"lines";if(!r.chart.styledMode&&(E?(A.stroke=p||"#999999",A["stroke-width"]=u(o.width,1),o.dashStyle&&(A.dashstyle=o.dashStyle)):C&&(A.fill=p||"#e6e9ff",x&&(A.stroke=o.borderColor,A["stroke-width"]=x))),m.zIndex=g,P+="-"+g,(i=r.plotLinesAndBandsGroups[P])||(r.plotLinesAndBandsGroups[P]=i=v.g("plot-"+P).attr(m).add()),_||(this.svgElem=_=v.path().attr(A).add(i)),s(w))T=r.getPlotLinePath({value:null!==(e=null===d||void 0===d?void 0:d.log2lin(w))&&void 0!==e?e:w,lineWidth:_.strokeWidth(),acrossPanes:o.acrossPanes});else{var N,M;if(!s(b)||!s(y))return;T=r.getPlotBandPath(null!==(N=null===d||void 0===d?void 0:d.log2lin(b))&&void 0!==N?N:b,null!==(M=null===d||void 0===d?void 0:d.log2lin(y))&&void 0!==M?M:y,o)}return!this.eventsAdded&&f&&(h(f,((e,t)=>{var n;null===(n=_)||void 0===n||n.on(t,(e=>{f[t].apply(this,[e])}))})),this.eventsAdded=!0),!I&&_.d||null===(t=T)||void 0===t||!t.length?_&&(T?(_.show(),_.animate({d:T})):_.d&&(_.hide(),k&&(this.label=k=k.destroy()))):_.attr({d:T}),S&&(s(S.text)||s(S.formatter))&&null!==(n=T)&&void 0!==n&&n.length&&r.width>0&&r.height>0&&!T.isFlat?(S=c({align:a&&C?"center":void 0,x:a?!C&&4:10,verticalAlign:!a&&C?"middle":void 0,y:a?C?16:10:C?6:-4,rotation:a&&!C?90:0,...C?{inside:!0}:{}},S),this.renderLabel(S,T,C,g)):k&&k.hide(),this}renderLabel(e,t,n,o){var a;let l=this.axis,h=l.chart.renderer,u=e.inside,d=this.label;d||(this.label=d=h.text(this.getLabelText(e),0,0,e.useHTML).attr({align:e.textAlign||e.align,rotation:e.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(e.className||""),zIndex:o}),l.chart.styledMode||d.css(c({fontSize:"0.8em",textOverflow:n&&!u?"":"ellipsis"},e.style)),d.add());let p=t.xBounds||[t[0][1],t[1][1],n?t[2][1]:t[0][1]],f=t.yBounds||[t[0][2],t[1][2],n?t[2][2]:t[0][2]],g=r(p),m=r(f),v=i(p)-g;d.align(e,!1,{x:g,y:m,width:v,height:i(f)-m}),(!d.alignValue||"left"===d.alignValue||s(u))&&d.css({width:((null===(a=e.style)||void 0===a?void 0:a.width)||(n&&u?v:90===d.rotation?l.height-(d.alignAttr.y-l.top):(e.clip?l.width:l.chart.chartWidth)-(d.alignAttr.x-l.left)))+"px"}),d.show(!0)}getLabelText(e){return s(e.formatter)?e.formatter.call(this):e.text}destroy(){a(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}}return d})),n(t,"Core/Tooltip.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r,s){var o;let{animObject:a}=e,{format:l}=t,{composed:c,doc:h,isSafari:u}=n,{distribute:d}=i,{addEvent:p,clamp:f,css:g,discardElement:m,extend:v,fireEvent:y,isArray:b,isNumber:w,isString:x,merge:S,pick:k,pushUnique:_,splat:T,syncTimeout:C}=s;class E{constructor(e,t,n){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=e,this.init(e,t),this.pointer=n}bodyFormatter(e){return e.map((function(e){let t=e.series.tooltipOptions;return(t[(e.point.formatPrefix||"point")+"Formatter"]||e.point.tooltipFormatter).call(e.point,t[(e.point.formatPrefix||"point")+"Format"]||"")}))}cleanSplit(e){this.chart.series.forEach((function(t){let n=t&&t.tt;n&&(!n.isActive||e?t.tt=n.destroy():n.isActive=!1)}))}defaultFormatter(e){let t,n=this.points||T(this);return(t=(t=[e.tooltipFooterHeaderFormatter(n[0])]).concat(e.bodyFormatter(n))).push(e.tooltipFooterHeaderFormatter(n[0],!0)),t}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),m(this.container)),s.clearTimeout(this.hideTimer)}getAnchor(e,t){let n,{chart:i,pointer:r}=this,s=i.inverted,o=i.plotTop,a=i.plotLeft;if((e=T(e))[0].series&&e[0].series.yAxis&&!e[0].series.yAxis.options.reversedStacks&&(e=e.slice().reverse()),this.followPointer&&t)void 0===t.chartX&&(t=r.normalize(t)),n=[t.chartX-a,t.chartY-o];else if(e[0].tooltipPos)n=e[0].tooltipPos;else{let i=0,r=0;e.forEach((function(e){let t=e.pos(!0);t&&(i+=t[0],r+=t[1])})),i/=e.length,r/=e.length,this.shared&&e.length>1&&t&&(s?i=t.chartX:r=t.chartY),n=[i-a,r-o]}return n.map(Math.round)}getClassName(e,t,n){let i=this.options,r=e.series,s=r.options;return[i.className,"highcharts-label",n&&"highcharts-tooltip-header",t?"highcharts-tooltip-box":"highcharts-tooltip",!n&&"highcharts-color-"+k(e.colorIndex,r.colorIndex),s&&s.className].filter(x).join(" ")}getLabel(){let{anchorX:e,anchorY:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{anchorX:0,anchorY:0},i=this,s=this.chart.styledMode,o=this.options,a=this.split&&this.allowShared,l=this.container,c=this.chart.renderer;if(this.label){let e=!this.label.hasClass("highcharts-label");(!a&&e||a&&!e)&&this.destroy()}if(!this.label){if(this.outside){let e=this.chart.options.chart.style,t=r.getRendererType();this.container=l=n.doc.createElement("div"),l.className="highcharts-tooltip-container",g(l,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(e&&e.zIndex||0)+3)}),this.renderer=c=new t(l,0,0,e,void 0,void 0,c.styledMode)}if(a?this.label=c.g("tooltip"):(this.label=c.label("",e,t,o.shape,void 0,void 0,o.useHTML,void 0,"tooltip").attr({padding:o.padding,r:o.borderRadius}),s||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth||0}).css(o.style).css({pointerEvents:o.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),i.outside){let e=this.label;[e.xSetter,e.ySetter].forEach(((t,n)=>{e[n?"ySetter":"xSetter"]=r=>{t.call(e,i.distance),e[n?"y":"x"]=r,l&&(l.style[n?"top":"left"]="".concat(r,"px"))}}))}this.label.attr({zIndex:8}).shadow(o.shadow).add()}return l&&!l.parentElement&&n.doc.body.appendChild(l),this.label}getPlayingField(){let{body:e,documentElement:t}=h,{chart:n,distance:i,outside:r}=this;return{width:r?Math.max(e.scrollWidth,t.scrollWidth,e.offsetWidth,t.offsetWidth,t.clientWidth)-2*i:n.chartWidth,height:r?Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,t.clientHeight):n.chartHeight}}getPosition(e,t,n){var i;let r,{distance:s,chart:o,outside:a,pointer:l}=this,{inverted:c,plotLeft:h,plotTop:u,polar:d}=o,{plotX:p=0,plotY:f=0}=n,g={},m=c&&n.h||0,{height:v,width:y}=this.getPlayingField(),b=l.getChartPosition(),w=e=>e*b.scaleX,x=e=>e*b.scaleY,S=n=>{let i="x"===n;return[n,i?y:v,i?e:t].concat(a?[i?w(e):x(t),i?b.left-s+w(p+h):b.top-s+x(f+u),0,i?y:v]:[i?e:t,i?p+h:f+u,i?h:u,i?h+o.plotWidth:u+o.plotHeight])},_=S("y"),T=S("x"),C=!!n.negative;!d&&(null===(i=o.hoverSeries)||void 0===i||null===(i=i.yAxis)||void 0===i?void 0:i.reversed)&&(C=!C);let E=!this.followPointer&&k(n.ttBelow,!d&&!c===C),I=function(e,t,n,i,r,o,l){let c=a?"y"===e?x(s):w(s):s,h=(n-i)/2,u=i<r-s,d=r+s+i<t,p=r-c-n+h,f=r+c-h;if(E&&d)g[e]=f;else if(!E&&u)g[e]=p;else if(u)g[e]=Math.min(l-i,p-m<0?p:p-m);else{if(!d)return!1;g[e]=Math.max(o,f+m+n>t?f:f+m)}},A=function(e,t,n,i,r){if(r<s||r>t-s)return!1;g[e]=r<n/2?1:r>t-i/2?t-i-2:r-n/2},P=function(e){[_,T]=[T,_],r=e},N=()=>{!1!==I.apply(0,_)?!1!==A.apply(0,T)||r||(P(!0),N()):r?g.x=g.y=0:(P(!0),N())};return(c&&!d||this.len>1)&&P(),N(),g}hide(e){let t=this;s.clearTimeout(this.hideTimer),e=k(e,this.options.hideDelay),this.isHidden||(this.hideTimer=C((function(){let n=t.getLabel();t.getLabel().animate({opacity:0},{duration:e?150:e,complete:()=>{n.hide(),t.container&&t.container.remove()}}),t.isHidden=!0}),e))}init(e,t){this.chart=e,this.options=t,this.crosshairs=[],this.isHidden=!0,this.split=t.split&&!e.inverted&&!e.polar,this.shared=t.shared||this.split,this.outside=k(t.outside,!(!e.scrollablePixelsX&&!e.scrollablePixelsY))}shouldStickOnContact(e){return!(this.followPointer||!this.options.stickOnContact||e&&!this.pointer.inClass(e.target,"highcharts-tooltip"))}move(e,t,n,i){let r=this,s=a(!r.isHidden&&r.options.animation),o={x:e,y:t};r.followPointer||(r.len||0)>1||(o.anchorX=n,o.anchorY=i),s.step=()=>r.drawTracker(),r.getLabel().animate(o,s)}refresh(e,t){let{chart:n,options:i,pointer:r,shared:o}=this,a=T(e),c=a[0],h=[],u=i.format,d=i.formatter||this.defaultFormatter,p=n.styledMode,g={},m=this.allowShared;if(!i.enabled||!c.series)return;s.clearTimeout(this.hideTimer),this.allowShared=!(!b(e)&&e.series&&e.series.noSharedTooltip),m=m&&!this.allowShared,this.followPointer=!this.split&&c.series.tooltipOptions.followPointer;let v=this.getAnchor(e,t),w=v[0],S=v[1];o&&this.allowShared?(r.applyInactiveState(a),a.forEach((function(e){e.setState("hover"),h.push(e.getLabelConfig())})),(g=c.getLabelConfig()).points=h):g=c.getLabelConfig(),this.len=h.length;let _=x(u)?l(u,g,n):d.call(g,this),C=c.series;if(this.distance=k(C.tooltipOptions.distance,16),!1===_)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(_,a);else{let e=w,s=S;if(t&&r.isDirectTouch&&(e=t.chartX-n.plotLeft,s=t.chartY-n.plotTop),!n.polar&&!1!==C.options.clip&&!a.some((t=>r.isDirectTouch||t.series.shouldShowTooltip(e,s))))return void this.hide();{let e=this.getLabel(m&&this.tt||{});(!i.style.width||p)&&e.css({width:(this.outside?this.getPlayingField():n.spacingBox).width+"px"}),e.attr({class:this.getClassName(c),text:_&&_.join?_.join(""):_}),this.outside&&e.attr({x:f(e.x||0,0,this.getPlayingField().width-(e.width||0))}),p||e.attr({stroke:i.borderColor||c.color||C.color||"#666666"}),this.updatePosition({plotX:w,plotY:S,negative:c.negative,ttBelow:c.ttBelow,h:v[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}y(this,"refresh")}renderSplit(e,t){var n;let i=this,{chart:r,chart:{chartWidth:s,chartHeight:o,plotHeight:a,plotLeft:l,plotTop:c,scrollablePixelsY:p=0,scrollablePixelsX:g,styledMode:m},distance:y,options:b,options:{positioner:w},pointer:S}=i,{scrollLeft:_=0,scrollTop:T=0}=(null===(n=r.scrollablePlotArea)||void 0===n?void 0:n.scrollingContainer)||{},C=i.outside&&"number"!=typeof g?h.documentElement.getBoundingClientRect():{left:_,right:_+s,top:T,bottom:T+o},E=i.getLabel(),I=this.renderer||r.renderer,A=!(!r.xAxis[0]||!r.xAxis[0].opposite),{left:P,top:N}=S.getChartPosition(),M=c+T,O=0,L=a-p;function D(e,t,n,r){let s,o,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return n?(s=A?0:L,o=f(e-r/2,C.left,C.right-r-(i.outside?P:0))):(s=t-M,o=f(o=a?e-r-y:e+y,a?o:C.left,C.right)),{x:o,y:s}}x(e)&&(e=[!1,e]);let R=e.slice(0,t.length+1).reduce((function(e,n,r){if(!1!==n&&""!==n){let s=t[r-1]||{isHeader:!0,plotX:t[0].plotX,plotY:a,series:{}},o=s.isHeader,h=o?i:s.series,u=h.tt=function(e,t,n){let r=e,{isHeader:s,series:o}=t;if(!r){var a;let e={padding:b.padding,r:b.borderRadius};m||(e.fill=b.backgroundColor,e["stroke-width"]=null!==(a=b.borderWidth)&&void 0!==a?a:1),r=I.label("",0,0,b[s?"headerShape":"shape"],void 0,void 0,b.useHTML).addClass(i.getClassName(t,!0,s)).attr(e).add(E)}return r.isActive=!0,r.attr({text:n}),m||r.css(b.style).attr({stroke:b.borderColor||t.color||o.color||"#333333"}),r}(h.tt,s,n.toString()),d=u.getBBox(),p=d.width+u.strokeWidth();o&&(O=d.height,L+=O,A&&(M-=O));let{anchorX:g,anchorY:v}=function(e){let t,n,{isHeader:i,plotX:r=0,plotY:s=0,series:o}=e;if(i)t=Math.max(l+r,l),n=c+a/2;else{let{xAxis:e,yAxis:i}=o;t=e.pos+f(r,-y,e.len+y),o.shouldShowTooltip(0,i.pos-c+s,{ignoreX:!0})&&(n=i.pos+s)}return{anchorX:t=f(t,C.left-y,C.right+y),anchorY:n}}(s);if("number"==typeof v){let t=d.height+1,n=w?w.call(i,p,t,s):D(g,v,o,p);e.push({align:w?0:void 0,anchorX:g,anchorY:v,boxWidth:p,point:s,rank:k(n.rank,o?1:0),size:t,target:n.y,tt:u,x:n.x})}else u.isActive=!1}return e}),[]);!w&&R.some((e=>{let{outside:t}=i,n=(t?P:0)+e.anchorX;return n<C.left&&n+e.boxWidth<C.right||n<P-C.left+e.boxWidth&&C.right-n>n}))&&(R=R.map((e=>{let{x:t,y:n}=D(e.anchorX,e.anchorY,e.point.isHeader,e.boxWidth,!1);return v(e,{target:n,x:t})}))),i.cleanSplit(),d(R,L);let j={left:P,right:P};R.forEach((function(e){let{x:t,boxWidth:n,isHeader:r}=e;!r&&(i.outside&&P+t<j.left&&(j.left=P+t),!r&&i.outside&&j.left+n>j.right&&(j.right=P+t))})),R.forEach((function(e){let{x:t,anchorX:n,anchorY:r,pos:s,point:{isHeader:o}}=e,a={visibility:void 0===s?"hidden":"inherit",x:t,y:(s||0)+M,anchorX:n,anchorY:r};if(i.outside&&t<n){let e=P-j.left;e>0&&(o||(a.x=t+e,a.anchorX=n+e),o&&(a.x=(j.right-j.left)/2,a.anchorX=n+e))}e.tt.attr(a)}));let{container:F,outside:U,renderer:B}=i;if(U&&F&&B){let{width:e,height:t,x:n,y:i}=E.getBBox();B.setSize(e+n,t+i,!1),F.style.left=j.left+"px",F.style.top=N+"px"}u&&E.attr({opacity:1===E.opacity?.999:1})}drawTracker(){if(!this.shouldStickOnContact())return void(this.tracker&&(this.tracker=this.tracker.destroy()));let e=this.chart,t=this.label,n=this.shared?e.hoverPoints:e.hoverPoint;if(!t||!n)return;let i={x:0,y:0,width:0,height:0},r=this.getAnchor(n),s=t.getBBox();r[0]+=e.plotLeft-(t.translateX||0),r[1]+=e.plotTop-(t.translateY||0),i.x=Math.min(0,r[0]),i.y=Math.min(0,r[1]),i.width=r[0]<0?Math.max(Math.abs(r[0]),s.width-r[0]):Math.max(Math.abs(r[0]),s.width),i.height=r[1]<0?Math.max(Math.abs(r[1]),s.height-Math.abs(r[1])):Math.max(Math.abs(r[1]),s.height),this.tracker?this.tracker.attr(i):(this.tracker=t.renderer.rect(i).addClass("highcharts-tracker").add(t),e.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(e){return e.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(e,t){let n=e.series,i=n.tooltipOptions,r=n.xAxis,s=r&&r.dateTime,o={isFooter:t,labelConfig:e},a=i.xDateFormat,c=i[t?"footerFormat":"headerFormat"];return y(this,"headerFormatter",o,(function(t){s&&!a&&w(e.key)&&(a=s.getXDateFormat(e.key,i.dateTimeLabelFormats)),s&&a&&(e.point&&e.point.tooltipDateKeys||["key"]).forEach((function(e){c=c.replace("{point."+e+"}","{point."+e+":"+a+"}")})),n.chart.styledMode&&(c=this.styledModeFormat(c)),t.text=l(c,{point:e,series:n},this.chart)})),o.text}update(e){this.destroy(),this.init(this.chart,S(!0,this.options,e))}updatePosition(e){let t,{chart:n,container:i,distance:r,options:s,pointer:o,renderer:a}=this,{height:l=0,width:c=0}=this.getLabel(),{left:h,top:u,scaleX:d,scaleY:p}=o.getChartPosition(),f=(s.positioner||this.getPosition).call(this,c,l,e),m=(e.plotX||0)+n.plotLeft,v=(e.plotY||0)+n.plotTop;a&&i&&(s.positioner&&(f.x+=h-r,f.y+=u-r),t=(s.borderWidth||0)+2*r+2,a.setSize(c+t,l+t,!1),(1!==d||1!==p)&&(g(i,{transform:"scale(".concat(d,", ").concat(p,")")}),m*=d,v*=p),m+=h-f.x,v+=u-f.y),this.move(Math.round(f.x),Math.round(f.y||0),m,v)}}return(o=E||(E={})).compose=function(e){_(c,"Core.Tooltip")&&p(e,"afterInit",(function(){let e=this.chart;e.options.tooltip&&(e.tooltip=new o(e,e.options.tooltip,this))}))},E})),n(t,"Core/Series/Point.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Defaults.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r){let{animObject:s}=t,{defaultOptions:o}=n,{format:a}=i,{addEvent:l,crisp:c,erase:h,extend:u,fireEvent:d,getNestedProperty:p,isArray:f,isFunction:g,isNumber:m,isObject:v,merge:y,pick:b,syncTimeout:w,removeEvent:x,uniqueKey:S}=r;class k{animateBeforeDestroy(){let e=this,t={x:e.startXPos,opacity:0},n=e.getGraphicalProps();n.singular.forEach((function(n){e[n]=e[n].animate("dataLabel"===n?{x:e[n].startXPos,y:e[n].startYPos,opacity:0}:t)})),n.plural.forEach((function(t){e[t].forEach((function(t){t.element&&t.animate(u({x:e.startXPos},t.startYPos?{x:t.startXPos,y:t.startYPos}:{}))}))}))}applyOptions(e,t){let n=this.series,i=n.options.pointValKey||n.pointValKey;return u(this,e=k.prototype.optionsToObject.call(this,e)),this.options=this.options?u(this.options,e):e,e.group&&delete this.group,e.dataLabels&&delete this.dataLabels,i&&(this.y=k.prototype.getNestedProperty.call(this,i)),this.selected&&(this.state="select"),"name"in this&&void 0===t&&n.xAxis&&n.xAxis.hasNames&&(this.x=n.xAxis.nameToX(this)),void 0===this.x&&n?this.x=null!==t&&void 0!==t?t:n.autoIncrement():m(e.x)&&n.options.relativeXValue&&(this.x=n.autoIncrement(e.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let e=this,t=e.series,n=t.chart,i=t.options.dataSorting,r=n.hoverPoints,o=s(e.series.chart.renderer.globalAnimation),a=()=>{for(let t in(e.graphic||e.graphics||e.dataLabel||e.dataLabels)&&(x(e),e.destroyElements()),e)delete e[t]};e.legendItem&&n.legend.destroyItem(e),r&&(e.setState(),h(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),i&&i.enabled?(this.animateBeforeDestroy(),w(a,o.duration)):a(),n.pointCount--}this.destroyed=!0}destroyElements(e){let t=this,n=t.getGraphicalProps(e);n.singular.forEach((function(e){t[e]=t[e].destroy()})),n.plural.forEach((function(e){t[e].forEach((function(e){e&&e.element&&e.destroy()})),delete t[e]}))}firePointEvent(e,t,n){let i=this,r=this.series.options;i.manageEvent(e),"click"===e&&r.allowPointSelect&&(n=function(e){!i.destroyed&&i.select&&i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),d(i,e,t,n)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(e){let t,n,i=this,r=[],s={singular:[],plural:[]};for((e=e||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","connector"),e.dataLabel&&r.push("dataLabel","dataLabelPath","dataLabelUpper"),n=r.length;n--;)i[t=r[n]]&&s.singular.push(t);return["graphic","dataLabel"].forEach((function(t){let n=t+"s";e[t]&&i[n]&&s.plural.push(n)})),s}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(e){return e?0===e.indexOf("custom.")?p(e,this.options):this[e]:void 0}getZone(){let e,t=this.series,n=t.zones,i=t.zoneAxis||"y",r=0;for(e=n[0];this[i]>=e.value;)e=n[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),e&&e.color&&!this.options.color?this.color=e.color:this.color=this.nonZonedColor,e}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(e,t,n){var i;this.formatPrefix="point",this.visible=!0,this.series=e,this.applyOptions(t,n),null!==(i=this.id)&&void 0!==i||(this.id=S()),this.resolveColor(),e.chart.pointCount++,d(this,"afterInit")}isValid(){return(m(this.x)||this.x instanceof Date)&&m(this.y)}optionsToObject(e){let t,n=this.series,i=n.options.keys,r=i||n.pointArrayMap||["y"],s=r.length,o={},a=0,l=0;if(m(e)||null===e)o[r[0]]=e;else if(f(e))for(!i&&e.length>s&&("string"==(t=typeof e[0])?o.name=e[0]:"number"===t&&(o.x=e[0]),a++);l<s;)i&&void 0===e[a]||(r[l].indexOf(".")>0?k.prototype.setNestedProperty(o,e[a],r[l]):o[r[l]]=e[a]),a++,l++;else"object"==typeof e&&(o=e,e.dataLabels&&(n.hasDataLabels=()=>!0),e.marker&&(n._hasPointMarkers=!0));return o}pos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.plotY;if(!this.destroyed){let{plotX:n,series:i}=this,{chart:r,xAxis:s,yAxis:o}=i,a=0,l=0;if(m(n)&&m(t))return e&&(a=s?s.pos:r.plotLeft,l=o?o.pos:r.plotTop),r.inverted&&s&&o?[o.len-t+l,s.len-n+a]:[n+a,t+l]}}resolveColor(){let e,t,n,i=this.series,r=i.chart.options.chart,s=i.chart.styledMode,o=r.colorCount;delete this.nonZonedColor,i.options.colorByPoint?(s||(e=(t=i.options.colors||i.chart.options.colors)[i.colorCounter],o=t.length),n=i.colorCounter,i.colorCounter++,i.colorCounter===o&&(i.colorCounter=0)):(s||(e=i.color),n=i.colorIndex),this.colorIndex=b(this.options.colorIndex,n),this.color=b(this.options.color,e)}setNestedProperty(e,t,n){return n.split(".").reduce((function(e,n,i,r){let s=r.length-1===i;return e[n]=s?t:v(e[n],!0)?e[n]:{},e[n]}),e),e}shouldDraw(){return!this.isNull}tooltipFormatter(e){let t=this.series,n=t.tooltipOptions,i=b(n.valueDecimals,""),r=n.valuePrefix||"",s=n.valueSuffix||"";return t.chart.styledMode&&(e=t.chart.tooltip.styledModeFormat(e)),(t.pointArrayMap||["y"]).forEach((function(t){t="{point."+t,(r||s)&&(e=e.replace(RegExp(t+"}","g"),r+t+"}"+s)),e=e.replace(RegExp(t+"}","g"),t+":,."+i+"f}")})),a(e,{point:this,series:this.series},t.chart)}update(e,t,n,i){let r,s=this,o=s.series,a=s.graphic,l=o.chart,c=o.options;function h(){s.applyOptions(e);let i=a&&s.hasMockGraphic,h=null===s.y?!i:i;a&&h&&(s.graphic=a.destroy(),delete s.hasMockGraphic),v(e,!0)&&(a&&a.element&&e&&e.marker&&void 0!==e.marker.symbol&&(s.graphic=a.destroy()),null!==e&&void 0!==e&&e.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),r=s.index,o.updateParallelArrays(s,r),c.data[r]=v(c.data[r],!0)||v(e,!0)?s.options:b(e,c.data[r]),o.isDirty=o.isDirtyData=!0,!o.fixedBox&&o.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&(l.isDirtyLegend=!0),t&&l.redraw(n)}t=b(t,!0),!1===i?h():s.firePointEvent("update",{options:e},h)}remove(e,t){this.series.removePoint(this.series.data.indexOf(this),e,t)}select(e,t){let n=this,i=n.series,r=i.chart;e=b(e,!n.selected),this.selectedStaging=e,n.firePointEvent(e?"select":"unselect",{accumulate:t},(function(){n.selected=n.options.selected=e,i.options.data[i.data.indexOf(n)]=n.options,n.setState(e&&"select"),t||r.getSelectedPoints().forEach((function(e){let t=e.series;e.selected&&e!==n&&(e.selected=e.options.selected=!1,t.options.data[t.data.indexOf(e)]=e.options,e.setState(r.hoverPoints&&t.options.inactiveOtherPoints?"inactive":""),e.firePointEvent("unselect"))}))})),delete this.selectedStaging}onMouseOver(e){let{inverted:t,pointer:n}=this.series.chart;n&&(e=e?n.normalize(e):n.getChartCoordinatesFromPoint(this,t),n.runPointActions(e,this))}onMouseOut(){let e=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(e.hoverPoints||[]).forEach((function(e){e.setState()})),e.hoverPoints=e.hoverPoint=null}manageEvent(e){var t,n,i,r,s;let o=null===(t=y(this.series.options.point,this.options).events)||void 0===t?void 0:t[e];!g(o)||null!==(n=this.hcEvents)&&void 0!==n&&n[e]&&-1!==(null===(i=this.hcEvents)||void 0===i||null===(i=i[e])||void 0===i?void 0:i.map((e=>e.fn)).indexOf(o))?this.importedUserEvent&&!o&&(null===(s=this.hcEvents)||void 0===s?void 0:s[e])&&(x(this,e),delete this.hcEvents[e],Object.keys(this.hcEvents)||delete this.importedUserEvent):(null!==(r=this.importedUserEvent)&&void 0!==r&&r.call(this),this.importedUserEvent=l(this,e,o))}setState(t,n){var i;let r,s,a,l,c=this.series,h=this.state,p=c.options.states[t||"normal"]||{},f=o.plotOptions[c.type].marker&&c.options.marker,g=f&&!1===f.enabled,v=f&&f.states&&f.states[t||"normal"]||{},y=!1===v.enabled,w=this.marker||{},x=c.chart,S=f&&c.markerAttribs,k=c.halo,_=c.stateMarkerGraphic;if((t=t||"")===this.state&&!n||this.selected&&"select"!==t||!1===p.enabled||t&&(y||g&&!1===v.enabled)||t&&w.states&&w.states[t]&&!1===w.states[t].enabled)return;if(this.state=t,S&&(r=c.markerAttribs(this,t)),this.graphic&&!this.hasMockGraphic){if(h&&this.graphic.removeClass("highcharts-point-"+h),t&&this.graphic.addClass("highcharts-point-"+t),!x.styledMode){s=c.pointAttribs(this,t),a=b(x.options.chart.animation,p.animation);let e=s.opacity;c.options.inactiveOtherPoints&&m(e)&&(this.dataLabels||[]).forEach((function(t){t&&!t.hasClass("highcharts-data-label-hidden")&&(t.animate({opacity:e},a),t.connector&&t.connector.animate({opacity:e},a))})),this.graphic.animate(s,a)}r&&this.graphic.animate(r,b(x.options.chart.animation,v.animation,f.animation)),_&&_.hide()}else t&&v&&(l=w.symbol||c.symbol,_&&_.currentSymbol!==l&&(_=_.destroy()),r&&(_?_[n?"animate":"attr"]({x:r.x,y:r.y}):l&&(c.stateMarkerGraphic=_=x.renderer.symbol(l,r.x,r.y,r.width,r.height).add(c.markerGroup),_.currentSymbol=l)),!x.styledMode&&_&&"inactive"!==this.state&&_.attr(c.pointAttribs(this,t))),_&&(_[t&&this.isInside?"show":"hide"](),_.element.point=this,_.addClass(this.getClassName(),!0));let T=p.halo,C=this.graphic||_,E=C&&C.visibility||"inherit";T&&T.size&&C&&"hidden"!==E&&!this.isCluster?(k||(c.halo=k=x.renderer.path().add(C.parentGroup)),k.show()[n?"animate":"attr"]({d:this.haloPath(T.size)}),k.attr({class:"highcharts-halo highcharts-color-"+b(this.colorIndex,c.colorIndex)+(this.className?" "+this.className:""),visibility:E,zIndex:-1}),k.point=this,x.styledMode||k.attr(u({fill:this.color||c.color,"fill-opacity":T.opacity},e.filterUserAttributes(T.attributes||{})))):(null===(i=k)||void 0===i||null===(i=i.point)||void 0===i?void 0:i.haloPath)&&!k.point.destroyed&&k.animate({d:k.point.haloPath(0)},null,k.hide),d(this,"afterSetState",{state:t})}haloPath(e){let t=this.pos();return t?this.series.chart.renderer.symbols.circle(c(t[0],1)-e,t[1]-e,2*e,2*e):[]}}return k})),n(t,"Core/Pointer.js",[t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n){var i;let{parse:r}=e,{charts:s,composed:o,isTouchDevice:a}=t,{addEvent:l,attr:c,css:h,extend:u,find:d,fireEvent:p,isNumber:f,isObject:g,objectEach:m,offset:v,pick:y,pushUnique:b,splat:w}=n;class x{applyInactiveState(e){let t,n=[];(e||[]).forEach((function(e){t=e.series,n.push(t),t.linkedParent&&n.push(t.linkedParent),t.linkedSeries&&(n=n.concat(t.linkedSeries)),t.navigatorSeries&&n.push(t.navigatorSeries)})),this.chart.series.forEach((function(e){-1===n.indexOf(e)?e.setState("inactive",!0):e.options.inactiveOtherPoints&&e.setAllPointsToState("inactive")}))}destroy(){let e=this;this.eventsToUnbind.forEach((e=>e())),this.eventsToUnbind=[],!t.chartCount&&(x.unbindDocumentMouseUp&&x.unbindDocumentMouseUp.forEach((e=>e())),x.unbindDocumentTouchEnd&&(x.unbindDocumentTouchEnd=x.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),m(e,(function(t,n){e[n]=void 0}))}getSelectionMarkerAttrs(e,t){let n={args:{chartX:e,chartY:t},attrs:{},shapeType:"rect"};return p(this,"getSelectionMarkerAttrs",n,(n=>{let i,{chart:r,zoomHor:s,zoomVert:o}=this,{mouseDownX:a=0,mouseDownY:l=0}=r,c=n.attrs;c.x=r.plotLeft,c.y=r.plotTop,c.width=s?1:r.plotWidth,c.height=o?1:r.plotHeight,s&&(i=e-a,c.width=Math.max(1,Math.abs(i)),c.x=(i>0?0:i)+a),o&&(i=t-l,c.height=Math.max(1,Math.abs(i)),c.y=(i>0?0:i)+l)})),n}drag(e){let t,{chart:n}=this,{mouseDownX:i=0,mouseDownY:s=0}=n,{panning:o,panKey:a,selectionMarkerFill:l}=n.options.chart,c=n.plotLeft,h=n.plotTop,u=n.plotWidth,d=n.plotHeight,p=g(o)?o.enabled:o,f=a&&e["".concat(a,"Key")],m=e.chartX,v=e.chartY,y=this.selectionMarker;if((!y||!y.touch)&&(m<c?m=c:m>c+u&&(m=c+u),v<h?v=h:v>h+d&&(v=h+d),this.hasDragged=Math.sqrt(Math.pow(i-m,2)+Math.pow(s-v,2)),this.hasDragged>10)){t=n.isInsidePlot(i-c,s-h,{visiblePlotOnly:!0});let{shapeType:a,attrs:u}=this.getSelectionMarkerAttrs(m,v);(n.hasCartesianSeries||n.mapView)&&this.hasZoom&&t&&!f&&!y&&(this.selectionMarker=y=n.renderer[a](),y.attr({class:"highcharts-selection-marker",zIndex:7}).add(),n.styledMode||y.attr({fill:l||r("#334eff").setOpacity(.25).get()})),y&&y.attr(u),t&&!y&&p&&n.pan(e,o)}}dragStart(e){let t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=e.chartX,t.mouseDownY=e.chartY}getSelectionBox(e){let t={args:{marker:e},result:e.getBBox()};return p(this,"getSelectionBox",t),t.result}drop(e){let t,{chart:n,selectionMarker:i}=this;for(let r of n.axes)r.isPanning&&(r.isPanning=!1,(r.options.startOnTick||r.options.endOnTick||r.series.some((e=>e.boosted)))&&(r.forceRedraw=!0,r.setExtremes(r.userMin,r.userMax,!1),t=!0));if(t&&n.redraw(),i&&e){if(this.hasDragged){let t=this.getSelectionBox(i);n.transform({axes:n.axes.filter((e=>e.zoomEnabled&&("xAxis"===e.coll&&this.zoomX||"yAxis"===e.coll&&this.zoomY))),selection:{originalEvent:e,xAxis:[],yAxis:[],...t},from:t})}f(n.index)&&(this.selectionMarker=i.destroy())}n&&f(n.index)&&(h(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(e,t,n){let i;return e.forEach((function(e){let r=!(e.noSharedTooltip&&t)&&0>e.options.findNearestPointBy.indexOf("y"),s=e.searchPoint(n,r);g(s,!0)&&s.series&&(!g(i,!0)||function(e,n,i,r){let s=e.distX-n.distX,o=e.dist-n.dist,a=(null===(i=n.series.group)||void 0===i?void 0:i.zIndex)-(null===(r=e.series.group)||void 0===r?void 0:r.zIndex);return 0!==s&&t?s:0!==o?o:0!==a?a:e.series.index>n.series.index?-1:1}(i,s)>0)&&(i=s)})),i}getChartCoordinatesFromPoint(e,t){let{xAxis:n,yAxis:i}=e.series,r=e.shapeArgs;if(n&&i){var s,o;let a=null!==(s=null!==(o=e.clientX)&&void 0!==o?o:e.plotX)&&void 0!==s?s:0,l=e.plotY||0;return e.isNode&&r&&f(r.x)&&f(r.y)&&(a=r.x,l=r.y),t?{chartX:i.len+i.pos-l,chartY:n.len+n.pos-a}:{chartX:a+n.pos,chartY:l+i.pos}}if(r&&r.x&&r.y)return{chartX:r.x,chartY:r.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:e}=this.chart,t=v(e);this.chartPosition={left:t.left,top:t.top,scaleX:1,scaleY:1};let{offsetHeight:n,offsetWidth:i}=e;return i>2&&n>2&&(this.chartPosition.scaleX=t.width/i,this.chartPosition.scaleY=t.height/n),this.chartPosition}getCoordinates(e){let t={xAxis:[],yAxis:[]};for(let n of this.chart.axes)t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])});return t}getHoverData(e,t,n,i,r,s){let o,a=[],l=function(e){return e.visible&&!(!r&&e.directTouch)&&y(e.options.enableMouseTracking,!0)},c=t,h={chartX:s?s.chartX:void 0,chartY:s?s.chartY:void 0,shared:r};p(this,"beforeGetHoverData",h),o=c&&!c.stickyTracking?[c]:n.filter((e=>e.stickyTracking&&(h.filter||l)(e)));let u=i&&e||!s?e:this.findNearestKDPoint(o,r,s);return c=u&&u.series,u&&(r&&!c.noSharedTooltip?(o=n.filter((function(e){return h.filter?h.filter(e):l(e)&&!e.noSharedTooltip}))).forEach((function(e){let t=d(e.points,(function(e){return e.x===u.x&&!e.isNull}));g(t)&&(e.boosted&&e.boost&&(t=e.boost.getPoint(t)),a.push(t))})):a.push(u)),p(this,"afterGetHoverData",h={hoverPoint:u}),{hoverPoint:h.hoverPoint,hoverSeries:c,hoverPoints:a}}getPointFromEvent(e){let t,n=e.target;for(;n&&!t;)t=n.point,n=n.parentNode;return t}onTrackerMouseOut(e){let t=this.chart,n=e.relatedTarget,i=t.hoverSeries;this.isDirectTouch=!1,!i||!n||i.stickyTracking||this.inClass(n,"highcharts-tooltip")||this.inClass(n,"highcharts-series-"+i.index)&&this.inClass(n,"highcharts-tracker")||i.onMouseOut()}inClass(e,t){let n,i=e;for(;i;){if(n=c(i,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}i=i.parentElement}}constructor(e,t){var n;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=t,this.chart=e,this.runChartClick=!(null===(n=t.chart.events)||void 0===n||!n.click),this.pinchDown=[],this.setDOMEvents(),p(this,"afterInit")}normalize(e,t){let n=e.touches,i=n?n.length?n.item(0):y(n.changedTouches,e.changedTouches)[0]:e;t||(t=this.getChartPosition());let r=i.pageX-t.left,s=i.pageY-t.top;return u(e,{chartX:Math.round(r/=t.scaleX),chartY:Math.round(s/=t.scaleY)})}onContainerClick(e){let t=this.chart,n=t.hoverPoint,i=this.normalize(e),r=t.plotLeft,s=t.plotTop;!t.cancelClick&&(n&&this.inClass(i.target,"highcharts-tracker")?(p(n.series,"click",u(i,{point:n})),t.hoverPoint&&n.firePointEvent("click",i)):(u(i,this.getCoordinates(i)),t.isInsidePlot(i.chartX-r,i.chartY-s,{visiblePlotOnly:!0})&&p(t,"click",i)))}onContainerMouseDown(e){var n,i;let r=1==(1&(e.buttons||e.button));e=this.normalize(e),t.isFirefox&&0!==e.button&&this.onContainerMouseMove(e),(void 0===e.button||r)&&(this.zoomOption(e),r&&null!==(n=(i=e).preventDefault)&&void 0!==n&&n.call(i),this.dragStart(e))}onContainerMouseLeave(e){let{pointer:t}=s[y(x.hoverChartIndex,-1)]||{};e=this.normalize(e),this.onContainerMouseMove(e),t&&!this.inClass(e.relatedTarget,"highcharts-tooltip")&&(t.reset(),t.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(e){let t=this.chart,n=t.tooltip,i=this.normalize(e);this.setHoverChartIndex(e),("mousedown"===t.mouseIsDown||this.touchSelect(i))&&this.drag(i),!t.openMenu&&(this.inClass(i.target,"highcharts-tracker")||t.isInsidePlot(i.chartX-t.plotLeft,i.chartY-t.plotTop,{visiblePlotOnly:!0}))&&(!n||!n.shouldStickOnContact(i))&&(this.inClass(i.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(i))}onDocumentTouchEnd(e){this.onDocumentMouseUp(e)}onContainerTouchMove(e){this.touchSelect(e)?this.onContainerMouseMove(e):this.touch(e)}onContainerTouchStart(e){this.touchSelect(e)?this.onContainerMouseDown(e):(this.zoomOption(e),this.touch(e,!0))}onDocumentMouseMove(e){let t=this.chart,n=t.tooltip,i=this.chartPosition,r=this.normalize(e,i);!i||t.isInsidePlot(r.chartX-t.plotLeft,r.chartY-t.plotTop,{visiblePlotOnly:!0})||n&&n.shouldStickOnContact(r)||r.target!==t.container.ownerDocument&&this.inClass(r.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(e){var t;null===(t=s[y(x.hoverChartIndex,-1)])||void 0===t||null===(t=t.pointer)||void 0===t||t.drop(e)}pinch(e){let t=this,{chart:n,hasZoom:i,lastTouches:r}=t,s=[].map.call(e.touches||[],(e=>t.normalize(e))),o=s.length,a=1===o&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),l=n.tooltip,c=1===o&&y(null===l||void 0===l?void 0:l.options.followTouchMove,!0);o>1?t.initiated=!0:c&&(t.initiated=!1),i&&t.initiated&&!a&&!1!==e.cancelable&&e.preventDefault(),"touchstart"===e.type?(t.pinchDown=s,t.res=!0,n.mouseDownX=e.chartX):c?this.runPointActions(t.normalize(e)):r&&(p(n,"touchpan",{originalEvent:e,touches:s},(()=>{let t=e=>{let t=e[0],n=e[1]||t;return{x:t.chartX,y:t.chartY,width:n.chartX-t.chartX,height:n.chartY-t.chartY}};n.transform({axes:n.axes.filter((e=>e.zoomEnabled&&(this.zoomHor&&e.horiz||this.zoomVert&&!e.horiz))),to:t(s),from:t(r),trigger:e.type})})),t.res&&(t.res=!1,this.reset(!1,0))),t.lastTouches=s}reset(e,t){let n=this.chart,i=n.hoverSeries,r=n.hoverPoint,s=n.hoverPoints,o=n.tooltip,a=o&&o.shared?s:r;e&&a&&w(a).forEach((function(t){t.series.isCartesian&&void 0===t.plotX&&(e=!1)})),e?o&&a&&w(a).length&&(o.refresh(a),o.shared&&s?s.forEach((function(e){e.setState(e.state,!0),e.series.isCartesian&&(e.series.xAxis.crosshair&&e.series.xAxis.drawCrosshair(null,e),e.series.yAxis.crosshair&&e.series.yAxis.drawCrosshair(null,e))})):r&&(r.setState(r.state,!0),n.axes.forEach((function(e){e.crosshair&&r.series[e.coll]===e&&e.drawCrosshair(null,r)})))):(r&&r.onMouseOut(),s&&s.forEach((function(e){e.setState()})),i&&i.onMouseOut(),o&&o.hide(t),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach((function(e){e.hideCrosshair()})),n.hoverPoints=n.hoverPoint=void 0)}runPointActions(e,t,n){let i=this.chart,r=i.series,o=i.tooltip&&i.tooltip.options.enabled?i.tooltip:void 0,a=!!o&&o.shared,c=t||i.hoverPoint,h=c&&c.series||i.hoverSeries,u=(!e||"touchmove"!==e.type)&&(!!t||h&&h.directTouch&&this.isDirectTouch),p=this.getHoverData(c,h,r,u,a,e);c=p.hoverPoint,h=p.hoverSeries;let f=p.hoverPoints,g=h&&h.tooltipOptions.followPointer&&!h.tooltipOptions.split,m=a&&h&&!h.noSharedTooltip;if(c&&(n||c!==i.hoverPoint||o&&o.isHidden)){if((i.hoverPoints||[]).forEach((function(e){-1===f.indexOf(e)&&e.setState()})),i.hoverSeries!==h&&h.onMouseOver(),this.applyInactiveState(f),(f||[]).forEach((function(e){e.setState("hover")})),i.hoverPoint&&i.hoverPoint.firePointEvent("mouseOut"),!c.series)return;i.hoverPoints=f,i.hoverPoint=c,c.firePointEvent("mouseOver",void 0,(()=>{o&&c&&o.refresh(m?f:c,e)}))}else if(g&&o&&!o.isHidden){let t=o.getAnchor([{}],e);i.isInsidePlot(t[0],t[1],{visiblePlotOnly:!0})&&o.updatePosition({plotX:t[0],plotY:t[1]})}this.unDocMouseMove||(this.unDocMouseMove=l(i.container.ownerDocument,"mousemove",(e=>{var t,n;return null===(t=s[null!==(n=x.hoverChartIndex)&&void 0!==n?n:-1])||void 0===t||null===(t=t.pointer)||void 0===t?void 0:t.onDocumentMouseMove(e)})),this.eventsToUnbind.push(this.unDocMouseMove)),i.axes.forEach((function(t){let n,r=y((t.crosshair||{}).snap,!0);!r||(n=i.hoverPoint)&&n.series[t.coll]===t||(n=d(f,(e=>e.series&&e.series[t.coll]===t))),n||!r?t.drawCrosshair(e,n):t.hideCrosshair()}))}setDOMEvents(){let e=this.chart.container,t=e.ownerDocument;e.onmousedown=this.onContainerMouseDown.bind(this),e.onmousemove=this.onContainerMouseMove.bind(this),e.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(l(e,"mouseenter",this.onContainerMouseEnter.bind(this)),l(e,"mouseleave",this.onContainerMouseLeave.bind(this))),x.unbindDocumentMouseUp||(x.unbindDocumentMouseUp=[]),x.unbindDocumentMouseUp.push(l(t,"mouseup",this.onDocumentMouseUp.bind(this)));let n=this.chart.renderTo.parentElement;for(;n&&"BODY"!==n.tagName;)this.eventsToUnbind.push(l(n,"scroll",(()=>{delete this.chartPosition}))),n=n.parentElement;this.eventsToUnbind.push(l(e,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),l(e,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),x.unbindDocumentTouchEnd||(x.unbindDocumentTouchEnd=l(t,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),l(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var e,t;if(!a)return;let n=this.pointerCaptureEventsToUnbind,i=this.chart,r=i.container,s=y(null===(e=i.options.tooltip)||void 0===e?void 0:e.followTouchMove,!0)&&i.series.some((e=>e.options.findNearestPointBy.indexOf("y")>-1));!this.hasPointerCapture&&s?(n.push(l(r,"pointerdown",(e=>{var t,n;(null===(t=e.target)||void 0===t?void 0:t.hasPointerCapture(e.pointerId))&&(null===(n=e.target)||void 0===n||n.releasePointerCapture(e.pointerId))})),l(r,"pointermove",(e=>{var t;null===(t=i.pointer)||void 0===t||null===(t=t.getPointFromEvent(e))||void 0===t||t.onMouseOver(e)}))),i.styledMode||h(r,{"touch-action":"none"}),r.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!s&&(n.forEach((e=>e())),n.length=0,i.styledMode||h(r,{"touch-action":y(null===(t=i.options.chart.style)||void 0===t?void 0:t["touch-action"],"manipulation")}),r.className=r.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(e){let n=this.chart,i=t.charts[y(x.hoverChartIndex,-1)];if(i&&i!==n){var r,s;let t={relatedTarget:n.container};e&&!(null!==(r=e)&&void 0!==r&&r.relatedTarget)&&(e={...t,...e}),null===(s=i.pointer)||void 0===s||s.onContainerMouseLeave(e||t)}i&&i.mouseIsDown||(x.hoverChartIndex=n.index)}touch(e,t){let n,{chart:i,pinchDown:r=[]}=this;this.setHoverChartIndex(),1===(e=this.normalize(e)).touches.length?i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop,{visiblePlotOnly:!0})&&!i.openMenu?(t&&this.runPointActions(e),"touchmove"===e.type&&(n=!!r[0]&&Math.pow(r[0].chartX-e.chartX,2)+Math.pow(r[0].chartY-e.chartY,2)>=16),y(n,!0)&&this.pinch(e)):t&&this.reset():2===e.touches.length&&this.pinch(e)}touchSelect(e){return!(!this.chart.zooming.singleTouch||!e.touches||1!==e.touches.length)}zoomOption(e){let t,n,i=this.chart,r=i.inverted,s=i.zooming.type||"";/touch/.test(e.type)&&(s=y(i.zooming.pinchType,s)),this.zoomX=t=/x/.test(s),this.zoomY=n=/y/.test(s),this.zoomHor=t&&!r||n&&r,this.zoomVert=n&&!r||t&&r,this.hasZoom=t||n}}return(i=x||(x={})).compose=function(e){b(o,"Core.Pointer")&&l(e,"beforeRender",(function(){this.pointer=new i(this,this.options)}))},x})),n(t,"Core/Legend/LegendSymbol.js",[t["Core/Utilities.js"]],(function(e){var t;let{extend:n,merge:i,pick:r}=e;return function(e){function t(e,t,s){var o;let a,l=this.legendItem=this.legendItem||{},{chart:c,options:h}=this,{baseline:u=0,symbolWidth:d,symbolHeight:p}=e,f=this.symbol||"circle",g=p/2,m=c.renderer,v=l.group,y=u-Math.round(((null===(o=e.fontMetrics)||void 0===o?void 0:o.b)||p)*(s?.4:.3)),b={},w=h.marker,x=0;if(c.styledMode||(b["stroke-width"]=Math.min(h.lineWidth||0,24),h.dashStyle?b.dashstyle=h.dashStyle:"square"===h.linecap||(b["stroke-linecap"]="round")),l.line=m.path().addClass("highcharts-graph").attr(b).add(v),s&&(l.area=m.path().addClass("highcharts-area").add(v)),b["stroke-linecap"]&&(x=Math.min(l.line.strokeWidth(),d)/2),d){var S;let e=[["M",x,y],["L",d-x,y]];l.line.attr({d:e}),null===(S=l.area)||void 0===S||S.attr({d:[...e,["L",d-x,u],["L",x,u]]})}if(w&&!1!==w.enabled&&d){let e=Math.min(r(w.radius,g),g);0===f.indexOf("url")&&(w=i(w,{width:p,height:p}),e=0),l.symbol=a=m.symbol(f,d/2-e,y-e,2*e,2*e,n({context:"legend"},w)).addClass("highcharts-point").add(v),a.isMarker=!0}}e.areaMarker=function(e,n){t.call(this,e,n,!0)},e.lineMarker=t,e.rectangle=function(e,t){let n=t.legendItem||{},i=e.options,s=e.symbolHeight,o=i.squareSymbol,a=o?s:e.symbolWidth;n.symbol=this.chart.renderer.rect(o?(e.symbolWidth-s)/2:0,e.baseline-s+1,a,s,r(e.options.symbolRadius,s/2)).addClass("highcharts-point").attr({zIndex:3}).add(n.group)}}(t||(t={})),t})),n(t,"Core/Series/SeriesDefaults.js",[],(function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:e}=this.series.chart;return"number"!=typeof this.y?"":e(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}})),n(t,"Core/Series/SeriesRegistry.js",[t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(e,t,n,i){var r;let{defaultOptions:s}=t,{extend:o,extendClass:a,merge:l}=i;return function(t){function i(e,i){let r=s.plotOptions||{},o=i.defaultOptions,a=i.prototype;return a.type=e,a.pointClass||(a.pointClass=n),!t.seriesTypes[e]&&(o&&(r[e]=o),t.seriesTypes[e]=i,!0)}t.seriesTypes=e.seriesTypes,t.registerSeriesType=i,t.seriesType=function(e,r,c,h,u){let d=s.plotOptions||{};if(r=r||"",d[e]=l(d[r],c),delete t.seriesTypes[e],i(e,a(t.seriesTypes[r]||function(){},h)),t.seriesTypes[e].prototype.type=e,u){class i extends n{}o(i.prototype,u),t.seriesTypes[e].prototype.pointClass=i}return t.seriesTypes[e]}}(r||(r={})),r})),n(t,"Core/Series/Series.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Defaults.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r,s,o,a,l,c){let{animObject:h,setAnimation:u}=e,{defaultOptions:d}=t,{registerEventOptions:p}=n,{svg:f,win:g}=i,{seriesTypes:m}=a,{arrayMax:v,arrayMin:y,clamp:b,correctFloat:w,crisp:x,defined:S,destroyObjectProperties:k,diffObjects:_,erase:T,error:C,extend:E,find:I,fireEvent:A,getClosestDistance:P,getNestedProperty:N,insertItem:M,isArray:O,isNumber:L,isString:D,merge:R,objectEach:j,pick:F,removeEvent:U,splat:B,syncTimeout:z}=c;class V{constructor(){this.zoneAxis="y"}init(e,t){let n;A(this,"init",{options:t});let i=this,r=e.series;this.eventsToUnbind=[],i.chart=e,i.options=i.setOptions(t);let s=i.options,o=!1!==s.visible;i.linkedSeries=[],i.bindAxes(),E(i,{name:s.name,state:"",visible:o,selected:!0===s.selected}),p(this,s);let a=s.events;(a&&a.click||s.point&&s.point.events&&s.point.events.click||s.allowPointSelect)&&(e.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach((function(e){i[e+"Data"]||(i[e+"Data"]=[])})),i.isCartesian&&(e.hasCartesianSeries=!0),r.length&&(n=r[r.length-1]),i._i=F(n&&n._i,-1)+1,i.opacity=i.options.opacity,e.orderItems("series",M(this,r)),s.dataSorting&&s.dataSorting.enabled?i.setDataSortingOptions():i.points||i.data||i.setData(s.data,!1),A(this,"afterInit")}is(e){return m[e]&&this instanceof m[e]}bindAxes(){let e,t=this,n=t.options,i=t.chart;A(this,"bindAxes",null,(function(){(t.axisTypes||[]).forEach((function(r){(i[r]||[]).forEach((function(i){e=i.options,(F(n[r],0)===i.index||void 0!==n[r]&&n[r]===e.id)&&(M(t,i.series),t[r]=i,i.isDirty=!0)})),t[r]||t.optionalAxis===r||C(18,!0,i)}))})),A(this,"afterBindAxes")}updateParallelArrays(e,t,n){let i=e.series,r=L(t)?function(n){let r="y"===n&&i.toYData?i.toYData(e):e[n];i[n+"Data"][t]=r}:function(e){Array.prototype[t].apply(i[e+"Data"],n)};i.parallelArrays.forEach(r)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(e,t){let n=e.marker,i=t.marker||{};return n&&(i.enabled&&!n.enabled||i.symbol!==n.symbol||i.height!==n.height||i.width!==n.width)}autoIncrement(e){let t,n,i=this.options,r=i.pointIntervalUnit,s=i.relativeXValue,o=this.chart.time,a=this.xIncrement;return a=F(a,i.pointStart,0),this.pointInterval=n=F(this.pointInterval,i.pointInterval,1),s&&L(e)&&(n*=e),r&&(t=new o.Date(a),"day"===r?o.set("Date",t,o.get("Date",t)+n):"month"===r?o.set("Month",t,o.get("Month",t)+n):"year"===r&&o.set("FullYear",t,o.get("FullYear",t)+n),n=t.getTime()-a),s&&L(e)?a+n:(this.xIncrement=a+n,a)}setDataSortingOptions(){let e=this.options;E(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(e.pointRange)||(e.pointRange=1)}setOptions(e){var t,n;let i,r=this.chart,s=r.options.plotOptions,o=r.userOptions||{},a=R(e),l=r.styledMode,c={plotOptions:s,userOptions:a};A(this,"setOptions",c);let h=c.plotOptions[this.type],u=o.plotOptions||{},p=u.series||{},f=d.plotOptions[this.type]||{},g=u[this.type]||{};this.userOptions=c.userOptions;let m=R(h,s.series,g,a);this.tooltipOptions=R(d.tooltip,null===(t=d.plotOptions.series)||void 0===t?void 0:t.tooltip,null===f||void 0===f?void 0:f.tooltip,r.userOptions.tooltip,null===(n=u.series)||void 0===n?void 0:n.tooltip,g.tooltip,a.tooltip),this.stickyTracking=F(a.stickyTracking,g.stickyTracking,p.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||m.stickyTracking),null===h.marker&&delete m.marker,this.zoneAxis=m.zoneAxis||"y";let v=this.zones=(m.zones||[]).map((e=>({...e})));return(m.negativeColor||m.negativeFillColor)&&!m.zones&&(i={value:m[this.zoneAxis+"Threshold"]||m.threshold||0,className:"highcharts-negative"},l||(i.color=m.negativeColor,i.fillColor=m.negativeFillColor),v.push(i)),v.length&&S(v[v.length-1].value)&&v.push(l?{}:{color:this.color,fillColor:this.fillColor}),A(this,"afterSetOptions",{options:m}),m}getName(){return F(this.options.name,"Series "+(this.index+1))}getCyclic(e,t,n){let i,r,s=this.chart,o="".concat(e,"Index"),a="".concat(e,"Counter"),l=(null===n||void 0===n?void 0:n.length)||s.options.chart.colorCount;!t&&(S(r=F("color"===e?this.options.colorIndex:void 0,this[o]))?i=r:(s.series.length||(s[a]=0),i=s[a]%l,s[a]+=1),n&&(t=n[i])),void 0!==i&&(this[o]=i),this[e]=t}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||d.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols)}findPointIndex(e,t){let n,i,r,o=e.id,a=e.x,l=this.points,c=this.options.dataSorting;if(o){let e=this.chart.get(o);e instanceof s&&(n=e)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let t=t=>!t.touched&&t.index===e.index;if(c&&c.matchByName?t=t=>!t.touched&&t.name===e.name:this.options.relativeXValue&&(t=t=>!t.touched&&t.options.x===e.x),!(n=I(l,t)))return}return n&&void 0!==(r=n&&n.index)&&(i=!0),void 0===r&&L(a)&&(r=this.xData.indexOf(a,t)),-1!==r&&void 0!==r&&this.cropped&&(r=r>=this.cropStart?r-this.cropStart:r),!i&&L(r)&&l[r]&&l[r].touched&&(r=void 0),r}updateData(e,t){let n,i,r,s,o=this.options,a=o.dataSorting,l=this.points,c=[],h=this.requireSorting,u=e.length===l.length,d=!0;if(this.xIncrement=null,e.forEach((function(e,t){let i,r=S(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e)||{},d=r.x;r.id||L(d)?(-1===(i=this.findPointIndex(r,s))||void 0===i?c.push(e):l[i]&&e!==o.data[i]?(l[i].update(e,!1,null,!1),l[i].touched=!0,h&&(s=i+1)):l[i]&&(l[i].touched=!0),(!u||t!==i||a&&a.enabled||this.hasDerivedData)&&(n=!0)):c.push(e)}),this),n)for(i=l.length;i--;)(r=l[i])&&!r.touched&&r.remove&&r.remove(!1,t);else!u||a&&a.enabled?d=!1:(e.forEach((function(e,t){e===l[t].y||l[t].destroyed||l[t].update(e,!1,null,!1)})),c.length=0);return l.forEach((function(e){e&&(e.touched=!1)})),!!d&&(c.forEach((function(e){this.addPoint(e,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=v(this.xData),this.autoIncrement()),!0)}setData(e){let t,n,i,r,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=this,c=l.points,h=c&&c.length||0,u=l.options,d=l.chart,p=u.dataSorting,f=l.xAxis,g=u.turboThreshold,m=this.xData,v=this.yData,y=l.pointArrayMap,b=y&&y.length,w=u.keys,x=0,S=1;d.options.chart.allowMutatingData||(u.data&&delete l.options.data,l.userOptions.data&&delete l.userOptions.data,r=R(!0,e));let k=(e=r||e||[]).length;if(p&&p.enabled&&(e=this.sortData(e)),d.options.chart.allowMutatingData&&!1!==a&&k&&h&&!l.cropped&&!l.hasGroupedData&&l.visible&&!l.boosted&&(i=this.updateData(e,o)),!i){l.xIncrement=null,l.colorCounter=0,this.parallelArrays.forEach((function(e){l[e+"Data"].length=0}));let i=g&&k>g;if(i){let r=l.getFirstValidPoint(e),s=l.getFirstValidPoint(e,k-1,-1),o=e=>!(!O(e)||!w&&!L(e[0]));if(L(r)&&L(s))for(t=0;t<k;t++)m[t]=this.autoIncrement(),v[t]=e[t];else if(o(r)&&o(s))if(b)if(r.length===b)for(t=0;t<k;t++)m[t]=this.autoIncrement(),v[t]=e[t];else for(t=0;t<k;t++)n=e[t],m[t]=n[0],v[t]=n.slice(1,b+1);else if(w&&(x=w.indexOf("x"),S=w.indexOf("y"),x=x>=0?x:0,S=S>=0?S:1),1===r.length&&(S=0),x===S)for(t=0;t<k;t++)m[t]=this.autoIncrement(),v[t]=e[t][S];else for(t=0;t<k;t++)n=e[t],m[t]=n[x],v[t]=n[S];else i=!1}if(!i)for(t=0;t<k;t++)n={series:l},l.pointClass.prototype.applyOptions.apply(n,[e[t]]),l.updateParallelArrays(n,t);for(v&&D(v[0])&&C(14,!0,d),l.data=[],l.options.data=l.userOptions.data=e,t=h;t--;){var _;null===(_=c[t])||void 0===_||_.destroy()}f&&(f.minRange=f.userMinRange),l.isDirty=d.isDirtyBox=!0,l.isDirtyData=!!c,o=!1}"point"===u.legendType&&(this.processData(),this.generatePoints()),s&&d.redraw(o)}sortData(e){let t=this,n=t.options.dataSorting.sortKey||"y",i=function(e,t){return S(t)&&e.pointClass.prototype.optionsToObject.call({series:e},t)||{}};return e.forEach((function(n,r){e[r]=i(t,n),e[r].index=r}),this),e.concat().sort(((e,t)=>{let i=N(n,e),r=N(n,t);return r<i?-1:r>i?1:0})).forEach((function(e,t){e.x=t}),this),t.linkedSeries&&t.linkedSeries.forEach((function(t){let n=t.options,r=n.data;n.dataSorting&&n.dataSorting.enabled||!r||(r.forEach((function(n,s){r[s]=i(t,n),e[s]&&(r[s].x=e[s].x,r[s].index=s)})),t.setData(r,!1))})),e}getProcessedData(e){let t,n,i,r,s,o=this,a=o.xAxis,l=o.options.cropThreshold,c=null===a||void 0===a?void 0:a.logarithmic,h=o.isCartesian,u=0,d=o.xData,p=o.yData,f=!1,g=d.length;a&&(r=(i=a.getExtremes()).min,s=i.max,f=!(!a.categories||a.names.length)),h&&o.sorted&&!e&&(!l||g>l||o.forceCrop)&&(d[g-1]<r||d[0]>s?(d=[],p=[]):o.yData&&(d[0]<r||d[g-1]>s)&&(d=(t=this.cropData(o.xData,o.yData,r,s)).xData,p=t.yData,u=t.start,n=!0));let m=P([c?d.map(c.log2lin):d],(()=>o.requireSorting&&!f&&C(15,!1,o.chart)));return{xData:d,yData:p,cropped:n,cropStart:u,closestPointRange:m}}processData(e){let t=this.xAxis;if(this.isCartesian&&!this.isDirty&&!t.isDirty&&!this.yAxis.isDirty&&!e)return!1;let n=this.getProcessedData();this.cropped=n.cropped,this.cropStart=n.cropStart,this.processedXData=n.xData,this.processedYData=n.yData,this.closestPointRange=this.basePointRange=n.closestPointRange,A(this,"afterProcessData")}cropData(e,t,n,i){let r,s,o=e.length,a=0,l=o;for(r=0;r<o;r++)if(e[r]>=n){a=Math.max(0,r-1);break}for(s=r;s<o;s++)if(e[s]>i){l=s+1;break}return{xData:e.slice(a,l),yData:t.slice(a,l),start:a,end:l}}generatePoints(){let e,t,n,i,r=this.options,s=this.processedData||r.data,o=this.processedXData,a=this.processedYData,l=this.pointClass,c=o.length,h=this.cropStart||0,u=this.hasGroupedData,d=r.keys,p=[],f=r.dataGrouping&&r.dataGrouping.groupAll?h:0,g=this.data;if(!g&&!u){let e=[];e.length=s.length,g=this.data=e}for(d&&u&&(this.options.keys=!1),i=0;i<c;i++)t=h+i,u?((n=new l(this,[o[i]].concat(B(a[i])))).dataGroup=this.groupMap[f+i],n.dataGroup.options&&(n.options=n.dataGroup.options,E(n,n.dataGroup.options),delete n.dataLabels)):(n=g[t])||void 0===s[t]||(g[t]=n=new l(this,s[t],o[i])),n&&(n.index=u?f+i:t,p[i]=n);if(this.options.keys=d,g&&(c!==(e=g.length)||u))for(i=0;i<e;i++)i!==h||u||(i+=c),g[i]&&(g[i].destroyElements(),g[i].plotX=void 0);this.data=g,this.points=p,A(this,"afterGeneratePoints")}getXExtremes(e){return{min:y(e),max:v(e)}}getExtremes(e,t){let n,i,r,s,o,a,l,c=this.xAxis,h=this.yAxis,u=[],d=this.requireSorting&&!this.is("column")?1:0,p=!!h&&h.positiveValuesOnly,f=t||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:g,processedYData:m}=this,b=0,w=0,x=0;if(this.cropped&&f){let e=this.getProcessedData(!0);g=e.xData,m=e.yData}let S=(e=e||this.stackedYData||m||[]).length,k=g||this.xData;for(c&&(b=(n=c.getExtremes()).min,w=n.max),a=0;a<S;a++)if(s=k[a],i=(L(o=e[a])||O(o))&&((L(o)?o>0:o.length)||!p),r=t||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!c||(k[a+d]||s)>=b&&(k[a-d]||s)<=w,i&&r)if(l=o.length)for(;l--;)L(o[l])&&(u[x++]=o[l]);else u[x++]=o;let _={activeYData:u,dataMin:y(u),dataMax:v(u)};return A(this,"afterGetExtremes",{dataExtremes:_}),_}applyExtremes(){let e=this.getExtremes();return this.dataMin=e.dataMin,this.dataMax=e.dataMax,e}getFirstValidPoint(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.length,r=t;for(;r>=0&&r<i;){if(S(e[r]))return e[r];r+=n}}translate(){this.processedXData||this.processData(),this.generatePoints();let e,t,n,i,r=this.options,s=r.stacking,o=this.xAxis,a=o.categories,l=this.enabledDataSorting,c=this.yAxis,h=this.points,u=h.length,d=this.pointPlacementToXValue(),p=!!d,f=r.threshold,g=r.startFromThreshold?f:0,m=Number.MAX_VALUE;function v(e){return b(e,-1e9,1e9)}for(e=0;e<u;e++){var y;let r,u,b,x=h[e],k=x.x,_=x.y,T=x.low,C=s&&(null===(y=c.stacking)||void 0===y?void 0:y.stacks[(this.negStacks&&_<(g?0:f)?"-":"")+this.stackKey]);t=o.translate(k,!1,!1,!1,!0,d),x.plotX=L(t)?w(v(t)):void 0,s&&this.visible&&C&&C[k]&&(i=this.getStackIndicator(i,k,this.index),!x.isNull&&i.key&&(b=(u=C[k]).points[i.key]),u&&O(b)&&(T=b[0],_=b[1],T===g&&i.key===C[k].base&&(T=F(L(f)?f:c.min)),c.positiveValuesOnly&&S(T)&&T<=0&&(T=void 0),x.total=x.stackTotal=F(u.total),x.percentage=S(x.y)&&u.total?x.y/u.total*100:void 0,x.stackY=_,this.irregularWidths||u.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),x.yBottom=S(T)?v(c.translate(T,!1,!0,!1,!0)):void 0,this.dataModify&&(_=this.dataModify.modifyValue(_,e)),L(_)&&void 0!==x.plotX&&(r=L(r=c.translate(_,!1,!0,!1,!0))?v(r):void 0),x.plotY=r,x.isInside=this.isPointInside(x),x.clientX=p?w(o.translate(k,!1,!1,!1,!0,d)):t,x.negative=(x.y||0)<(f||0),x.category=F(a&&a[x.x],x.x),x.isNull||!1===x.visible||(void 0!==n&&(m=Math.min(m,Math.abs(t-n))),n=t),x.zone=this.zones.length?x.getZone():void 0,!x.graphic&&this.group&&l&&(x.isNew=!0)}this.closestPointRangePx=m,A(this,"afterTranslate")}getValidPoints(e,t,n){let i=this.chart;return(e||this.points||[]).filter((function(e){let{plotX:r,plotY:s}=e;return!(!(n||!e.isNull&&L(s))||t&&!i.isInsidePlot(r,s,{inverted:i.inverted}))&&!1!==e.visible}))}getClipBox(){let{chart:e,xAxis:t,yAxis:n}=this,{x:i,y:r,width:s,height:o}=R(e.clipBox);return t&&t.len!==e.plotSizeX&&(s=t.len),n&&n.len!==e.plotSizeY&&(o=n.len),e.inverted&&!this.invertible&&([s,o]=[o,s]),{x:i,y:r,width:s,height:o}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:e,group:t,markerGroup:n}=this,i=e.sharedClips,r=e.renderer,s=this.getClipBox(),o=this.getSharedClipKey(),a=i[o];a?a.animate(s):i[o]=a=r.clipRect(s),t&&t.clip(!1===this.options.clip?void 0:a),n&&n.clip()}animate(e){let{chart:t,group:n,markerGroup:i}=this,r=t.inverted,s=h(this.options.animation),o=[this.getSharedClipKey(),s.duration,s.easing,s.defer].join(","),a=t.sharedClips[o],l=t.sharedClips[o+"m"];if(e&&n){let e=this.getClipBox();if(a)a.attr("height",e.height);else{e.width=0,r&&(e.x=t.plotHeight),a=t.renderer.clipRect(e),t.sharedClips[o]=a;let n={x:-99,y:-99,width:r?t.plotWidth+199:99,height:r?99:t.plotHeight+199};l=t.renderer.clipRect(n),t.sharedClips[o+"m"]=l}n.clip(a),null===i||void 0===i||i.clip(l)}else if(a&&!a.hasClass("highcharts-animating")){let e=this.getClipBox(),n=s.step;(null!==i&&void 0!==i&&i.element.childNodes.length||t.series.length>1)&&(s.step=function(e,t){var i;n&&n.apply(t,arguments),"width"===t.prop&&(null===(i=l)||void 0===i?void 0:i.element)&&l.attr(r?"height":"width",e+99)}),a.addClass("highcharts-animating").animate(e,s)}}afterAnimate(){this.setClip(),j(this.chart.sharedClips,((e,t,n)=>{e&&!this.chart.container.querySelector('[clip-path="url(#'.concat(e.id,')"]'))&&(e.destroy(),delete n[t])})),this.finishedAnimating=!0,A(this,"afterAnimate")}drawPoints(){let e,t,n,i,r,s,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.points,l=this.chart,c=l.styledMode,{colorAxis:h,options:u}=this,d=u.marker,p=this[this.specialGroup||"markerGroup"],f=this.xAxis,g=F(d.enabled,!f||!!f.isRadial||null,this.closestPointRangePx>=d.enabledThreshold*d.radius);if(!1!==d.enabled||this._hasPointMarkers)for(e=0;e<a.length;e++)if(i=(n=(t=a[e]).graphic)?"animate":"attr",r=t.marker||{},s=!!t.marker,(g&&void 0===r.enabled||r.enabled)&&!t.isNull&&!1!==t.visible){let e=F(r.symbol,this.symbol,"rect");o=this.markerAttribs(t,t.selected&&"select"),this.enabledDataSorting&&(t.startXPos=f.reversed?-(o.width||0):f.width);let a=!1!==t.isInside;if(!n&&a&&((o.width||0)>0||t.hasImage)&&(t.graphic=n=l.renderer.symbol(e,o.x,o.y,o.width,o.height,s?r:d).add(p),this.enabledDataSorting&&l.hasRendered&&(n.attr({x:t.startXPos}),i="animate")),n&&"animate"===i&&n[a?"show":"hide"](a).animate(o),n){let e=this.pointAttribs(t,c||!t.selected?void 0:"select");c?h&&n.css({fill:e.fill}):n[i](e)}n&&n.addClass(t.getClassName(),!0)}else n&&(t.graphic=n.destroy())}markerAttribs(e,t){let n,i,r=this.options,s=r.marker,o=e.marker||{},a=o.symbol||s.symbol,l={},c=F(o.radius,s&&s.radius);t&&(n=s.states[t],c=F((i=o.states&&o.states[t])&&i.radius,n&&n.radius,c&&c+(n&&n.radiusPlus||0))),e.hasImage=a&&0===a.indexOf("url"),e.hasImage&&(c=0);let h=e.pos();return L(c)&&h&&(r.crisp&&(h[0]=x(h[0],e.hasImage?0:"rect"===a?(null===s||void 0===s?void 0:s.lineWidth)||0:1)),l.x=h[0]-c,l.y=h[1]-c),c&&(l.width=l.height=2*c),l}pointAttribs(e,t){let n,i,r,s,o=this.options.marker,a=e&&e.options,l=a&&a.marker||{},c=a&&a.color,h=e&&e.color,u=e&&e.zone&&e.zone.color,d=this.color,p=F(l.lineWidth,o.lineWidth),f=1;return d=c||u||h||d,r=l.fillColor||o.fillColor||d,s=l.lineColor||o.lineColor||d,t=t||"normal",n=o.states[t]||{},p=F((i=l.states&&l.states[t]||{}).lineWidth,n.lineWidth,p+F(i.lineWidthPlus,n.lineWidthPlus,0)),r=i.fillColor||n.fillColor||r,{stroke:s=i.lineColor||n.lineColor||s,"stroke-width":p,fill:r,opacity:f=F(i.opacity,n.opacity,f)}}destroy(e){let t,n,i,r=this,s=r.chart,o=/AppleWebKit\/533/.test(g.navigator.userAgent),a=r.data||[];for(A(r,"destroy",{keepEventsForUpdate:e}),this.removeEvents(e),(r.axisTypes||[]).forEach((function(e){(i=r[e])&&i.series&&(T(i.series,r),i.isDirty=i.forceRedraw=!0)})),r.legendItem&&r.chart.legend.destroyItem(r),t=a.length;t--;)(n=a[t])&&n.destroy&&n.destroy();for(let l of r.zones)k(l,void 0,!0);c.clearTimeout(r.animationTimeout),j(r,(function(e,t){e instanceof l&&!e.survive&&e[o&&"group"===t?"hide":"destroy"]()})),s.hoverSeries===r&&(s.hoverSeries=void 0),T(s.series,r),s.orderItems("series"),j(r,(function(t,n){e&&"hcEvents"===n||delete r[n]}))}applyZones(){let{area:e,chart:t,graph:n,zones:i,points:r,xAxis:s,yAxis:o,zoneAxis:a}=this,{inverted:l,renderer:c}=t,h=this["".concat(a,"Axis")],{isXAxis:u,len:d=0}=h||{},p=((null===n||void 0===n?void 0:n.strokeWidth())||0)/2+1,f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;l&&(n=d-n);let{translated:i=0,lineClip:r}=e,s=n-i;null===r||void 0===r||r.push(["L",t,Math.abs(s)<p?n-p*(s<=0?-1:1):i])};if(i.length&&(n||e)&&h&&L(h.min)){let t=h.getExtremes().max,p=e=>{e.forEach(((t,n)=>{("M"===t[0]||"L"===t[0])&&(e[n]=[t[0],u?d-t[1]:t[1],u?t[2]:d-t[2]])}))};if(i.forEach((e=>{e.lineClip=[],e.translated=b(h.toPixels(F(e.value,t),!0)||0,0,d)})),n&&!this.showLine&&n.hide(),e&&e.hide(),"y"===a&&r.length<s.len)for(let e of r){let{plotX:t,plotY:n,zone:r}=e,s=r&&i[i.indexOf(r)-1];r&&f(r,t,n),s&&f(s,t,n)}let g=[],m=h.toPixels(h.getExtremes().min,!0);i.forEach((t=>{var i,r,a;let h=t.lineClip||[],d=Math.round(t.translated||0);s.reversed&&h.reverse();let{clip:f,simpleClip:v}=t,y=0,b=0,w=s.len,x=o.len;u?(y=d,w=m):(b=d,x=m);let S=[["M",y,b],["L",w,b],["L",w,x],["L",y,x],["Z"]],k=[S[0],...h,S[1],S[2],...g,S[3],S[4]];g=h.reverse(),m=d,l&&(p(k),e&&p(S)),f?(f.animate({d:k}),null===(i=v)||void 0===i||i.animate({d:S})):(f=t.clip=c.path(k),e&&(v=t.simpleClip=c.path(S))),n&&null!==(r=t.graph)&&void 0!==r&&r.clip(f),e&&(null===(a=t.area)||void 0===a||a.clip(v))}))}else this.visible&&(n&&n.show(),e&&e.show())}plotGroup(e,t,n,i,r){let s=this[e],o=!s,a={visibility:n,zIndex:i||.1};return S(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(a.opacity=this.opacity),s||(this[e]=s=this.chart.renderer.g().add(r)),s.addClass("highcharts-"+t+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(s.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),s.attr(a)[o?"attr":"animate"](this.getPlotBox(t)),s}getPlotBox(e){let t=this.xAxis,n=this.yAxis,i=this.chart,r=i.inverted&&!i.polar&&t&&this.invertible&&"series"===e;return i.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:i.plotLeft,translateY:n?n.top:i.plotTop,rotation:r?90:0,rotationOriginX:r?(t.len-n.len)/2:0,rotationOriginY:r?(t.len+n.len)/2:0,scaleX:r?-1:1,scaleY:1}}removeEvents(e){let{eventsToUnbind:t}=this;e||U(this),t.length&&(t.forEach((e=>{e()})),t.length=0)}render(){var e,t,n,i,r;let s=this,{chart:o,options:a,hasRendered:l}=s,c=h(a.animation),u=s.visible?"inherit":"hidden",d=a.zIndex,p=o.seriesGroup,f=s.finishedAnimating?0:c.duration;A(this,"render"),s.plotGroup("group","series",u,d,p),s.markerGroup=s.plotGroup("markerGroup","markers",u,d,p),!1!==a.clip&&s.setClip(),f&&null!==(e=s.animate)&&void 0!==e&&e.call(s,!0),s.drawGraph&&(s.drawGraph(),s.applyZones()),s.visible&&s.drawPoints(),null!==(t=s.drawDataLabels)&&void 0!==t&&t.call(s),null!==(n=s.redrawPoints)&&void 0!==n&&n.call(s),a.enableMouseTracking&&null!==(i=s.drawTracker)&&void 0!==i&&i.call(s),f&&null!==(r=s.animate)&&void 0!==r&&r.call(s),l||(f&&c.defer&&(f+=c.defer),s.animationTimeout=z((()=>{s.afterAnimate()}),f||0)),s.isDirty=!1,s.hasRendered=!0,A(s,"afterRender")}redraw(){let e=this.isDirty||this.isDirtyData;this.translate(),this.render(),e&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(e,t){let{xAxis:n,yAxis:i}=this,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:r?i.len-e.chartX+i.pos:e.chartY-i.pos},t,e)}buildKDTree(e){this.buildingKdTree=!0;let t=this,n=t.options.findNearestPointBy.indexOf("y")>-1?2:1;delete t.kdTree,z((function(){t.kdTree=function e(n,i,r){let s,o,a=null===n||void 0===n?void 0:n.length;if(a)return s=t.kdAxisArray[i%r],n.sort(((e,t)=>(e[s]||0)-(t[s]||0))),{point:n[o=Math.floor(a/2)],left:e(n.slice(0,o),i+1,r),right:e(n.slice(o+1),i+1,r)}}(t.getValidPoints(void 0,!t.directTouch),n,n),t.buildingKdTree=!1}),t.options.kdNow||"touchstart"===(null===e||void 0===e?void 0:e.type)?0:1)}searchKDTree(e,t,n){let i=this,[r,s]=this.kdAxisArray,o=t?"distX":"dist",a=(i.options.findNearestPointBy||"").indexOf("y")>-1?2:1,l=!!i.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return function e(t,n,a,c,h){let u,d,p=n.point,f=i.kdAxisArray[a%c],g=p;!function(e,t,n){let i=e[r],o=t[r],a=S(i)&&S(o)?i-o:null,c=e[s],h=t[s],u=S(c)&&S(h)?c-h:0,d=l&&(null===(n=t.marker)||void 0===n?void 0:n.radius)||0;t.dist=Math.sqrt((a&&a*a||0)+u*u)-d,t.distX=S(a)?Math.abs(a)-d:Number.MAX_VALUE}(t,p);let m=(t[f]||0)-(p[f]||0)+(l&&(null===(h=p.marker)||void 0===h?void 0:h.radius)||0),v=m<0?"left":"right",y=m<0?"right":"left";return n[v]&&(g=(u=e(t,n[v],a+1,c))[o]<g[o]?u:p),n[y]&&Math.sqrt(m*m)<g[o]&&(g=(d=e(t,n[y],a+1,c))[o]<g[o]?d:g),g}(e,this.kdTree,a,a)}pointPlacementToXValue(){let{options:e,xAxis:t}=this,n=e.pointPlacement;return"between"===n&&(n=t.reversed?-.5:.5),L(n)?n*(e.pointRange||t.pointRange):0}isPointInside(e){let{chart:t,xAxis:n,yAxis:i}=this,{plotX:r=-1,plotY:s=-1}=e;return s>=0&&s<=(i?i.len:t.plotHeight)&&r>=0&&r<=(n?n.len:t.plotWidth)}drawTracker(){var e;let t=this,n=t.options,i=n.trackByArea,r=[].concat((i?t.areaPath:t.graphPath)||[]),s=t.chart,o=s.pointer,a=s.renderer,l=(null===(e=s.options.tooltip)||void 0===e?void 0:e.snap)||0,c=()=>{n.enableMouseTracking&&s.hoverSeries!==t&&t.onMouseOver()},h="rgba(192,192,192,"+(f?1e-4:.002)+")",u=t.tracker;u?u.attr({d:r}):t.graph&&(t.tracker=u=a.path(r).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),s.styledMode||u.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:h,fill:i?h:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*l)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach((e=>{e&&(e.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(e=>{null===o||void 0===o||o.onTrackerMouseOut(e)})),n.cursor&&!s.styledMode&&e.css({cursor:n.cursor}),e.on("touchstart",c))}))),A(this,"afterDrawTracker")}addPoint(e,t,n,i,r){let s,o,a=this.options,l=this.data,c=this.chart,h=this.xAxis,u=h&&h.hasNames&&h.names,d=a.data,p=this.xData;t=F(t,!0);let f={series:this};this.pointClass.prototype.applyOptions.apply(f,[e]);let g=f.x;if(o=p.length,this.requireSorting&&g<p[o-1])for(s=!0;o&&p[o-1]>g;)o--;this.updateParallelArrays(f,"splice",[o,0,0]),this.updateParallelArrays(f,o),u&&f.name&&(u[g]=f.name),d.splice(o,0,e),(s||this.processedData)&&(this.data.splice(o,0,null),this.processData()),"point"===a.legendType&&this.generatePoints(),n&&(l[0]&&l[0].remove?l[0].remove(!1):(l.shift(),this.updateParallelArrays(f,"shift"),d.shift())),!1!==r&&A(this,"addPoint",{point:f}),this.isDirty=!0,this.isDirtyData=!0,t&&c.redraw(i)}removePoint(e,t,n){let i=this,r=i.data,s=r[e],o=i.points,a=i.chart,l=function(){o&&o.length===r.length&&o.splice(e,1),r.splice(e,1),i.options.data.splice(e,1),i.updateParallelArrays(s||{series:i},"splice",[e,1]),s&&s.destroy(),i.isDirty=!0,i.isDirtyData=!0,t&&a.redraw()};u(n,a),t=F(t,!0),s?s.firePointEvent("remove",null,l):l()}remove(e,t,n,i){let r=this,s=r.chart;function o(){r.destroy(i),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(i),F(e,!0)&&s.redraw(t)}!1!==n?A(r,"remove",null,o):o()}update(e,t){var n,i,r,s;A(this,"update",{options:e=_(e,this.userOptions)});let o,a,l=this,c=l.chart,h=l.userOptions,u=l.initialType||l.type,d=c.options.plotOptions,p=m[u].prototype,f=l.finishedAnimating&&{animation:!1},g={},v=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],y=e.type||h.type||c.options.chart.type,b=!(this.hasDerivedData||y&&y!==this.type||void 0!==e.pointStart||void 0!==e.pointInterval||void 0!==e.relativeXValue||e.joinBy||e.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some((e=>l.hasOptionChanged(e))));y=y||u,b&&(v.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),!1!==e.visible&&v.push("area","graph"),l.parallelArrays.forEach((function(e){v.push(e+"Data")})),e.data&&(e.dataSorting&&E(l.options.dataSorting,e.dataSorting),this.setData(e.data,!1))),e=R(h,{index:void 0===h.index?l.index:h.index,pointStart:null!==(n=null!==(i=null===d||void 0===d||null===(r=d.series)||void 0===r?void 0:r.pointStart)&&void 0!==i?i:h.pointStart)&&void 0!==n?n:null===(s=l.xData)||void 0===s?void 0:s[0]},!b&&{data:l.options.data},e,f),b&&e.data&&(e.data=l.options.data),(v=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(v)).forEach((function(e){v[e]=l[e],delete l[e]}));let w=!1;if(m[y]){if(w=y!==l.type,l.remove(!1,!1,!1,!0),w)if(c.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(l,m[y].prototype);else{let e=Object.hasOwnProperty.call(l,"hcEvents")&&l.hcEvents;for(a in p)l[a]=void 0;E(l,m[y].prototype),e?l.hcEvents=e:delete l.hcEvents}}else C(17,!0,c,{missingModuleFor:y});if(v.forEach((function(e){l[e]=v[e]})),l.init(c,e),b&&this.points)for(let m of(!1===(o=l.options).visible?(g.graphic=1,g.dataLabel=1):(this.hasMarkerChanged(o,h)&&(g.graphic=1),(null===(x=l.hasDataLabels)||void 0===x?void 0:x.call(l))||(g.dataLabel=1)),this.points)){var x;m&&m.series&&(m.resolveColor(),Object.keys(g).length&&m.destroyElements(g),!1===o.showInLegend&&m.legendItem&&c.legend.destroyItem(m))}l.initialType=u,c.linkSeries(),c.setSortedData(),w&&l.linkedSeries.length&&(l.isDirtyData=!0),A(this,"afterUpdate"),F(t,!0)&&c.redraw(!!b&&void 0)}setName(e){this.name=this.options.name=this.userOptions.name=e,this.chart.isDirtyLegend=!0}hasOptionChanged(e){var t,n;let i=this.chart,r=this.options[e],s=i.options.plotOptions,o=this.userOptions[e],a=F(null===s||void 0===s||null===(t=s[this.type])||void 0===t?void 0:t[e],null===s||void 0===s||null===(n=s.series)||void 0===n?void 0:n[e]);return o&&!S(a)?r!==o:r!==F(a,r)}onMouseOver(){let e=this.chart,t=e.hoverSeries,n=e.pointer;null!==n&&void 0!==n&&n.setHoverChartIndex(),t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&A(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this}onMouseOut(){let e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;t.hoverSeries=null,i&&i.onMouseOut(),this&&e.events.mouseOut&&A(this,"mouseOut"),n&&!this.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),t.series.forEach((function(e){e.setState("",!0)}))}setState(e,t){let n=this,i=n.options,r=n.graph,s=i.inactiveOtherPoints,o=i.states,a=F(o[e||"normal"]&&o[e||"normal"].animation,n.chart.options.chart.animation),l=i.lineWidth,c=i.opacity;if(e=e||"",n.state!==e&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach((function(t){t&&(n.state&&t.removeClass("highcharts-series-"+n.state),e&&t.addClass("highcharts-series-"+e))})),n.state=e,!n.chart.styledMode)){if(o[e]&&!1===o[e].enabled)return;if(e&&(l=o[e].lineWidth||l+(o[e].lineWidthPlus||0),c=F(o[e].opacity,c)),r&&!r.dashstyle&&L(l))for(let e of[r,...this.zones.map((e=>e.graph))])null===e||void 0===e||e.animate({"stroke-width":l},a);s||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach((function(e){e&&e.animate({opacity:c},a)}))}t&&s&&n.points&&n.setAllPointsToState(e||void 0)}setAllPointsToState(e){this.points.forEach((function(t){t.setState&&t.setState(e)}))}setVisible(e,t){var n;let i=this,r=i.chart,s=r.options.chart.ignoreHiddenSeries,o=i.visible;i.visible=e=i.options.visible=i.userOptions.visible=void 0===e?!o:e;let a=e?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((e=>{var t;null===(t=i[e])||void 0===t||t[a]()})),(r.hoverSeries===i||(null===(n=r.hoverPoint)||void 0===n?void 0:n.series)===i)&&i.onMouseOut(),i.legendItem&&r.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&r.series.forEach((e=>{e.options.stacking&&e.visible&&(e.isDirty=!0)})),i.linkedSeries.forEach((t=>{t.setVisible(e,!1)})),s&&(r.isDirtyBox=!0),A(i,a),!1!==t&&r.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(e){this.selected=e=this.options.selected=void 0===e?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),A(this,e?"select":"unselect")}shouldShowTooltip(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.series=this,n.visiblePlotOnly=!0,this.chart.isInsidePlot(e,t,n)}drawLegendSymbol(e,t){var n;null===(n=r[this.options.legendSymbol||"rectangle"])||void 0===n||n.call(this,e,t)}}return V.defaultOptions=o,V.types=a.seriesTypes,V.registerType=a.registerSeriesType,E(V.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:s,requireSorting:!0,sorted:!0}),a.series=V,V})),n(t,"Core/Legend/Legend.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/Point.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r,s,o,a){var l;let{animObject:c,setAnimation:h}=e,{registerEventOptions:u}=t,{composed:d,marginNames:p}=n,{distribute:f}=s,{format:g}=o,{addEvent:m,createElement:v,css:y,defined:b,discardElement:w,find:x,fireEvent:S,isNumber:k,merge:_,pick:T,pushUnique:C,relativeLength:E,stableSort:I,syncTimeout:A}=a;class P{constructor(e,t){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=e,this.setOptions(t),t.enabled&&(this.render(),u(this,t),m(this.chart,"endResize",(function(){this.legend.positionCheckboxes()}))),m(this.chart,"render",(()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())}))}setOptions(e){let t=T(e.padding,8);this.options=e,this.chart.styledMode||(this.itemStyle=e.itemStyle,this.itemHiddenStyle=_(this.itemStyle,e.itemHiddenStyle)),this.itemMarginTop=e.itemMarginTop,this.itemMarginBottom=e.itemMarginBottom,this.padding=t,this.initialItemY=t-5,this.symbolWidth=T(e.symbolWidth,16),this.pages=[],this.proximate="proximate"===e.layout&&!this.chart.inverted,this.baseline=void 0}update(e,t){let n=this.chart;this.setOptions(_(!0,this.options,e)),"events"in this.options&&u(this,this.options),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,T(t,!0)&&n.redraw(),S(this,"afterUpdate",{redraw:t})}colorizeItem(e,t){let{area:n,group:i,label:r,line:s,symbol:o}=e.legendItem||{};if(null!==i&&void 0!==i&&i[t?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:i={}}=this,a=i.color,{fillColor:l,fillOpacity:c,lineColor:h,marker:u}=e.options,d=e=>(!t&&(e.fill&&(e.fill=a),e.stroke&&(e.stroke=a)),e);null!==r&&void 0!==r&&r.css(_(t?this.itemStyle:i)),null!==s&&void 0!==s&&s.attr(d({stroke:h||e.color})),o&&o.attr(d(u&&o.isMarker?e.pointAttribs():{fill:e.color})),null===n||void 0===n||n.attr(d({fill:l||e.color,"fill-opacity":l?1:null!==c&&void 0!==c?c:.75}))}S(this,"afterColorizeItem",{item:e,visible:t})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(e){let{group:t,x:n=0,y:i=0}=e.legendItem||{},r=this.options,s=r.symbolPadding,o=!r.rtl,a=e.checkbox;if(t&&t.element){let r={translateX:o?n:this.legendWidth-n-2*s-4,translateY:i};t[b(t.translateY)?"animate":"attr"](r,void 0,(()=>{S(this,"afterPositionItem",{item:e})}))}a&&(a.x=n,a.y=i)}destroyItem(e){let t=e.checkbox,n=e.legendItem||{};for(let i of["group","label","line","symbol"])n[i]&&(n[i]=n[i].destroy());t&&w(t),e.legendItem=void 0}destroy(){for(let e of this.getAllItems())this.destroyItem(e);for(let e of["clipRect","up","down","pager","nav","box","title","group"])this[e]&&(this[e]=this[e].destroy());this.display=null}positionCheckboxes(){let e,t=this.group&&this.group.alignAttr,n=this.clipHeight||this.legendHeight,i=this.titleHeight;t&&(e=t.translateY,this.allItems.forEach((function(r){let s,o=r.checkbox;o&&(s=e+i+o.y+(this.scrollOffset||0)+3,y(o,{left:t.translateX+r.checkboxOffset+o.x-20+"px",top:s+"px",display:this.proximate||s>e-6&&s<e+n-6?"":"none"}))}),this))}renderTitle(){let e,t=this.options,n=this.padding,i=t.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,n-3,n-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),r=(e=this.title.getBBox()).height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r}setText(e){let t=this.options;e.legendItem.label.attr({text:t.labelFormat?g(t.labelFormat,e,this.chart):t.labelFormatter.call(e)})}renderItem(e){let t=e.legendItem=e.legendItem||{},n=this.chart,i=n.renderer,r=this.options,s="horizontal"===r.layout,o=this.symbolWidth,a=r.symbolPadding||0,l=this.itemStyle,c=this.itemHiddenStyle,h=s?T(r.itemDistance,20):0,u=!r.rtl,d=!e.series,p=!d&&e.series.drawLegendSymbol?e.series:e,f=p.options,g=!!this.createCheckboxForItem&&f&&f.showCheckbox,m=r.useHTML,v=e.options.className,y=t.label,b=o+a+h+(g?20:0);!y&&(t.group=i.g("legend-item").addClass("highcharts-"+p.type+"-series highcharts-color-"+e.colorIndex+(v?" "+v:"")+(d?" highcharts-series-"+e.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.label=y=i.text("",u?o+a:-a,this.baseline||0,m),n.styledMode||y.css(_(e.visible?l:c)),y.attr({align:u?"left":"right",zIndex:2}).add(t.group),!this.baseline&&(this.fontMetrics=i.fontMetrics(y),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,y.attr("y",this.baseline),this.symbolHeight=T(r.symbolHeight,this.fontMetrics.f),r.squareSymbol&&(this.symbolWidth=T(r.symbolWidth,Math.max(this.symbolHeight,16)),b=this.symbolWidth+a+h+(g?20:0),u&&y.attr("x",this.symbolWidth+a))),p.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,y,m)),g&&!e.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(e),this.colorizeItem(e,e.visible),(n.styledMode||!l.width)&&y.css({width:(r.itemWidth||this.widthOption||n.spacingBox.width)-b+"px"}),this.setText(e);let w=y.getBBox(),x=this.fontMetrics&&this.fontMetrics.h||0;e.itemWidth=e.checkboxOffset=r.itemWidth||t.labelWidth||w.width+b,this.maxItemWidth=Math.max(this.maxItemWidth,e.itemWidth),this.totalItemWidth+=e.itemWidth,this.itemHeight=e.itemHeight=Math.round(t.labelHeight||(w.height>1.5*x?w.height:x))}layoutItem(e){let t=this.options,n=this.padding,i="horizontal"===t.layout,r=e.itemHeight,s=this.itemMarginBottom,o=this.itemMarginTop,a=i?T(t.itemDistance,20):0,l=this.maxLegendWidth,c=t.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:e.itemWidth,h=e.legendItem||{};i&&this.itemX-n+c>l&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=o+this.lastLineHeight+s),this.lastLineHeight=0),this.lastItemY=o+this.itemY+s,this.lastLineHeight=Math.max(r,this.lastLineHeight),h.x=this.itemX,h.y=this.itemY,i?this.itemX+=c:(this.itemY+=o+r+s,this.lastLineHeight=r),this.offsetWidth=this.widthOption||Math.max((i?this.itemX-n-(e.checkbox?0:a):c)+n,this.offsetWidth)}getAllItems(){let e=[];return this.chart.series.forEach((function(t){let n=t&&t.options;t&&T(n.showInLegend,!b(n.linkedTo)&&void 0,!0)&&(e=e.concat((t.legendItem||{}).labels||("point"===n.legendType?t.data:t)))})),S(this,"afterGetAllItems",{allItems:e}),e}getAlignment(){let e=this.options;return this.proximate?e.align.charAt(0)+"tv":e.floating?"":e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0)}adjustMargins(e,t){let n=this.chart,i=this.options,r=this.getAlignment();r&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(s,o){s.test(r)&&!b(e[o])&&(n[p[o]]=Math.max(n[p[o]],n.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*i[o%2?"x":"y"]+T(i.margin,12)+t[o]+(n.titleOffset[o]||0)))}))}proximatePositions(){let e,t=this.chart,n=[],i="left"===this.options.align;for(let r of(this.allItems.forEach((function(e){let r,s,o,a,l=i;e.yAxis&&(e.xAxis.options.reversed&&(l=!l),e.points&&(r=x(l?e.points:e.points.slice(0).reverse(),(function(e){return k(e.plotY)}))),s=this.itemMarginTop+e.legendItem.label.getBBox().height+this.itemMarginBottom,a=e.yAxis.top-t.plotTop,o=e.visible?(r?r.plotY:e.yAxis.height)+(a-.3*s):a+e.yAxis.height,n.push({target:o,size:s,item:e}))}),this),f(n,t.plotHeight)))e=r.item.legendItem||{},k(r.pos)&&(e.y=t.plotTop-t.spacing[0]+r.pos)}render(){let e,t,n,i,r=this.chart,s=r.renderer,o=this.options,a=this.padding,l=this.getAllItems(),c=this.group,h=this.box;this.itemX=a,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=E(o.width,r.spacingBox.width-a),i=r.spacingBox.width-2*a-o.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(i/=2),this.maxLegendWidth=this.widthOption||i,c||(this.group=c=s.g("legend").addClass(o.className||"").attr({zIndex:7}).add(),this.contentGroup=s.g().attr({zIndex:1}).add(c),this.scrollGroup=s.g().add(this.contentGroup)),this.renderTitle(),I(l,((e,t)=>(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0))),o.reversed&&l.reverse(),this.allItems=l,this.display=e=!!l.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,l.forEach(this.renderItem,this),l.forEach(this.layoutItem,this),t=(this.widthOption||this.offsetWidth)+a,n=this.lastItemY+this.lastLineHeight+this.titleHeight,n=this.handleOverflow(n)+a,h||(this.box=h=s.rect().addClass("highcharts-legend-box").attr({r:o.borderRadius}).add(c)),r.styledMode||h.attr({stroke:o.borderColor,"stroke-width":o.borderWidth||0,fill:o.backgroundColor||"none"}).shadow(o.shadow),t>0&&n>0&&h[h.placed?"animate":"attr"](h.crisp.call({},{x:0,y:0,width:t,height:n},h.strokeWidth())),c[e?"show":"hide"](),r.styledMode&&"none"===c.getStyle("display")&&(t=n=0),this.legendWidth=t,this.legendHeight=n,e&&this.align(),this.proximate||this.positionItems(),S(this,"afterRender")}align(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.spacingBox,t=this.chart,n=this.options,i=e.y;/(lth|ct|rth)/.test(this.getAlignment())&&t.titleOffset[0]>0?i+=t.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&t.titleOffset[2]>0&&(i-=t.titleOffset[2]),i!==e.y&&(e=_(e,{y:i})),t.hasRendered||(this.group.placed=!1),this.group.align(_(n,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":n.verticalAlign}),!0,e)}handleOverflow(e){let t,n,i,r=this,s=this.chart,o=s.renderer,a=this.options,l=a.y,c="top"===a.verticalAlign,h=this.padding,u=a.maxHeight,d=a.navigation,p=T(d.animation,!0),f=d.arrowSize||12,g=this.pages,m=this.allItems,v=function(e){"number"==typeof e?x.attr({height:e}):x&&(r.clipRect=x.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=e?"rect("+h+"px,9999px,"+(h+e)+"px,0)":"auto")},y=function(e){return r[e]=o.circle(0,0,1.3*f).translate(f/2,f/2).add(w),s.styledMode||r[e].attr("fill","rgba(0,0,0,0.0001)"),r[e]},b=s.spacingBox.height+(c?-l:l)-h,w=this.nav,x=this.clipRect;return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(b/=2),u&&(b=Math.min(b,u)),g.length=0,e&&b>0&&e>b&&!1!==d.enabled?(this.clipHeight=t=Math.max(b-20-this.titleHeight-h,0),this.currentPage=T(this.currentPage,1),this.fullHeight=e,m.forEach(((e,r)=>{let s=(i=e.legendItem||{}).y||0,o=Math.round(i.label.getBBox().height),a=g.length;(!a||s-g[a-1]>t&&(n||s)!==g[a-1])&&(g.push(n||s),a++),i.pageIx=a-1,n&&((m[r-1].legendItem||{}).pageIx=a-1),r===m.length-1&&s+o-g[a-1]>t&&s>g[a-1]&&(g.push(s),i.pageIx=a),s!==n&&(n=s)})),x||(x=r.clipRect=o.clipRect(0,h-2,9999,0),r.contentGroup.clip(x)),v(t),w||(this.nav=w=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,f,f).add(w),y("upTracker").on("click",(function(){r.scroll(-1,p)})),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation"),!s.styledMode&&d.style&&this.pager.css(d.style),this.pager.add(w),this.down=o.symbol("triangle-down",0,0,f,f).add(w),y("downTracker").on("click",(function(){r.scroll(1,p)}))),r.scroll(0),e=b):w&&(v(),this.nav=w.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e}scroll(e,t){let n=this.chart,i=this.pages,r=i.length,s=this.clipHeight,o=this.options.navigation,a=this.pager,l=this.padding,u=this.currentPage+e;u>r&&(u=r),u>0&&(void 0!==t&&h(t,n),this.nav.attr({translateX:l,translateY:s+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach((function(e){e.attr({class:1===u?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),a.attr({text:u+"/"+r}),[this.down,this.downTracker].forEach((function(e){e.attr({x:18+this.pager.getBBox().width,class:u===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),n.styledMode||(this.up.attr({fill:1===u?o.inactiveColor:o.activeColor}),this.upTracker.css({cursor:1===u?"default":"pointer"}),this.down.attr({fill:u===r?o.inactiveColor:o.activeColor}),this.downTracker.css({cursor:u===r?"default":"pointer"})),this.scrollOffset=-i[u-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=u,this.positionCheckboxes(),A((()=>{S(this,"afterScroll",{currentPage:u})}),c(T(t,n.renderer.globalAnimation,!0)).duration))}setItemEvents(e,t,n){let s=this,o=e.legendItem||{},a=s.chart.renderer.boxWrapper,l=e instanceof r,c=e instanceof i,h="highcharts-legend-"+(l?"point":"series")+"-active",u=s.chart.styledMode,d=n?[t,o.symbol]:[o.group],p=t=>{s.allItems.forEach((n=>{e!==n&&[n].concat(n.linkedSeries||[]).forEach((e=>{e.setState(t,!l)}))}))};for(let i of d)i&&i.on("mouseover",(function(){e.visible&&p("inactive"),e.setState("hover"),e.visible&&a.addClass(h),u||t.css(s.options.itemHoverStyle)})).on("mouseout",(function(){s.chart.styledMode||t.css(_(e.visible?s.itemStyle:s.itemHiddenStyle)),p(""),a.removeClass(h),e.setState()})).on("click",(function(t){a.removeClass(h),S(s,"itemClick",{browserEvent:t,legendItem:e},(function(){e.setVisible&&e.setVisible(),p(e.visible?"inactive":"")})),l?e.firePointEvent("legendItemClick",{browserEvent:t}):c&&S(e,"legendItemClick",{browserEvent:t})}))}createCheckboxForItem(e){e.checkbox=v("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),m(e.checkbox,"click",(function(t){let n=t.target;S(e.series||e,"checkboxClick",{checked:n.checked,item:e},(function(){e.select()}))}))}}return(l=P||(P={})).compose=function(e){C(d,"Core.Legend")&&m(e,"beforeMargins",(function(){this.legend=new l(this,this.options.legend)}))},P})),n(t,"Core/Chart/Chart.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Templating.js"],t["Core/Foundation.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Time.js"],t["Core/Utilities.js"],t["Core/Renderer/HTML/AST.js"],t["Core/Axis/Tick.js"]],(function(e,t,n,i,r,s,o,a,l,c,h,u,d,p){let{animate:f,animObject:g,setAnimation:m}=e,{defaultOptions:v,defaultTime:y}=n,{numberFormat:b}=i,{registerEventOptions:w}=r,{charts:x,doc:S,marginNames:k,svg:_,win:T}=s,{seriesTypes:C}=l,{addEvent:E,attr:I,createElement:A,css:P,defined:N,diffObjects:M,discardElement:O,erase:L,error:D,extend:R,find:j,fireEvent:F,getStyle:U,isArray:B,isNumber:z,isObject:V,isString:G,merge:H,objectEach:W,pick:q,pInt:X,relativeLength:Y,removeEvent:K,splat:Q,syncTimeout:J,uniqueKey:$}=u;class Z{static chart(e,t,n){return new Z(e,t,n)}constructor(e,t,n){this.sharedClips={};let i=[...arguments];(G(e)||e.nodeName)&&(this.renderTo=i.shift()),this.init(i[0],i[1])}setZoomOptions(){let e=this.options.chart,t=e.zooming;this.zooming={...t,type:q(e.zoomType,t.type),key:q(e.zoomKey,t.key),pinchType:q(e.pinchType,t.pinchType),singleTouch:q(e.zoomBySingleTouch,t.singleTouch,!1),resetButton:H(t.resetButton,e.resetZoomButton)}}init(e,t){F(this,"init",{args:arguments},(function(){let n=H(v,e),i=n.chart;this.userOptions=R({},e),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.time=e.time&&Object.keys(e.time).length?new h(e.time):s.time,this.numberFormatter=i.numberFormatter||b,this.styledMode=i.styledMode,this.hasCartesianSeries=i.showAxes,this.index=x.length,x.push(this),s.chartCount++,w(this,i),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),F(this,"afterInit"),this.firstRender()}))}initSeries(e){let t=this.options.chart,n=e.type||t.type,i=C[n];i||D(17,!0,this,{missingModuleFor:n});let r=new i;return"function"==typeof r.init&&r.init(this,e),r}setSortedData(){this.getSeriesOrderByLinks().forEach((function(e){e.points||e.data||!e.enabledDataSorting||e.setData(e.options.data,!1)}))}getSeriesOrderByLinks(){return this.series.concat().sort((function(e,t){return e.linkedSeries.length||t.linkedSeries.length?t.linkedSeries.length-e.linkedSeries.length:0}))}orderItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this[e],i=this.options[e]=Q(this.options[e]).slice(),r=this.userOptions[e]=this.userOptions[e]?Q(this.userOptions[e]).slice():[];if(this.hasRendered&&(i.splice(t),r.splice(t)),n)for(let s=t,o=n.length;s<o;++s){let e=n[s];e&&(e.index=s,e instanceof a&&(e.name=e.getName()),e.options.isInternal||(i[s]=e.options,r[s]=e.userOptions))}}isInsidePlot(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{inverted:r,plotBox:s,plotLeft:o,plotTop:a,scrollablePlotBox:l}=this,{scrollLeft:c=0,scrollTop:h=0}=i.visiblePlotOnly&&(null===(n=this.scrollablePlotArea)||void 0===n?void 0:n.scrollingContainer)||{},u=i.series,d=i.visiblePlotOnly&&l||s,p=i.inverted?t:e,f=i.inverted?e:t,g={x:p,y:f,isInsidePlot:!0,options:i};if(!i.ignoreX){let e=u&&(r&&!this.polar?u.yAxis:u.xAxis)||{pos:o,len:1/0},t=i.paneCoordinates?e.pos+p:o+p;t>=Math.max(c+o,e.pos)&&t<=Math.min(c+o+d.width,e.pos+e.len)||(g.isInsidePlot=!1)}if(!i.ignoreY&&g.isInsidePlot){let e=!r&&i.axis&&!i.axis.isXAxis&&i.axis||u&&(r?u.xAxis:u.yAxis)||{pos:a,len:1/0},t=i.paneCoordinates?e.pos+f:a+f;t>=Math.max(h+a,e.pos)&&t<=Math.min(h+a+d.height,e.pos+e.len)||(g.isInsidePlot=!1)}return F(this,"afterIsInsidePlot",g),g.isInsidePlot}redraw(e){F(this,"beforeRedraw");let t,n,i,r,s=this.hasCartesianSeries?this.axes:this.colorAxis||[],o=this.series,a=this.pointer,l=this.legend,c=this.userOptions.legend,h=this.renderer,u=h.isHidden(),d=[],p=this.isDirtyBox,f=this.isDirtyLegend;for(h.rootFontSize=h.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),m(!!this.hasRendered&&e,this),u&&this.temporaryDisplay(),this.layOutTitles(!1),i=o.length;i--;)if(((r=o[i]).options.stacking||r.options.centerInCategory)&&(n=!0,r.isDirty)){t=!0;break}if(t)for(i=o.length;i--;)(r=o[i]).options.stacking&&(r.isDirty=!0);o.forEach((function(e){e.isDirty&&("point"===e.options.legendType?("function"==typeof e.updateTotals&&e.updateTotals(),f=!0):c&&(c.labelFormatter||c.labelFormat)&&(f=!0)),e.isDirtyData&&F(e,"updatedData")})),f&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),s.forEach((function(e){e.updateNames(),e.setScale()})),this.getMargins(),s.forEach((function(e){e.isDirty&&(p=!0)})),s.forEach((function(e){let t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,d.push((function(){F(e,"afterSetExtremes",R(e.eventArgs,e.getExtremes())),delete e.eventArgs}))),(p||n)&&e.redraw()})),p&&this.drawChartBox(),F(this,"predraw"),o.forEach((function(e){(p||e.isDirty)&&e.visible&&e.redraw(),e.isDirtyData=!1})),a&&a.reset(!0),h.draw(),F(this,"redraw"),F(this,"render"),u&&this.temporaryDisplay(!0),d.forEach((function(e){e.call()}))}get(e){let t=this.series;function n(t){return t.id===e||t.options&&t.options.id===e}let i=j(this.axes,n)||j(this.series,n);for(let r=0;!i&&r<t.length;r++)i=j(t[r].points||[],n);return i}getAxes(){let e=this.userOptions;for(let n of(F(this,"getAxes"),["xAxis","yAxis"]))for(let i of e[n]=Q(e[n]||{}))new t(this,i,n);F(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce(((e,t)=>(t.getPointsCollection().forEach((t=>{q(t.selectedStaging,t.selected)&&e.push(t)})),e)),[])}getSelectedSeries(){return this.series.filter((function(e){return e.selected}))}setTitle(e,t,n){this.applyDescription("title",e),this.applyDescription("subtitle",t),this.applyDescription("caption",void 0),this.layOutTitles(n)}applyDescription(e,t){let n=this,i=this.options[e]=H(this.options[e],t),r=this[e];r&&t&&(this[e]=r=r.destroy()),i&&!r&&((r=this.renderer.text(i.text,0,0,i.useHTML).attr({align:i.align,class:"highcharts-"+e,zIndex:i.zIndex||4}).add()).update=function(t,i){n.applyDescription(e,t),n.layOutTitles(i)},this.styledMode||r.css(R("title"===e?{fontSize:this.options.isStock?"1em":"1.2em"}:{},i.style)),this[e]=r)}layOutTitles(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=[0,0,0],n=this.renderer,i=this.spacingBox;["title","subtitle","caption"].forEach((function(e){let r=this[e],s=this.options[e],o=s.verticalAlign||"top",a="title"===e?"top"===o?-3:0:"top"===o?t[0]+2:0;if(r){r.css({width:(s.width||i.width+(s.widthAdjust||0))+"px"});let e=n.fontMetrics(r).b,l=Math.round(r.getBBox(s.useHTML).height);r.align(R({y:"bottom"===o?e:a+e,height:l},s),!1,"spacingBox"),s.floating||("top"===o?t[0]=Math.ceil(t[0]+l):"bottom"===o&&(t[2]=Math.ceil(t[2]+l)))}}),this),t[0]&&"top"===(this.options.title.verticalAlign||"top")&&(t[0]+=this.options.title.margin),t[2]&&"bottom"===this.options.caption.verticalAlign&&(t[2]+=this.options.caption.margin);let r=!this.titleOffset||this.titleOffset.join(",")!==t.join(",");this.titleOffset=t,F(this,"afterLayOutTitles"),!this.isDirtyBox&&r&&(this.isDirtyBox=this.isDirtyLegend=r,this.hasRendered&&e&&this.isDirtyBox&&this.redraw())}getContainerBox(){let e=[].map.call(this.renderTo.children,(e=>{if(e!==this.container){let t=e.style.display;return e.style.display="none",[e,t]}})),t={width:U(this.renderTo,"width",!0)||0,height:U(this.renderTo,"height",!0)||0};return e.filter(Boolean).forEach((e=>{let[t,n]=e;t.style.display=n})),t}getChartSize(){var e;let t=this.options.chart,n=t.width,i=t.height,r=this.getContainerBox(),s=r.height>1&&!((null===(e=this.renderTo.parentElement)||void 0===e||!e.style.height)&&"100%"===this.renderTo.style.height);this.chartWidth=Math.max(0,n||r.width||600),this.chartHeight=Math.max(0,Y(i,this.chartWidth)||(s?r.height:400)),this.containerBox=r}temporaryDisplay(e){let t,n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(P(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(S.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(S.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,S.body.appendChild(n)),("none"===U(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},t={display:"block",overflow:"hidden"},n!==this.renderTo&&(t.height=0),P(n,t),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==S.body););}setClassName(e){this.container.className="highcharts-container "+(e||"")}getContainer(){var e;let t,n=this.options,i=n.chart,r="data-highcharts-chart",s=$(),a=this.renderTo;a||(this.renderTo=a=i.renderTo),G(a)&&(this.renderTo=a=S.getElementById(a)),a||D(13,!0,this);let l=X(I(a,r));z(l)&&x[l]&&x[l].hasRendered&&x[l].destroy(),I(a,r,this.index),a.innerHTML=d.emptyHTML,i.skipClone||a.offsetWidth||this.temporaryDisplay(),this.getChartSize();let h=this.chartHeight,u=this.chartWidth;P(a,{overflow:"hidden"}),this.styledMode||(t=R({position:"relative",overflow:"hidden",width:u+"px",height:h+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},i.style||{}));let p=A("div",{id:s},t,a);this.container=p,this.getChartSize(),u===this.chartWidth||(u=this.chartWidth,this.styledMode||P(p,{width:q(null===(e=i.style)||void 0===e?void 0:e.width,u+"px")})),this.containerBox=this.getContainerBox(),this._cursor=p.style.cursor;let f=i.renderer||!_?o.getRendererType(i.renderer):c;if(this.renderer=new f(p,u,h,void 0,i.forExport,n.exporting&&n.exporting.allowHTML,this.styledMode),m(void 0,this),this.setClassName(i.className),this.styledMode)for(let o in n.defs)this.renderer.definition(n.defs[o]);else this.renderer.setStyle(i.style);this.renderer.chartIndex=this.index,F(this,"afterGetContainer")}getMargins(e){let{spacing:t,margin:n,titleOffset:i}=this;this.resetMargins(),i[0]&&!N(n[0])&&(this.plotTop=Math.max(this.plotTop,i[0]+t[0])),i[2]&&!N(n[2])&&(this.marginBottom=Math.max(this.marginBottom,i[2]+t[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,t),F(this,"getMargins"),e||this.getAxisMargins()}getAxisMargins(){let e=this,t=e.axisOffset=[0,0,0,0],n=e.colorAxis,i=e.margin,r=function(e){e.forEach((function(e){e.visible&&e.getOffset()}))};e.hasCartesianSeries?r(e.axes):n&&n.length&&r(n),k.forEach((function(n,r){N(i[r])||(e[n]+=t[r])})),e.setChartSize()}getOptions(){return M(this.userOptions,v)}reflow(e){var t;let n=this,i=n.containerBox,r=n.getContainerBox();null===(t=n.pointer)||void 0===t||delete t.chartPosition,!n.isPrinting&&!n.isResizing&&i&&r.width&&((r.width!==i.width||r.height!==i.height)&&(u.clearTimeout(n.reflowTimeout),n.reflowTimeout=J((function(){n.container&&n.setSize(void 0,void 0,!1)}),e?100:0)),n.containerBox=r)}setReflow(){let e=this,t=t=>{var n;(null===(n=e.options)||void 0===n?void 0:n.chart.reflow)&&e.hasLoaded&&e.reflow(t)};if("function"==typeof ResizeObserver)new ResizeObserver(t).observe(e.renderTo);else{let e=E(T,"resize",t);E(this,"destroy",e)}}setSize(e,t,n){let i=this,r=i.renderer;i.isResizing+=1,m(n,i);let s=r.globalAnimation;i.oldChartHeight=i.chartHeight,i.oldChartWidth=i.chartWidth,void 0!==e&&(i.options.chart.width=e),void 0!==t&&(i.options.chart.height=t),i.getChartSize();let{chartWidth:o,chartHeight:a,scrollablePixelsX:l=0,scrollablePixelsY:c=0}=i;(i.isDirtyBox||o!==i.oldChartWidth||a!==i.oldChartHeight)&&(i.styledMode||(s?f:P)(i.container,{width:"".concat(o+l,"px"),height:"".concat(a+c,"px")},s),i.setChartSize(!0),r.setSize(o,a,s),i.axes.forEach((function(e){e.isDirty=!0,e.setScale()})),i.isDirtyLegend=!0,i.isDirtyBox=!0,i.layOutTitles(),i.getMargins(),i.redraw(s),i.oldChartHeight=void 0,F(i,"resize"),setTimeout((()=>{i&&F(i,"endResize")}),g(s).duration)),i.isResizing-=1}setChartSize(e){let t,n,i,r,{chartHeight:s,chartWidth:o,inverted:a,spacing:l,renderer:c}=this,h=this.clipOffset,u=Math[a?"floor":"round"];this.plotLeft=t=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(o-t-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(s-n-this.marginBottom)),this.plotSizeX=a?r:i,this.plotSizeY=a?i:r,this.spacingBox=c.spacingBox={x:l[3],y:l[0],width:o-l[3]-l[1],height:s-l[0]-l[2]},this.plotBox=c.plotBox={x:t,y:n,width:i,height:r},h&&(this.clipBox={x:u(h[3]),y:u(h[0]),width:u(this.plotSizeX-h[1]-h[3]),height:u(this.plotSizeY-h[0]-h[2])}),e||(this.axes.forEach((function(e){e.setAxisSize(),e.setAxisTranslation()})),c.alignElements()),F(this,"afterSetChartSize",{skipAxes:e})}resetMargins(){F(this,"resetMargins");let e=this,t=e.options.chart,n=t.plotBorderWidth||0,i=n/2;["margin","spacing"].forEach((function(n){let i=t[n],r=V(i)?i:[i,i,i,i];["Top","Right","Bottom","Left"].forEach((function(i,s){e[n][s]=q(t[n+i],r[s])}))})),k.forEach((function(t,n){e[t]=q(e.margin[n],e.spacing[n])})),e.axisOffset=[0,0,0,0],e.clipOffset=[i,i,i,i],e.plotBorderWidth=n}drawChartBox(){let e,t,n,i=this.options.chart,r=this.renderer,s=this.chartWidth,o=this.chartHeight,a=this.styledMode,l=this.plotBGImage,c=i.backgroundColor,h=i.plotBackgroundColor,u=i.plotBackgroundImage,d=this.plotLeft,p=this.plotTop,f=this.plotWidth,g=this.plotHeight,m=this.plotBox,v=this.clipRect,y=this.clipBox,b=this.chartBackground,w=this.plotBackground,x=this.plotBorder,S="animate";b||(this.chartBackground=b=r.rect().addClass("highcharts-background").add(),S="attr"),a?e=t=b.strokeWidth():(t=(e=i.borderWidth||0)+(i.shadow?8:0),n={fill:c||"none"},(e||b["stroke-width"])&&(n.stroke=i.borderColor,n["stroke-width"]=e),b.attr(n).shadow(i.shadow)),b[S]({x:t/2,y:t/2,width:s-t-e%2,height:o-t-e%2,r:i.borderRadius}),S="animate",w||(S="attr",this.plotBackground=w=r.rect().addClass("highcharts-plot-background").add()),w[S](m),!a&&(w.attr({fill:h||"none"}).shadow(i.plotShadow),u&&(l?(u!==l.attr("href")&&l.attr("href",u),l.animate(m)):this.plotBGImage=r.image(u,d,p,f,g).add())),v?v.animate({width:y.width,height:y.height}):this.clipRect=r.clipRect(y),S="animate",x||(S="attr",this.plotBorder=x=r.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),a||x.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),x[S](x.crisp({x:d,y:p,width:f,height:g},-x.strokeWidth())),this.isDirtyBox=!1,F(this,"afterDrawChartBox")}propFromSeries(){let e,t,n,i=this,r=i.options.chart,s=i.options.series;["inverted","angular","polar"].forEach((function(o){for(t=C[r.type],n=r[o]||t&&t.prototype[o],e=s&&s.length;!n&&e--;)(t=C[s[e].type])&&t.prototype[o]&&(n=!0);i[o]=n}))}linkSeries(e){let t=this,n=t.series;n.forEach((function(e){e.linkedSeries.length=0})),n.forEach((function(e){let{linkedTo:n}=e.options;if(G(n)){let i;(i=":previous"===n?t.series[e.index-1]:t.get(n))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,i.enabledDataSorting&&e.setDataSortingOptions(),e.visible=q(e.options.visible,i.options.visible,e.visible))}})),F(this,"afterLinkSeries",{isUpdating:e})}renderSeries(){this.series.forEach((function(e){e.translate(),e.render()}))}render(){let e,t=this.axes,n=this.colorAxis,i=this.renderer,r=this.options.chart.axisLayoutRuns||2,s=e=>{e.forEach((e=>{e.visible&&e.render()}))},o=0,a=!0,l=0;for(let h of(this.setTitle(),F(this,"beforeMargins"),null!==(c=this.getStacks)&&void 0!==c&&c.call(this),this.getMargins(!0),this.setChartSize(),t)){var c;let{options:e}=h,{labels:t}=e;if(this.hasCartesianSeries&&h.horiz&&h.visible&&t.enabled&&h.series.length&&"colorAxis"!==h.coll&&!this.polar){o=e.tickLength,h.createGroups();let n=new p(h,0,"",!0),i=n.createLabel("x",t);if(n.destroy(),i&&q(t.reserveSpace,!z(e.crossing))&&(o=i.getBBox().height+t.distance+Math.max(e.offset||0,0)),o){null===i||void 0===i||i.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-o,0);(a||e||r>1)&&l<r;){let n=this.plotWidth,i=this.plotHeight;for(let r of t)0===l?r.setScale():(r.horiz&&a||!r.horiz&&e)&&r.setTickInterval(!0);0===l?this.getAxisMargins():this.getMargins(),a=n/this.plotWidth>(l?1:1.1),e=i/this.plotHeight>(l?1:1.05),l++}this.drawChartBox(),this.hasCartesianSeries?s(t):n&&n.length&&s(n),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(e){let t=this,n=H(!0,this.options.credits,e);n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){n.href&&(T.location.href=n.href)})).attr({align:n.position.align,zIndex:8}),t.styledMode||this.credits.css(n.style),this.credits.add().align(n.position),this.credits.update=function(e){t.credits=t.credits.destroy(),t.addCredits(e)})}destroy(){let e,t=this,n=t.axes,i=t.series,r=t.container,o=r&&r.parentNode;for(F(t,"destroy"),t.renderer.forExport?L(x,t):x[t.index]=void 0,s.chartCount--,t.renderTo.removeAttribute("data-highcharts-chart"),K(t),e=n.length;e--;)n[e]=n[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=i.length;e--;)i[e]=i[e].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach((function(e){let n=t[e];n&&n.destroy&&(t[e]=n.destroy())})),r&&(r.innerHTML=d.emptyHTML,K(r),o&&O(r)),W(t,(function(e,n){delete t[n]}))}firstRender(){var e;let t=this,n=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes();let i=B(n.series)?n.series:[];n.series=[],i.forEach((function(e){t.initSeries(e)})),t.linkSeries(),t.setSortedData(),F(t,"beforeRender"),t.render(),null!==(e=t.pointer)&&void 0!==e&&e.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach((function(e){e&&void 0!==this.index&&e.apply(this,[this])}),this),F(this,"load"),F(this,"render"),N(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:e,title:t}=this;!e||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(t&&t.element.textContent||"").replace(/</g,"&lt;")}),e.accessibility&&!1===e.accessibility.enabled||D('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(e,t,n){let i,r=this;return e&&(t=q(t,!0),F(r,"addSeries",{options:e},(function(){i=r.initSeries(e),r.isDirtyLegend=!0,r.linkSeries(),i.enabledDataSorting&&i.setData(e.data,!1),F(r,"afterAddSeries",{series:i}),t&&r.redraw(n)}))),i}addAxis(e,t,n,i){return this.createAxis(t?"xAxis":"yAxis",{axis:e,redraw:n,animation:i})}addColorAxis(e,t,n){return this.createAxis("colorAxis",{axis:e,redraw:t,animation:n})}createAxis(e,n){let i=new t(this,n.axis,e);return q(n.redraw,!0)&&this.redraw(n.animation),i}showLoading(e){let t=this,n=t.options,i=n.loading,r=function(){s&&P(s,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})},s=t.loadingDiv,o=t.loadingSpan;s||(t.loadingDiv=s=A("div",{className:"highcharts-loading highcharts-loading-hidden"},null,t.container)),o||(t.loadingSpan=o=A("span",{className:"highcharts-loading-inner"},null,s),E(t,"redraw",r)),s.className="highcharts-loading",d.setElementHTML(o,q(e,n.lang.loading,"")),t.styledMode||(P(s,R(i.style,{zIndex:10})),P(o,i.labelStyle),t.loadingShown||(P(s,{opacity:0,display:""}),f(s,{opacity:i.style.opacity||.5},{duration:i.showDuration||0}))),t.loadingShown=!0,r()}hideLoading(){let e=this.options,t=this.loadingDiv;t&&(t.className="highcharts-loading highcharts-loading-hidden",this.styledMode||f(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){P(t,{display:"none"})}})),this.loadingShown=!1}update(e,t,n,i){let r,s,o,a=this,l={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},c=e.isResponsiveOptions,u=[];F(a,"update",{options:e}),c||a.setResponsive(!1,!0),e=M(e,a.options),a.userOptions=H(a.userOptions,e);let d=e.chart;d&&(H(!0,a.options.chart,d),this.setZoomOptions(),"className"in d&&a.setClassName(d.className),("inverted"in d||"polar"in d||"type"in d)&&(a.propFromSeries(),r=!0),"alignTicks"in d&&(r=!0),"events"in d&&w(this,d),W(d,(function(e,t){-1!==a.propsRequireUpdateSeries.indexOf("chart."+t)&&(s=!0),-1!==a.propsRequireDirtyBox.indexOf(t)&&(a.isDirtyBox=!0),-1===a.propsRequireReflow.indexOf(t)||(a.isDirtyBox=!0,c||(o=!0))})),!a.styledMode&&d.style&&a.renderer.setStyle(a.options.chart.style||{})),!a.styledMode&&e.colors&&(this.options.colors=e.colors),e.time&&(this.time===y&&(this.time=new h(e.time)),H(!0,a.options.time,e.time)),W(e,(function(t,n){a[n]&&"function"==typeof a[n].update?a[n].update(t,!1):"function"==typeof a[l[n]]?a[l[n]](t):"colors"!==n&&-1===a.collectionsWithUpdate.indexOf(n)&&H(!0,a.options[n],e[n]),"chart"!==n&&-1!==a.propsRequireUpdateSeries.indexOf(n)&&(s=!0)})),this.collectionsWithUpdate.forEach((function(t){e[t]&&(Q(e[t]).forEach((function(e,i){let r,s=N(e.id);s&&(r=a.get(e.id)),!r&&a[t]&&(r=a[t][q(e.index,i)])&&(s&&N(r.options.id)||r.options.isInternal)&&(r=void 0),r&&r.coll===t&&(r.update(e,!1),n&&(r.touched=!0)),!r&&n&&a.collectionsWithInit[t]&&(a.collectionsWithInit[t][0].apply(a,[e].concat(a.collectionsWithInit[t][1]||[]).concat([!1])).touched=!0)})),n&&a[t].forEach((function(e){e.touched||e.options.isInternal?delete e.touched:u.push(e)})))})),u.forEach((function(e){e.chart&&e.remove&&e.remove(!1)})),r&&a.axes.forEach((function(e){e.update({},!1)})),s&&a.getSeriesOrderByLinks().forEach((function(e){e.chart&&e.update({},!1)}),this);let p=d&&d.width,f=d&&(G(d.height)?Y(d.height,p||a.chartWidth):d.height);o||z(p)&&p!==a.chartWidth||z(f)&&f!==a.chartHeight?a.setSize(p,f,i):q(t,!0)&&a.redraw(i),F(a,"afterUpdate",{options:e,redraw:t,animation:i})}setSubtitle(e,t){this.applyDescription("subtitle",e),this.layOutTitles(t)}setCaption(e,t){this.applyDescription("caption",e),this.layOutTitles(t)}showResetZoom(){let e=this,t=v.lang,n=e.zooming.resetButton,i=n.theme,r="chart"===n.relativeTo||"spacingBox"===n.relativeTo?null:"plotBox";function s(){e.zoomOut()}F(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(t.resetZoom,null,null,s,i).attr({align:n.position.align,title:t.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,r)})),F(this,"afterShowResetZoom")}zoomOut(){F(this,"selection",{resetSelection:!0},(()=>this.transform({reset:!0,trigger:"zoom"})))}pan(e,t){let n=this,i="object"==typeof t?t:{enabled:t,type:"x"},r=i.type,s=r&&n[{x:"xAxis",xy:"axes",y:"yAxis"}[r]].filter((e=>e.options.panningEnabled&&!e.options.isInternal)),o=n.options.chart;null!==o&&void 0!==o&&o.panning&&(o.panning=i),F(this,"pan",{originalEvent:e},(()=>{n.transform({axes:s,event:e,to:{x:e.chartX-(n.mouseDownX||0),y:e.chartY-(n.mouseDownY||0)},trigger:"pan"}),P(n.container,{cursor:"move"})}))}transform(e){var t;let n,i,{axes:r=this.axes,event:s,from:o={},reset:a,selection:l,to:c={},trigger:h}=e,{inverted:u}=this,d=!1;for(let y of(null!==(p=this.hoverPoints)&&void 0!==p&&p.forEach((e=>e.setState())),r)){var p,f,g,m;let{horiz:e,len:t,minPointOffset:r=0,options:b,reversed:w}=y,x=e?"width":"height",S=e?"x":"y",k=q(c[x],y.len),_=q(o[x],y.len),T=10>Math.abs(k)?1:k/_,C=(o[S]||0)+_/2-y.pos,E=C-((null!==(f=c[S])&&void 0!==f?f:y.pos)+k/2-y.pos)/T,I=w&&!u||!w&&u?-1:1;if(!a&&(C<0||C>y.len))continue;let A=y.toValue(E,!0)+(l||y.isOrdinal?0:r*I),P=y.toValue(E+t/T,!0)-(l||y.isOrdinal?0:r*I||0),M=y.allExtremes;if(A>P&&([A,P]=[P,A]),1===T&&!a&&"yAxis"===y.coll&&!M){for(let e of y.series){var v;let t=e.getExtremes(e.getProcessedData(!0).yData,!0);null!==(v=M)&&void 0!==v||(M={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),z(t.dataMin)&&z(t.dataMax)&&(M.dataMin=Math.min(t.dataMin,M.dataMin),M.dataMax=Math.max(t.dataMax,M.dataMax))}y.allExtremes=M}let{dataMin:O,dataMax:L,min:D,max:j}=R(y.getExtremes(),M||{}),F=null!==O&&void 0!==O?O:b.min,U=null!==L&&void 0!==L?L:b.max,B=P-A,V=y.categories?0:Math.min(B,U-F),G=F-V*(N(b.min)?0:b.minPadding),H=U+V*(N(b.max)?0:b.maxPadding),W=y.allowZoomOutside||1===T||"zoom"!==h&&T>1,X=Math.min(null!==(g=b.min)&&void 0!==g?g:G,G,W?D:G),Y=Math.max(null!==(m=b.max)&&void 0!==m?m:H,H,W?j:H);(!y.isOrdinal||y.options.overscroll||1!==T||a)&&(A<X&&(A=X,T>=1&&(P=A+B)),P>Y&&(P=Y,T>=1&&(A=P-B)),(a||y.series.length&&(A!==D||P!==j)&&A>=X&&P<=Y)&&(l?l[y.coll].push({axis:y,min:A,max:P}):(y.isPanning="zoom"!==h,y.isPanning&&(i=!0),y.setExtremes(a?void 0:A,a?void 0:P,!1,!1,{move:E,trigger:h,scale:T}),!a&&(A>X||P<Y)&&"mousewheel"!==h&&(n=!0)),d=!0),s&&(this[e?"mouseDownX":"mouseDownY"]=s[e?"chartX":"chartY"]))}return d&&(l?F(this,"selection",l,(()=>{delete e.selection,e.trigger="zoom",this.transform(e)})):(!n||i||this.resetZoomButton?!n&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw("zoom"===h&&(null!==(t=this.options.chart.animation)&&void 0!==t?t:this.pointCount<100)))),d}}return R(Z.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Z.prototype.addAxis,[!0]],yAxis:[Z.prototype.addAxis,[!1]],series:[Z.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),Z})),n(t,"Extensions/ScrollablePlotArea.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i){let{stop:r}=e,{composed:s}=t,{addEvent:o,createElement:a,css:l,defined:c,merge:h,pushUnique:u}=i;function d(){var e;let t=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!t&&(this.scrollablePlotArea=t=new f(this)),null===(e=t)||void 0===e||e.applyFixed()}function p(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class f{static compose(e,t,n){u(s,this.compose)&&(o(e,"afterInit",p),o(t,"afterSetChartSize",(e=>this.afterSetSize(e.target,e))),o(t,"render",d),o(n,"show",p))}static afterSetSize(e,t){let n,i,r,{minWidth:s,minHeight:o}=e.options.chart.scrollablePlotArea||{},{clipBox:a,plotBox:l,inverted:u,renderer:d}=e;if(!d.forExport&&(s?(e.scrollablePixelsX=n=Math.max(0,s-e.chartWidth),n&&(e.scrollablePlotBox=h(e.plotBox),l.width=e.plotWidth+=n,a[u?"height":"width"]+=n,r=!0)):o&&(e.scrollablePixelsY=i=Math.max(0,o-e.chartHeight),c(i)&&(e.scrollablePlotBox=h(e.plotBox),l.height=e.plotHeight+=i,a[u?"width":"height"]+=i,r=!1)),c(r)&&!t.skipAxes))for(let c of e.axes)c.horiz===r&&(c.setAxisSize(),c.setAxisTranslation())}constructor(e){var t,i;let r,s=e.options.chart,c=n.getRendererType(),h=s.scrollablePlotArea||{},u=this.moveFixedElements.bind(this),d={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};e.scrollablePixelsX&&(d.overflowX="auto"),e.scrollablePixelsY&&(d.overflowY="auto"),this.chart=e;let p=this.parentDiv=a("div",{className:"highcharts-scrolling-parent"},{position:"relative"},e.renderTo),f=this.scrollingContainer=a("div",{className:"highcharts-scrolling"},d,p),g=this.innerContainer=a("div",{className:"highcharts-inner-container"},void 0,f),m=this.fixedDiv=a("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:((null===(t=s.style)||void 0===t?void 0:t.zIndex)||0)+2,top:0},void 0,!0),v=this.fixedRenderer=new c(m,e.chartWidth,e.chartHeight,s.style);this.mask=v.path().attr({fill:s.backgroundColor||"#fff","fill-opacity":null!==(i=h.opacity)&&void 0!==i?i:.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),f.parentNode.insertBefore(m,f),l(e.renderTo,{overflow:"visible"}),o(e,"afterShowResetZoom",u),o(e,"afterApplyDrilldown",u),o(e,"afterLayOutTitles",u),o(f,"scroll",(()=>{let{pointer:t,hoverPoint:n}=e;t&&(delete t.chartPosition,n&&(r=n),t.runPointActions(void 0,r,!0))})),g.appendChild(e.container)}applyFixed(){var e;let{chart:t,fixedRenderer:n,isDirty:i,scrollingContainer:s}=this,{axisOffset:o,chartWidth:a,chartHeight:h,container:u,plotHeight:d,plotLeft:p,plotTop:f,plotWidth:g,scrollablePixelsX:m=0,scrollablePixelsY:v=0}=t,{scrollPositionX:y=0,scrollPositionY:b=0}=t.options.chart.scrollablePlotArea||{},w=a+m,x=h+v;n.setSize(a,h),(null===i||void 0===i||i)&&(this.isDirty=!1,this.moveFixedElements()),r(t.container),l(u,{width:"".concat(w,"px"),height:"".concat(x,"px")}),t.renderer.boxWrapper.attr({width:w,height:x,viewBox:[0,0,w,x].join(" ")}),null!==(e=t.chartBackground)&&void 0!==e&&e.attr({width:w,height:x}),l(s,{width:"".concat(a,"px"),height:"".concat(h,"px")}),c(i)||(s.scrollLeft=m*y,s.scrollTop=v*b);let S=f-o[0]-1,k=p-o[3]-1,_=f+d+o[2]+1,T=p+g+o[1]+1,C=p+g-m,E=f+d-v,I=[["M",0,0]];m?I=[["M",0,S],["L",p-1,S],["L",p-1,_],["L",0,_],["Z"],["M",C,S],["L",a,S],["L",a,_],["L",C,_],["Z"]]:v&&(I=[["M",k,0],["L",k,f-1],["L",T,f-1],["L",T,0],["Z"],["M",k,E],["L",k,h],["L",T,h],["L",T,E],["Z"]]),"adjustHeight"!==t.redrawTrigger&&this.mask.attr({d:I})}moveFixedElements(){let e,{container:t,inverted:n,scrollablePixelsX:i,scrollablePixelsY:r}=this.chart,s=this.fixedRenderer,o=f.fixedSelectors;for(let a of(i&&!n?e=".highcharts-yaxis":i&&n||r&&!n?e=".highcharts-xaxis":r&&n&&(e=".highcharts-yaxis"),e&&o.push("".concat(e,":not(.highcharts-radial-axis)"),"".concat(e,"-labels:not(.highcharts-radial-axis-labels)")),o))[].forEach.call(t.querySelectorAll(a),(e=>{(e.namespaceURI===s.SVG_NS?s.box:s.box.parentNode).appendChild(e),e.style.pointerEvents="auto"}))}}return f.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],f})),n(t,"Core/Axis/Stacking/StackItem.js",[t["Core/Templating.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n){let{format:i}=e,{series:r}=t,{destroyObjectProperties:s,fireEvent:o,isNumber:a,pick:l}=n;return class{constructor(e,t,n,i,r){let s=e.chart.inverted,o=e.reversed;this.axis=e;let a=this.isNegative=!!n!=!!o;this.options=t=t||{},this.x=i,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=r,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:t.align||(s?a?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":a?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(s?a?"right":"left":"center")}destroy(){s(this,this.axis)}render(e){let t=this.axis.chart,n=this.options,r=n.format,s=r?i(r,this,t):n.formatter.call(this);if(this.label)this.label.attr({text:s,visibility:"hidden"});else{this.label=t.renderer.label(s,null,void 0,n.shape,void 0,void 0,n.useHTML,!1,"stack-labels");let i={r:n.borderRadius||0,text:s,padding:l(n.padding,5),visibility:"hidden"};t.styledMode||(i.fill=n.backgroundColor,i.stroke=n.borderColor,i["stroke-width"]=n.borderWidth,this.label.css(n.style||{})),this.label.attr(i),this.label.added||this.label.add(e)}this.label.labelrank=t.plotSizeY,o(this,"afterRender")}setOffset(e,t,n,i,s,c){let{alignOptions:h,axis:u,label:d,options:p,textAlign:f}=this,g=u.chart,m=this.getStackBox({xOffset:e,width:t,boxBottom:n,boxTop:i,defaultX:s,xAxis:c}),{verticalAlign:v}=h;if(d&&m){let e,t=d.getBBox(void 0,0),n=d.padding,i="justify"===l(p.overflow,"justify");h.x=p.x||0,h.y=p.y||0;let{x:s,y:o}=this.adjustStackPosition({labelBox:t,verticalAlign:v,textAlign:f});m.x-=s,m.y-=o,d.align(h,!1,m),(e=g.isInsidePlot(d.alignAttr.x+h.x+s,d.alignAttr.y+h.y+o))||(i=!1),i&&r.prototype.justifyDataLabel.call(u,d,h,d.alignAttr,t,m),d.attr({x:d.alignAttr.x,y:d.alignAttr.y,rotation:p.rotation,rotationOriginX:t.width*{left:0,center:.5,right:1}[p.textAlign||"center"],rotationOriginY:t.height/2}),l(!i&&p.crop,!0)&&(e=a(d.x)&&a(d.y)&&g.isInsidePlot(d.x-n+(d.width||0),d.y)&&g.isInsidePlot(d.x+n,d.y)),d[e?"show":"hide"]()}o(this,"afterSetOffset",{xOffset:e,width:t})}adjustStackPosition(e){let{labelBox:t,verticalAlign:n,textAlign:i}=e,r={bottom:0,middle:1,top:2,right:1,center:0,left:-1},s=r[n],o=r[i];return{x:t.width/2+t.width/2*o,y:t.height/2*s}}getStackBox(e){let t=this.axis,n=t.chart,{boxTop:i,defaultX:r,xOffset:s,width:o,boxBottom:c}=e,h=t.stacking.usePercentage?100:l(i,this.total,0),u=t.toPixels(h),d=e.xAxis||n.xAxis[0],p=l(r,d.translate(this.x))+s,f=Math.abs(u-t.toPixels(c||a(t.min)&&t.logarithmic&&t.logarithmic.lin2log(t.min)||0)),g=n.inverted,m=this.isNegative;return g?{x:(m?u:u-f)-n.plotLeft,y:d.height-p-o+d.top-n.plotTop,width:f,height:o}:{x:p+d.transB-n.plotLeft,y:(m?u-f:u)-n.plotTop,width:o,height:f}}}})),n(t,"Core/Axis/Stacking/StackingAxis.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Axis/Axis.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r){var s;let{getDeferredAnimation:o}=e,{series:{prototype:a}}=n,{addEvent:l,correctFloat:c,defined:h,destroyObjectProperties:u,fireEvent:d,isArray:p,isNumber:f,objectEach:g,pick:m}=r;function v(){let e=this.inverted;this.axes.forEach((e=>{e.stacking&&e.stacking.stacks&&e.hasVisibleSeries&&(e.stacking.oldStacks=e.stacking.stacks)})),this.series.forEach((t=>{let n=t.xAxis&&t.xAxis.options||{};t.options.stacking&&t.reserveSpace()&&(t.stackKey=[t.type,m(t.options.stack,""),e?n.top:n.left,e?n.height:n.width].join(","))}))}function y(){let e=this.stacking;if(e){var t;let n=e.stacks;g(n,((e,t)=>{u(e),delete n[t]})),null===(t=e.stackTotalGroup)||void 0===t||t.destroy()}}function b(){this.stacking||(this.stacking=new T(this))}function w(e,t,n,i){return!h(e)||e.x!==t||i&&e.stackKey!==i?e={x:t,index:0,key:i,stackKey:i}:e.index++,e.key=[n,t,e.index].join(","),e}function x(){let e,t=this,n=t.yAxis,i=t.stackKey||"",r=n.stacking.stacks,s=t.processedXData,o=t.options.stacking,a=t[o+"Stacker"];a&&[i,"-"+i].forEach((n=>{let i,o,l,c=s.length;for(;c--;){var h,u;i=s[c],e=t.getStackIndicator(e,i,t.index,n),o=null===(h=r[n])||void 0===h?void 0:h[i],(l=null===(u=o)||void 0===u?void 0:u.points[e.key||""])&&a.call(t,l,o,c)}}))}function S(e,t,n){let i=t.total?100/t.total:0;e[0]=c(e[0]*i),e[1]=c(e[1]*i),this.stackedYData[n]=e[1]}function k(e){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?a.setStackedPoints.call(this,e,"group"):e.stacking.resetStacks())}function _(e,t){let n,r,s,o,a,l,u,d,f,g=t||this.options.stacking;if(!g||!this.reserveSpace()||({group:"xAxis"}[g]||"yAxis")!==e.coll)return;let v=this.processedXData,y=this.processedYData,b=[],w=y.length,x=this.options,S=x.threshold||0,k=x.startFromThreshold?S:0,_=x.stack,T=t?"".concat(this.type,",").concat(g):this.stackKey||"",C="-"+T,E=this.negStacks,I=e.stacking,A=I.stacks,P=I.oldStacks;for(I.stacksTouched+=1,u=0;u<w;u++){var N,M;d=v[u],f=y[u],l=(n=this.getStackIndicator(n,d,this.index)).key||"",A[a=(r=E&&f<(k?0:S))?C:T]||(A[a]={}),A[a][d]||(null!==(N=P[a])&&void 0!==N&&N[d]?(A[a][d]=P[a][d],A[a][d].total=null):A[a][d]=new i(e,e.options.stackLabels,!!r,d,_)),s=A[a][d],null!==f?(s.points[l]=s.points[this.index]=[m(s.cumulative,k)],h(s.cumulative)||(s.base=l),s.touched=I.stacksTouched,n.index>0&&!1===this.singleStacks&&(s.points[l][0]=s.points[this.index+","+d+",0"][0])):(delete s.points[l],delete s.points[this.index]);let t=s.total||0;"percent"===g?(o=r?T:C,t=E&&null!==(M=A[o])&&void 0!==M&&M[d]?(o=A[o][d]).total=Math.max(o.total||0,t)+Math.abs(f)||0:c(t+(Math.abs(f)||0))):"group"===g?(p(f)&&(f=f[0]),null!==f&&t++):t=c(t+(f||0)),s.cumulative="group"===g?(t||1)-1:c(m(s.cumulative,k)+(f||0)),s.total=t,null!==f&&(s.points[l].push(s.cumulative),b[u]=s.cumulative,s.hasValidPoints=!0)}"percent"===g&&(I.usePercentage=!0),"group"!==g&&(this.stackedYData=b),I.oldStacks={}}class T{constructor(e){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=e}buildStacks(){let e,t,n=this.axis,i=n.series,r="xAxis"===n.coll,s=n.options.reversedStacks,o=i.length;for(this.resetStacks(),this.usePercentage=!1,t=o;t--;)e=i[s?t:o-t-1],r&&e.setGroupedPoints(n),e.setStackedPoints(n);if(!r)for(t=0;t<o;t++)i[t].modifyStacks();d(n,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,g(this.stacks,(e=>{g(e,(e=>{e.cumulative=e.total}))})))}resetStacks(){g(this.stacks,(e=>{g(e,((t,n)=>{f(t.touched)&&t.touched<this.stacksTouched?(t.destroy(),delete e[n]):(t.total=null,t.cumulative=null)}))}))}renderStackTotals(){var e;let t=this.axis,n=t.chart,i=n.renderer,r=this.stacks,s=o(n,(null===(e=t.options.stackLabels)||void 0===e?void 0:e.animation)||!1),a=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();a.translate(n.plotLeft,n.plotTop),g(r,(e=>{g(e,(e=>{e.render(a)}))})),a.animate({opacity:1},s)}}return(s||(s={})).compose=function(e,t,n){let i=t.prototype,r=n.prototype;i.getStacks||(l(e,"init",b),l(e,"destroy",y),i.getStacks=v,r.getStackIndicator=w,r.modifyStacks=x,r.percentStacker=S,r.setGroupedPoints=k,r.setStackedPoints=_)},s})),n(t,"Series/Line/LineSeries.js",[t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n){let{defined:i,merge:r,isObject:s}=n;class o extends e{drawGraph(){let e=this.options,t=(this.gappedPath||this.getGraphPath).call(this),n=this.chart.styledMode;[this,...this.zones].forEach(((i,o)=>{let a,l=i.graph,c=l?"animate":"attr",h=i.dashStyle||e.dashStyle;l?(l.endX=this.preventGraphAnimation?null:t.xMap,l.animate({d:t})):t.length&&(i.graph=l=this.chart.renderer.path(t).addClass("highcharts-graph"+(o?" highcharts-zone-graph-".concat(o-1," "):" ")+(o&&i.className||"")).attr({zIndex:1}).add(this.group)),l&&!n&&(a={stroke:!o&&e.lineColor||i.color||this.color||"#cccccc","stroke-width":e.lineWidth||0,fill:this.fillGraph&&this.color||"none"},h?a.dashstyle=h:"square"!==e.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),l[c](a).shadow(o<2&&e.shadow&&r({filterUnits:"userSpaceOnUse"},s(e.shadow)?e.shadow:{}))),l&&(l.startX=t.xMap,l.isArea=t.isArea)}))}getGraphPath(e,t,n){let r,s=this,o=s.options,a=[],l=[],c=o.step,h=(e=e||s.points).reversed;return h&&e.reverse(),(c={right:1,center:2}[c]||c&&3)&&h&&(c=4-c),(e=this.getValidPoints(e,!1,!(o.connectNulls&&!t&&!n))).forEach((function(h,u){let d,p=h.plotX,f=h.plotY,g=e[u-1],m=h.isNull||"number"!=typeof f;(h.leftCliff||g&&g.rightCliff)&&!n&&(r=!0),m&&!i(t)&&u>0?r=!o.connectNulls:m&&!t?r=!0:(0===u||r?d=[["M",h.plotX,h.plotY]]:s.getPointSpline?d=[s.getPointSpline(e,h,u)]:c?(d=1===c?[["L",g.plotX,f]]:2===c?[["L",(g.plotX+p)/2,g.plotY],["L",(g.plotX+p)/2,f]]:[["L",p,g.plotY]]).push(["L",p,f]):d=[["L",p,f]],l.push(h.x),c&&(l.push(h.x),2===c&&l.push(h.x)),a.push.apply(a,d),r=!1)})),a.xMap=l,s.graphPath=a,a}}return o.defaultOptions=r(e.defaultOptions,{legendSymbol:"lineMarker"}),t.registerSeriesType("line",o),o})),n(t,"Series/Area/AreaSeriesDefaults.js",[],(function(){return{threshold:0,legendSymbol:"areaMarker"}})),n(t,"Series/Area/AreaSeries.js",[t["Series/Area/AreaSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n){let{seriesTypes:{line:i}}=t,{extend:r,merge:s,objectEach:o,pick:a}=n;class l extends i{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:e,options:t}=this;[this,...this.zones].forEach(((n,i)=>{var r;let s={},o=n.fillColor||t.fillColor,a=n.area,l=a?"animate":"attr";a?(a.endX=this.preventGraphAnimation?null:e.xMap,a.animate({d:e})):(s.zIndex=0,(a=n.area=this.chart.renderer.path(e).addClass("highcharts-area"+(i?" highcharts-zone-area-".concat(i-1," "):" ")+(i&&n.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(s.fill=o||n.color||this.color,s["fill-opacity"]=o?1:null!==(r=t.fillOpacity)&&void 0!==r?r:.75,a.css({pointerEvents:this.stickyTracking?"none":"auto"})),a[l](s),a.startX=e.xMap,a.shiftUnit=t.step?2:1}))}getGraphPath(e){let t,n,r,s=i.prototype.getGraphPath,o=this.options,l=o.stacking,c=this.yAxis,h=[],u=[],d=this.index,p=c.stacking.stacks[this.stackKey],f=o.threshold,g=Math.round(c.getThreshold(o.threshold)),m=a(o.connectNulls,"percent"===l),v=function(n,i,r){let s,o,a=e[n],m=l&&p[a.x].points[d],v=a[r+"Null"]||0,y=a[r+"Cliff"]||0,b=!0;y||v?(s=(v?m[0]:m[1])+y,o=m[0]+y,b=!!v):!l&&e[i]&&e[i].isNull&&(s=o=f),void 0!==s&&(u.push({plotX:t,plotY:null===s?g:c.getThreshold(s),isNull:b,isCliff:!0}),h.push({plotX:t,plotY:null===o?g:c.getThreshold(o),doCurve:!1}))};e=e||this.points,l&&(e=this.getStackPoints(e));for(let i=0,k=e.length;i<k;++i)l||(e[i].leftCliff=e[i].rightCliff=e[i].leftNull=e[i].rightNull=void 0),n=e[i].isNull,t=a(e[i].rectPlotX,e[i].plotX),r=l?a(e[i].yBottom,g):g,n&&!m||(m||v(i,i-1,"left"),n&&!l&&m||(u.push(e[i]),h.push({x:i,plotX:t,plotY:r})),m||v(i,i+1,"right"));let y=s.call(this,u,!0,!0);h.reversed=!0;let b=s.call(this,h,!0,!0),w=b[0];w&&"M"===w[0]&&(b[0]=["L",w[1],w[2]]);let x=y.concat(b);x.length&&x.push(["Z"]);let S=s.call(this,u,!1,m);return this.chart.series.length>1&&l&&u.some((e=>e.isCliff))&&(x.hasStackedCliffs=S.hasStackedCliffs=!0),x.xMap=y.xMap,this.areaPath=x,S}getStackPoints(e){let t=this,n=[],i=[],r=this.xAxis,s=this.yAxis,l=s.stacking.stacks[this.stackKey],c={},h=s.series,u=h.length,d=s.options.reversedStacks?1:-1,p=h.indexOf(t);if(e=e||this.points,this.options.stacking){for(let t=0;t<e.length;t++)e[t].leftNull=e[t].rightNull=void 0,c[e[t].x]=e[t];o(l,(function(e,t){null!==e.total&&i.push(t)})),i.sort((function(e,t){return e-t}));let f=h.map((e=>e.visible));i.forEach((function(e,o){let g,m,v=0;if(c[e]&&!c[e].isNull)n.push(c[e]),[-1,1].forEach((function(n){let r=1===n?"rightNull":"leftNull",s=l[i[o+n]],a=0;if(s){let n=p;for(;n>=0&&n<u;){let i=h[n].index;!(g=s.points[i])&&(i===t.index?c[e][r]=!0:f[n]&&(m=l[e].points[i])&&(a-=m[1]-m[0])),n+=d}}c[e][1===n?"rightCliff":"leftCliff"]=a}));else{let t=p;for(;t>=0&&t<u;){let n=h[t].index;if(g=l[e].points[n]){v=g[1];break}t+=d}v=a(v,0),v=s.translate(v,0,1,0,1),n.push({isNull:!0,plotX:r.translate(e,0,0,0,1),x:e,plotY:v,yBottom:v})}}))}return n}}return l.defaultOptions=s(i.defaultOptions,e),r(l.prototype,{singleStacks:!1}),t.registerSeriesType("area",l),l})),n(t,"Series/Spline/SplineSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t){let{line:n}=e.seriesTypes,{merge:i,pick:r}=t;class s extends n{getPointSpline(e,t,n){let i,s,o,a,l=t.plotX||0,c=t.plotY||0,h=e[n-1],u=e[n+1];function d(e){return e&&!e.isNull&&!1!==e.doCurve&&!t.isCliff}if(d(h)&&d(u)){let e=h.plotX||0,n=h.plotY||0,r=u.plotX||0,d=u.plotY||0,p=0;i=(1.5*l+e)/2.5,s=(1.5*c+n)/2.5,o=(1.5*l+r)/2.5,a=(1.5*c+d)/2.5,o!==i&&(p=(a-s)*(o-l)/(o-i)+c-a),s+=p,a+=p,s>n&&s>c?(s=Math.max(n,c),a=2*c-s):s<n&&s<c&&(s=Math.min(n,c),a=2*c-s),a>d&&a>c?(a=Math.max(d,c),s=2*c-a):a<d&&a<c&&(a=Math.min(d,c),s=2*c-a),t.rightContX=o,t.rightContY=a,t.controlPoints={low:[i,s],high:[o,a]}}let p=["C",r(h.rightContX,h.plotX,0),r(h.rightContY,h.plotY,0),r(i,l,0),r(s,c,0),l,c];return h.rightContX=h.rightContY=void 0,p}}return s.defaultOptions=i(n.defaultOptions),e.registerSeriesType("spline",s),s})),n(t,"Series/AreaSpline/AreaSplineSeries.js",[t["Series/Spline/SplineSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n){let{area:i,area:{prototype:r}}=t.seriesTypes,{extend:s,merge:o}=n;class a extends e{}return a.defaultOptions=o(e.defaultOptions,i.defaultOptions),s(a.prototype,{getGraphPath:r.getGraphPath,getStackPoints:r.getStackPoints,drawGraph:r.drawGraph}),t.registerSeriesType("areaspline",a),a})),n(t,"Series/Column/ColumnSeriesDefaults.js",[],(function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}})),n(t,"Series/Column/ColumnSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Series/Column/ColumnSeriesDefaults.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r,s,o){let{animObject:a}=e,{parse:l}=t,{noop:c}=i,{clamp:h,crisp:u,defined:d,extend:p,fireEvent:f,isArray:g,isNumber:m,merge:v,pick:y,objectEach:b}=o;class w extends r{animate(e){let t,n,i=this,r=this.yAxis,s=r.pos,o=r.reversed,l=i.options,{clipOffset:c,inverted:u}=this.chart,d={},f=u?"translateX":"translateY";e&&c?(d.scaleY=.001,n=h(r.toPixels(l.threshold),s,s+r.len),u?(n+=o?-Math.floor(c[0]):Math.ceil(c[2]),d.translateX=n-r.len):(n+=o?Math.ceil(c[0]):-Math.floor(c[2]),d.translateY=n),i.clipBox&&i.setClip(),i.group.attr(d)):(t=Number(i.group.attr(f)),i.group.animate({scaleY:1},p(a(i.options.animation),{step:function(e,n){i.group&&(d[f]=t+n.pos*(s-t),i.group.attr(d))}})))}init(e,t){super.init.apply(this,arguments);let n=this;(e=n.chart).hasRendered&&e.series.forEach((function(e){e.type===n.type&&(e.isDirty=!0)}))}getColumnMetrics(){var e,t;let n,i=this,r=i.options,s=i.xAxis,o=i.yAxis,a=s.options.reversedStacks,l=s.reversed&&!a||!s.reversed&&a,c={},h=0;!1===r.grouping?h=1:i.chart.series.forEach((function(e){let t,r=e.yAxis,s=e.options;e.type===i.type&&e.reserveSpace()&&o.len===r.len&&o.pos===r.pos&&(s.stacking&&"group"!==s.stacking?(void 0===c[n=e.stackKey]&&(c[n]=h++),t=c[n]):!1!==s.grouping&&(t=h++),e.columnIndex=t)}));let u=Math.min(Math.abs(s.transA)*(!(null!==(e=s.brokenAxis)&&void 0!==e&&e.hasBreaks)&&(null===(t=s.ordinal)||void 0===t?void 0:t.slope)||r.pointRange||s.closestPointRange||s.tickInterval||1),s.len),d=u*r.groupPadding,p=(u-2*d)/(h||1),f=Math.min(r.maxPointWidth||s.len,y(r.pointWidth,p*(1-2*r.pointPadding))),g=(i.columnIndex||0)+(l?1:0);return i.columnMetrics={width:f,offset:(p-f)/2+(d+g*p-u/2)*(l?-1:1),paddedWidth:p,columnCount:h},i.columnMetrics}crispCol(e,t,n,i){let r=this.borderWidth,s=this.chart.inverted;return i=u(t+i,r,s)-(t=u(t,r,s)),this.options.crisp&&(n=u(e+n,r)-(e=u(e,r))),{x:e,y:t,width:n,height:i}}adjustForMissingColumns(e,t,n,i){if(!n.isNull&&i.columnCount>1){var r;let s=this.xAxis.series.filter((e=>e.visible)).map((e=>e.index)),o=0,a=0;b(null===(r=this.xAxis.stacking)||void 0===r?void 0:r.stacks,(e=>{if("number"==typeof n.x){let t=e[n.x.toString()];if(t&&g(t.points[this.index])){let e=Object.keys(t.points).filter((e=>!e.match(",")&&t.points[e]&&t.points[e].length>1)).map(parseFloat).filter((e=>-1!==s.indexOf(e))).sort(((e,t)=>t-e));o=e.indexOf(this.index),a=e.length}}})),o=this.xAxis.reversed?a-1-o:o;let l=(a-1)*i.paddedWidth+t;e=(n.plotX||0)+l/2-t-o*i.paddedWidth}return e}translate(){let e=this,t=e.chart,n=e.options,i=e.dense=e.closestPointRange*e.xAxis.transA<2,s=e.borderWidth=y(n.borderWidth,i?0:1),o=e.xAxis,a=e.yAxis,l=n.threshold,c=y(n.minPointLength,5),u=e.getColumnMetrics(),p=u.width,g=e.pointXOffset=u.offset,v=e.dataMin,b=e.dataMax,w=e.translatedThreshold=a.getThreshold(l),x=e.barW=Math.max(p,1+2*s);n.pointPadding&&(x=Math.ceil(x)),r.prototype.translate.apply(e),e.points.forEach((function(i){let r,s=y(i.yBottom,w),f=999+Math.abs(s),S=i.plotX||0,k=h(i.plotY,-f,a.len+f),_=Math.min(k,s),T=Math.max(k,s)-_,C=p,E=S+g,I=x;c&&Math.abs(T)<c&&(T=c,r=!a.reversed&&!i.negative||a.reversed&&i.negative,m(l)&&m(b)&&i.y===l&&b<=l&&(a.min||0)<l&&(v!==b||(a.max||0)<=l)&&(r=!r,i.negative=!i.negative),_=Math.abs(_-w)>c?s-c:w-(r?c:0)),d(i.options.pointWidth)&&(E-=Math.round(((C=I=Math.ceil(i.options.pointWidth))-p)/2)),n.centerInCategory&&!n.stacking&&(E=e.adjustForMissingColumns(E,C,i,u)),i.barX=E,i.pointWidth=C,i.tooltipPos=t.inverted?[h(a.len+a.pos-t.plotLeft-k,a.pos-t.plotLeft,a.len+a.pos-t.plotLeft),o.len+o.pos-t.plotTop-E-I/2,T]:[o.left-t.plotLeft+E+I/2,h(k+a.pos-t.plotTop,a.pos-t.plotTop,a.len+a.pos-t.plotTop),T],i.shapeType=e.pointClass.prototype.shapeType||"roundedRect",i.shapeArgs=e.crispCol(E,i.isNull?w:_,I,i.isNull?0:T)})),f(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(e,t){let n,i,r,s=this.options,o=this.pointAttrToOptions||{},a=o.stroke||"borderColor",c=o["stroke-width"]||"borderWidth",h=e&&e.color||this.color,u=e&&e[a]||s[a]||h,d=e&&e.options.dashStyle||s.dashStyle,p=e&&e[c]||s[c]||this[c]||0,f=y(e&&e.opacity,s.opacity,1);e&&this.zones.length&&(i=e.getZone(),h=e.options.color||i&&(i.color||e.nonZonedColor)||this.color,i&&(u=i.borderColor||u,d=i.dashStyle||d,p=i.borderWidth||p)),t&&e&&(r=(n=v(s.states[t],e.options.states&&e.options.states[t]||{})).brightness,h=n.color||void 0!==r&&l(h).brighten(n.brightness).get()||h,u=n[a]||u,p=n[c]||p,d=n.dashStyle||d,f=y(n.opacity,f));let g={fill:h,stroke:u,"stroke-width":p,opacity:f};return d&&(g.dashstyle=d),g}drawPoints(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.points,n=this,i=this.chart,r=n.options,s=i.renderer,o=r.animationLimit||250;t.forEach((function(t){let a=t.plotY,l=t.graphic,c=!!l,h=l&&i.pointCount<o?"animate":"attr";m(a)&&null!==t.y?(e=t.shapeArgs,l&&t.hasNewShapeType()&&(l=l.destroy()),n.enabledDataSorting&&(t.startXPos=n.xAxis.reversed?-(e&&e.width||0):n.xAxis.width),!l&&(t.graphic=l=s[t.shapeType](e).add(t.group||n.group),l&&n.enabledDataSorting&&i.hasRendered&&i.pointCount<o&&(l.attr({x:t.startXPos}),c=!0,h="animate")),l&&c&&l[h](v(e)),i.styledMode||l[h](n.pointAttribs(t,t.selected&&"select")).shadow(!1!==t.allowShadow&&r.shadow),l&&(l.addClass(t.getClassName(),!0),l.attr({visibility:t.visible?"inherit":"hidden"}))):l&&(t.graphic=l.destroy())}))}drawTracker(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.points,n=this,i=n.chart,r=i.pointer,s=function(e){let t=null===r||void 0===r?void 0:r.getPointFromEvent(e);r&&t&&n.options.enableMouseTracking&&(r.isDirectTouch=!0,t.onMouseOver(e))};t.forEach((function(t){e=g(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),e.forEach((function(e){(e.div||e.element).point=t}))})),n._hasTracking||(n.trackerGroups.forEach((function(e){n[e]&&(n[e].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",(function(e){null===r||void 0===r||r.onTrackerMouseOut(e)})).on("touchstart",s),!i.styledMode&&n.options.cursor&&n[e].css({cursor:n.options.cursor}))})),n._hasTracking=!0),f(this,"afterDrawTracker")}remove(){let e=this,t=e.chart;t.hasRendered&&t.series.forEach((function(t){t.type===e.type&&(t.isDirty=!0)})),r.prototype.remove.apply(e,arguments)}}return w.defaultOptions=v(r.defaultOptions,n),p(w.prototype,{directTouch:!0,getSymbol:c,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),s.registerSeriesType("column",w),w})),n(t,"Core/Series/DataLabel.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],(function(e,t,n){var i;let{getDeferredAnimation:r}=e,{format:s}=t,{defined:o,extend:a,fireEvent:l,isArray:c,isString:h,merge:u,objectEach:d,pick:p,pInt:f,splat:g}=n;return function(e){function t(){return w(this).some((e=>null===e||void 0===e?void 0:e.enabled))}function n(e,t,n,i,r){let{chart:s,enabledDataSorting:l}=this,c=this.isCartesian&&s.inverted,h=e.plotX,d=e.plotY,f=n.rotation||0,g=o(h)&&o(d)&&s.isInsidePlot(h,Math.round(d),{inverted:c,paneCoordinates:!0,series:this}),m=0===f&&"justify"===p(n.overflow,l?"none":"justify"),v=this.visible&&!1!==e.visible&&o(h)&&(e.series.forceDL||l&&!m||g||p(n.inside,!!this.options.stacking)&&i&&s.isInsidePlot(h,c?i.x+1:i.y+i.height-1,{inverted:c,paneCoordinates:!0,series:this})),y=e.pos();if(v&&y){var b,w;let o=t.getBBox(),h=t.getBBox(void 0,0),d={right:1,center:.5}[n.align||0]||0,x={bottom:1,middle:.5}[n.verticalAlign||0]||0;if(i=a({x:y[0],y:Math.round(y[1]),width:0,height:0},i||{}),"plotEdges"===n.alignTo&&this.isCartesian&&(i[c?"x":"y"]=0,i[c?"width":"height"]=(null===(b=this.yAxis)||void 0===b?void 0:b.len)||0),a(n,{width:o.width,height:o.height}),w=i,l&&this.xAxis&&!m&&this.setDataLabelStartPos(e,t,r,g,w),t.align(u(n,{width:h.width,height:h.height}),!1,i,!1),t.alignAttr.x+=d*(h.width-o.width),t.alignAttr.y+=x*(h.height-o.height),t[t.placed?"animate":"attr"]({x:t.alignAttr.x+(o.width-h.width)/2,y:t.alignAttr.y+(o.height-h.height)/2,rotationOriginX:(t.width||0)/2,rotationOriginY:(t.height||0)/2}),m&&i.height>=0)this.justifyDataLabel(t,n,t.alignAttr,o,i,r);else if(p(n.crop,!0)){let{x:e,y:n}=t.alignAttr;v=s.isInsidePlot(e,n,{paneCoordinates:!0,series:this})&&s.isInsidePlot(e+o.width-1,n+o.height-1,{paneCoordinates:!0,series:this})}n.shape&&!f&&t[r?"attr":"animate"]({anchorX:y[0],anchorY:y[1]})}r&&l&&(t.placed=!1),v||l&&!m?(t.show(),t.placed=!0):(t.hide(),t.placed=!1)}function i(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function m(e){let t=this.hasRendered||0,n=this.initDataLabelsGroup().attr({opacity:+t});return!t&&n&&(this.visible&&n.show(),this.options.animation?n.animate({opacity:1},e):n.attr({opacity:1})),n}function v(e){var t;let n;e=e||this.points;let i=this,a=i.chart,c=i.options,u=a.renderer,{backgroundColor:m,plotBackgroundColor:v}=a.options.chart,y=u.getContrast(h(v)&&v||h(m)&&m||"#000000"),x=w(i),{animation:S,defer:k}=x[0],_=k?r(a,S,i):{defer:0,duration:0};l(this,"drawDataLabels"),null!==(t=i.hasDataLabels)&&void 0!==t&&t.call(i)&&(n=this.initDataLabels(_),e.forEach((e=>{var t;let r=e.dataLabels||[];g(b(x,e.dlOptions||(null===(t=e.options)||void 0===t?void 0:t.dataLabels))).forEach(((t,g)=>{let m,v,b,w,x,S=t.enabled&&(e.visible||e.dataLabelOnHidden)&&(!e.isNull||e.dataLabelOnNull)&&function(e,t){let n=t.filter;if(n){let t=n.operator,i=e[n.property],r=n.value;return">"===t&&i>r||"<"===t&&i<r||">="===t&&i>=r||"<="===t&&i<=r||"=="===t&&i==r||"==="===t&&i===r||"!="===t&&i!=r||"!=="===t&&i!==r}return!0}(e,t),{backgroundColor:k,borderColor:_,distance:T,style:C={}}=t,E={},I=r[g],A=!I;S&&(v=p(t[e.formatPrefix+"Format"],t.format),m=e.getLabelConfig(),b=o(v)?s(v,m,a):(t[e.formatPrefix+"Formatter"]||t.formatter).call(m,t),w=t.rotation,!a.styledMode&&(C.color=p(t.color,C.color,h(i.color)?i.color:void 0,"#000000"),"contrast"===C.color?("none"!==k&&(x=k),e.contrastColor=u.getContrast("auto"!==x&&x||e.color||i.color),C.color=x||!o(T)&&t.inside||0>f(T||0)||c.stacking?e.contrastColor:y):delete e.contrastColor,c.cursor&&(C.cursor=c.cursor)),E={r:t.borderRadius||0,rotation:w,padding:t.padding,zIndex:1},a.styledMode||(E.fill="auto"===k?e.color:k,E.stroke="auto"===_?e.color:_,E["stroke-width"]=t.borderWidth),d(E,((e,t)=>{void 0===e&&delete E[t]}))),!I||S&&o(b)&&!!I.div==!!t.useHTML&&(I.rotation&&t.rotation||I.rotation===t.rotation)||(I=void 0,A=!0),S&&o(b)&&(I?E.text=b:(I=u.label(b,0,0,t.shape,void 0,void 0,t.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(t.className||"")+(t.useHTML?" highcharts-tracker":"")),I&&(I.options=t,I.attr(E),a.styledMode?C.width&&I.css({width:C.width,textOverflow:C.textOverflow}):I.css(C).shadow(t.shadow),l(I,"beforeAddingDataLabel",{labelOptions:t,point:e}),I.added||I.add(n),i.alignDataLabel(e,I,t,void 0,A),I.isActive=!0,r[g]&&r[g]!==I&&r[g].destroy(),r[g]=I))}));let m=r.length;for(;m--;){var v;r[m]&&r[m].isActive?r[m].isActive=!1:(null!==(v=r[m])&&void 0!==v&&v.destroy(),r.splice(m,1))}e.dataLabel=r[0],e.dataLabels=r}))),l(this,"afterDrawDataLabels")}function y(e,t,n,i,r,s){let o,a,l=this.chart,c=t.align,h=t.verticalAlign,u=e.box?0:e.padding||0,d=l.inverted?this.yAxis:this.xAxis,p=d?d.left-l.plotLeft:0,f=l.inverted?this.xAxis:this.yAxis,g=f?f.top-l.plotTop:0,{x:m=0,y:v=0}=t;return(o=(n.x||0)+u+p)<0&&("right"===c&&m>=0?(t.align="left",t.inside=!0):m-=o,a=!0),(o=(n.x||0)+i.width-u+p)>l.plotWidth&&("left"===c&&m<=0?(t.align="right",t.inside=!0):m+=l.plotWidth-o,a=!0),(o=n.y+u+g)<0&&("bottom"===h&&v>=0?(t.verticalAlign="top",t.inside=!0):v-=o,a=!0),(o=(n.y||0)+i.height-u+g)>l.plotHeight&&("top"===h&&v<=0?(t.verticalAlign="bottom",t.inside=!0):v+=l.plotHeight-o,a=!0),a&&(t.x=m,t.y=v,e.placed=!s,e.align(t,void 0,r)),a}function b(e,t){let n,i=[];if(c(e)&&!c(t))i=e.map((function(e){return u(e,t)}));else if(c(t)&&!c(e))i=t.map((function(t){return u(e,t)}));else if(c(e)||c(t)){if(c(e)&&c(t))for(n=Math.max(e.length,t.length);n--;)i[n]=u(e[n],t[n])}else i=u(e,t);return i}function w(e){var t,n;let i=e.chart.options.plotOptions;return g(b(b(null===i||void 0===i||null===(t=i.series)||void 0===t?void 0:t.dataLabels,null===i||void 0===i||null===(n=i[e.type])||void 0===n?void 0:n.dataLabels),e.options.dataLabels))}function x(e,t,n,i,r){let s=this.chart,o=s.inverted,a=this.xAxis,l=a.reversed,c=((o?t.height:t.width)||0)/2,h=e.pointWidth,u=h?h/2:0;t.startXPos=o?r.x:l?-c-u:a.width-c+u,t.startYPos=o?l?this.yAxis.height-c+u:-c-u:r.y,i?"hidden"===t.visibility&&(t.show(),t.attr({opacity:0}).animate({opacity:1})):t.attr({opacity:1}).animate({opacity:0},void 0,t.hide),s.hasRendered&&(n&&t.attr({x:t.startXPos,y:t.startYPos}),t.placed=!0)}e.compose=function(e){let r=e.prototype;r.initDataLabels||(r.initDataLabels=m,r.initDataLabelsGroup=i,r.alignDataLabel=n,r.drawDataLabels=v,r.justifyDataLabel=y,r.setDataLabelStartPos=x,r.hasDataLabels=t)}}(i||(i={})),i})),n(t,"Series/Column/ColumnDataLabel.js",[t["Core/Series/DataLabel.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i){var r;let{composed:s}=t,{series:o}=n,{merge:a,pick:l,pushUnique:c}=i;return function(t){function n(e,t,n,i,r){let s=this.chart.inverted,c=e.series,h=(c.xAxis?c.xAxis.len:this.chart.plotSizeX)||0,u=(c.yAxis?c.yAxis.len:this.chart.plotSizeY)||0,d=e.dlBox||e.shapeArgs,p=l(e.below,e.plotY>l(this.translatedThreshold,u)),f=l(n.inside,!!this.options.stacking);if(d){if(i=a(d),"allow"!==n.overflow||!1!==n.crop){i.y<0&&(i.height+=i.y,i.y=0);let e=i.y+i.height-u;e>0&&e<i.height-1&&(i.height-=e)}s&&(i={x:u-i.y-i.height,y:h-i.x-i.width,width:i.height,height:i.width}),f||(s?(i.x+=p?0:i.width,i.width=0):(i.y+=p?i.height:0,i.height=0))}n.align=l(n.align,!s||f?"center":p?"right":"left"),n.verticalAlign=l(n.verticalAlign,s||f?"middle":p?"top":"bottom"),o.prototype.alignDataLabel.call(this,e,t,n,i,r),n.inside&&e.contrastColor&&t.css({color:e.contrastColor})}t.compose=function(t){e.compose(o),c(s,"ColumnDataLabel")&&(t.prototype.alignDataLabel=n)}}(r||(r={})),r})),n(t,"Series/Bar/BarSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n){let{extend:i,merge:r}=n;class s extends e{}return s.defaultOptions=r(e.defaultOptions,{}),i(s.prototype,{inverted:!0}),t.registerSeriesType("bar",s),s})),n(t,"Series/Scatter/ScatterSeriesDefaults.js",[],(function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}})),n(t,"Series/Scatter/ScatterSeries.js",[t["Series/Scatter/ScatterSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n){let{column:i,line:r}=t.seriesTypes,{addEvent:s,extend:o,merge:a}=n;class l extends r{applyJitter(){let e=this,t=this.options.jitter,n=this.points.length;t&&this.points.forEach((function(i,r){["x","y"].forEach((function(s,o){if(t[s]&&!i.isNull){let a="plot".concat(s.toUpperCase()),l=e["".concat(s,"Axis")],c=t[s]*l.transA;if(l&&!l.logarithmic){let e=Math.max(0,(i[a]||0)-c),t=Math.min(l.len,(i[a]||0)+c);i[a]=e+(t-e)*function(e){let t=1e4*Math.sin(e);return t-Math.floor(t)}(r+o*n),"x"===s&&(i.clientX=i.plotX)}}}))}))}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return l.defaultOptions=a(r.defaultOptions,e),o(l.prototype,{drawTracker:i.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),s(l,"afterTranslate",(function(){this.applyJitter()})),t.registerSeriesType("scatter",l),l})),n(t,"Series/CenteredUtilities.js",[t["Core/Globals.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],(function(e,t,n){var i,r;let{deg2rad:s}=e,{fireEvent:o,isNumber:a,pick:l,relativeLength:c}=n;return(r=i||(i={})).getCenter=function(){let e,n,i,r=this.options,s=this.chart,h=2*(r.slicedOffset||0),u=s.plotWidth-2*h,d=s.plotHeight-2*h,p=r.center,f=Math.min(u,d),g=r.thickness,m=r.size,v=r.innerSize||0;"string"==typeof m&&(m=parseFloat(m)),"string"==typeof v&&(v=parseFloat(v));let y=[l(p[0],"50%"),l(p[1],"50%"),l(m&&m<0?void 0:r.size,"100%"),l(v&&v<0?void 0:r.innerSize||0,"0%")];for(!s.angular||this instanceof t||(y[3]=0),n=0;n<4;++n)i=y[n],e=n<2||2===n&&/%$/.test(i),y[n]=c(i,[u,d,f,y[2]][n])+(e?h:0);return y[3]>y[2]&&(y[3]=y[2]),a(g)&&2*g<y[2]&&g>0&&(y[3]=y[2]-2*g),o(this,"afterGetCenter",{positions:y}),y},r.getStartAndEndRadians=function(e,t){let n=a(e)?e:0,i=a(t)&&t>n&&t-n<360?t:n+360;return{start:s*(n+-90),end:s*(i+-90)}},i})),n(t,"Series/Pie/PiePoint.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(e,t,n){let{setAnimation:i}=e,{addEvent:r,defined:s,extend:o,isNumber:a,pick:l,relativeLength:c}=n;class h extends t{getConnectorPath(e){let t=e.dataLabelPosition,n=e.options||{},i=n.connectorShape,r=this.connectorShapes[i]||i;return t&&r.call(this,{...t.computed,alignment:t.alignment},t.connectorPosition,n)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(e){let t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+e,t.r+e,{innerR:t.r-1,start:t.start,end:t.end,borderRadius:t.borderRadius})}constructor(e,t,n){var i;super(e,t,n),this.half=0,null!==(i=this.name)&&void 0!==i||(this.name="Slice");let s=e=>{this.slice("select"===e.type)};r(this,"select",s),r(this,"unselect",s)}isValid(){return a(this.y)&&this.y>=0}setVisible(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e!==this.visible&&this.update({visible:null!==e&&void 0!==e?e:!this.visible},t,void 0,!1)}slice(e,t,n){let r=this.series;i(n,r.chart),t=l(t,!0),this.sliced=this.options.sliced=e=s(e)?e:!this.sliced,r.options.data[r.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return o(h.prototype,{connectorShapes:{fixedOffset:function(e,t,n){let i=t.breakAt,r=t.touchingSliceAt,s=n.softConnector?["C",e.x+("left"===e.alignment?-5:5),e.y,2*i.x-r.x,2*i.y-r.y,i.x,i.y]:["L",i.x,i.y];return[["M",e.x,e.y],s,["L",r.x,r.y]]},straight:function(e,t){let n=t.touchingSliceAt;return[["M",e.x,e.y],["L",n.x,n.y]]},crookedLine:function(e,t,n){let{breakAt:i,touchingSliceAt:r}=t,{series:s}=this,[o,a,l]=s.center,h=l/2,{plotLeft:u,plotWidth:d}=s.chart,p="left"===e.alignment,{x:f,y:g}=e,m=i.x;if(n.crookDistance){let e=c(n.crookDistance,1);m=p?o+h+(d+u-o-h)*(1-e):u+(o-h)*e}else m=o+(a-g)*Math.tan((this.angle||0)-Math.PI/2);let v=[["M",f,g]];return(p?m<=f&&m>=i.x:m>=f&&m<=i.x)&&v.push(["L",m,g]),v.push(["L",i.x,i.y],["L",r.x,r.y]),v}}}),h})),n(t,"Series/Pie/PieSeriesDefaults.js",[],(function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}})),n(t,"Series/Pie/PieSeries.js",[t["Series/CenteredUtilities.js"],t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Series/Pie/PiePoint.js"],t["Series/Pie/PieSeriesDefaults.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/Symbols.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r,s,o,a,l){let{getStartAndEndRadians:c}=e,{noop:h}=n,{clamp:u,extend:d,fireEvent:p,merge:f,pick:g}=l;class m extends s{animate(e){let t=this,n=t.points,i=t.startAngleRad;e||n.forEach((function(e){let n=e.graphic,r=e.shapeArgs;n&&r&&(n.attr({r:g(e.startR,t.center&&t.center[3]/2),start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},t.options.animation))}))}drawEmpty(){let e,t,n=this.startAngleRad,i=this.endAngleRad,r=this.options;0===this.total&&this.center?(e=this.center[0],t=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(e,t,this.center[1]/2,0,n,i).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:a.arc(e,t,this.center[2]/2,0,{start:n,end:i,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":r.borderWidth,fill:r.fillColor||"none",stroke:r.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let e=this.chart.renderer;this.points.forEach((function(t){t.graphic&&t.hasNewShapeType()&&(t.graphic=t.graphic.destroy()),t.graphic||(t.graphic=e[t.shapeType](t.shapeArgs).add(t.series.group),t.delayedRendering=!0)}))}generatePoints(){super.generatePoints(),this.updateTotals()}getX(e,t,n,i){let r=this.center,s=this.radii?this.radii[n.index]||0:r[2]/2,o=i.dataLabelPosition,a=(null===o||void 0===o?void 0:o.distance)||0,l=Math.asin(u((e-r[1])/(s+a),-1,1));return r[0]+Math.cos(l)*(s+a)*(t?-1:1)+(a>0?(t?-1:1)*(i.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let e,t,n,i,r=this,s=r.chart;this.drawEmpty(),r.group&&!s.styledMode&&r.group.shadow(r.options.shadow),r.points.forEach((function(o){let a={};t=o.graphic,!o.isNull&&t?(i=o.shapeArgs,e=o.getTranslate(),s.styledMode||(n=r.pointAttribs(o,o.selected&&"select")),o.delayedRendering?(t.setRadialReference(r.center).attr(i).attr(e),s.styledMode||t.attr(n).attr({"stroke-linejoin":"round"}),o.delayedRendering=!1):(t.setRadialReference(r.center),s.styledMode||f(!0,a,n),f(!0,a,i,e),t.animate(a)),t.attr({visibility:o.visible?"inherit":"hidden"}),t.addClass(o.getClassName(),!0)):t&&(o.graphic=t.destroy())}))}sortByAngle(e,t){e.sort((function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t}))}translate(e){p(this,"translate"),this.generatePoints();let t,n,i,r,s,o,a,l=this.options,h=l.slicedOffset,u=c(l.startAngle,l.endAngle),d=this.startAngleRad=u.start,f=(this.endAngleRad=u.end)-d,g=this.points,m=l.ignoreHiddenPoint,v=g.length,y=0;for(e||(this.center=e=this.getCenter()),o=0;o<v;o++){a=g[o],t=d+y*f,a.isValid()&&(!m||a.visible)&&(y+=a.percentage/100),n=d+y*f;let l={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*t)/1e3,end:Math.round(1e3*n)/1e3};a.shapeType="arc",a.shapeArgs=l,(i=(n+t)/2)>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),a.slicedTranslation={translateX:Math.round(Math.cos(i)*h),translateY:Math.round(Math.sin(i)*h)},r=Math.cos(i)*e[2]/2,s=Math.sin(i)*e[2]/2,a.tooltipPos=[e[0]+.7*r,e[1]+.7*s],a.half=i<-Math.PI/2||i>Math.PI/2?1:0,a.angle=i}p(this,"afterTranslate")}updateTotals(){let e,t,n=this.points,i=n.length,r=this.options.ignoreHiddenPoint,s=0;for(e=0;e<i;e++)(t=n[e]).isValid()&&(!r||t.visible)&&(s+=t.y);for(e=0,this.total=s;e<i;e++)(t=n[e]).percentage=s>0&&(t.visible||!r)?t.y/s*100:0,t.total=s}}return m.defaultOptions=f(s.defaultOptions,r),d(m.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:t.prototype.drawTracker,getCenter:e.getCenter,getSymbol:h,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:t.prototype.pointAttribs,pointClass:i,requireSorting:!1,searchPoint:h,trackerGroups:["group","dataLabelsGroup"]}),o.registerSeriesType("pie",m),m})),n(t,"Series/Pie/PieDataLabel.js",[t["Core/Series/DataLabel.js"],t["Core/Globals.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(e,t,n,i,r){var s;let{composed:o,noop:a}=t,{distribute:l}=n,{series:c}=i,{arrayMax:h,clamp:u,defined:d,pick:p,pushUnique:f,relativeLength:g}=r;return function(t){let n={radialDistributionY:function(e,t){var n;return((null===(n=t.dataLabelPosition)||void 0===n?void 0:n.top)||0)+e.distributeBox.pos},radialDistributionX:function(e,t,n,i,r){let s=r.dataLabelPosition;return e.getX(n<((null===s||void 0===s?void 0:s.top)||0)+2||n>((null===s||void 0===s?void 0:s.bottom)||0)-2?i:n,t.half,t,r)},justify:function(e,t,n,i){var r;return i[0]+(e.half?-1:1)*(n+((null===(r=t.dataLabelPosition)||void 0===r?void 0:r.distance)||0))},alignToPlotEdges:function(e,t,n,i){let r=e.getBBox().width;return t?r+i:n-r-i},alignToConnectors:function(e,t,n,i){let r,s=0;return e.forEach((function(e){(r=e.dataLabel.getBBox().width)>s&&(s=r)})),t?s+i:n-s-i}};function i(e,t){let{center:n,options:i}=this,r=n[2]/2,s=e.angle||0,o=Math.cos(s),a=Math.sin(s),l=n[0]+o*r,c=n[1]+a*r,h=Math.min((i.slicedOffset||0)+(i.borderWidth||0),t/5);return{natural:{x:l+o*t,y:c+a*t},computed:{},alignment:t<0?"center":e.half?"right":"left",connectorPosition:{breakAt:{x:l+o*h,y:c+a*h},touchingSliceAt:{x:l,y:c}},distance:t}}function r(){var e;let t,n,i,r=this,s=r.points,o=r.chart,a=o.plotWidth,u=o.plotHeight,f=o.plotLeft,m=Math.round(o.chartWidth/3),v=r.center,y=v[2]/2,b=v[1],w=[[],[]],x=[0,0,0,0],S=r.dataLabelPositioners,k=0;r.visible&&(null===(e=r.hasDataLabels)||void 0===e?void 0:e.call(r))&&(s.forEach((e=>{(e.dataLabels||[]).forEach((e=>{e.shortened&&(e.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),e.shortened=!1)}))})),c.prototype.drawDataLabels.apply(r),s.forEach((e=>{(e.dataLabels||[]).forEach(((t,n)=>{var i;let r=v[2]/2,s=t.options,o=g((null===s||void 0===s?void 0:s.distance)||0,r);0===n&&w[e.half].push(e),!d(null===s||void 0===s||null===(i=s.style)||void 0===i?void 0:i.width)&&t.getBBox().width>m&&(t.css({width:Math.round(.7*m)+"px"}),t.shortened=!0),t.dataLabelPosition=this.getDataLabelPosition(e,o),k=Math.max(k,o)}))})),w.forEach(((e,t)=>{let s,c,h,g=e.length,m=[],w=0;g&&(r.sortByAngle(e,t-.5),k>0&&(s=Math.max(0,b-y-k),c=Math.min(b+y+k,o.plotHeight),e.forEach((e=>{(e.dataLabels||[]).forEach((t=>{var n;let i=t.dataLabelPosition;i&&i.distance>0&&(i.top=Math.max(0,b-y-i.distance),i.bottom=Math.min(b+y+i.distance,o.plotHeight),w=t.getBBox().height||21,t.lineHeight=o.renderer.fontMetrics(t.text||t).h+2*t.padding,e.distributeBox={target:((null===(n=t.dataLabelPosition)||void 0===n?void 0:n.natural.y)||0)-i.top+t.lineHeight/2,size:w,rank:e.y},m.push(e.distributeBox))}))})),l(m,h=c+w-s,h/5)),e.forEach((s=>{(s.dataLabels||[]).forEach((o=>{let l=o.options||{},c=s.distributeBox,h=o.dataLabelPosition,g=(null===h||void 0===h?void 0:h.natural.y)||0,b=l.connectorPadding||0,w=o.lineHeight||21,k=(w-o.getBBox().height)/2,_=0,T=g,C="inherit";if(h){if(m&&d(c)&&h.distance>0&&(void 0===c.pos?C="hidden":(i=c.size,T=S.radialDistributionY(s,o))),l.justify)_=S.justify(s,o,y,v);else switch(l.alignTo){case"connectors":_=S.alignToConnectors(e,t,a,f);break;case"plotEdges":_=S.alignToPlotEdges(o,t,a,f);break;default:_=S.radialDistributionX(r,s,T-k,g,o)}if(h.attribs={visibility:C,align:h.alignment},h.posAttribs={x:_+(l.x||0)+({left:b,right:-b}[h.alignment]||0),y:T+(l.y||0)-w/2},h.computed.x=_,h.computed.y=T-k,p(l.crop,!0)){let e;_-(n=o.getBBox().width)<b&&1===t?(e=Math.round(n-_+b),x[3]=Math.max(e,x[3])):_+n>a-b&&0===t&&(e=Math.round(_+n-a+b),x[1]=Math.max(e,x[1])),T-i/2<0?x[0]=Math.max(Math.round(i/2-T),x[0]):T+i/2>u&&(x[2]=Math.max(Math.round(T+i/2-u),x[2])),h.sideOverflow=e}}}))})))})),(0===h(x)||this.verifyDataLabelOverflow(x))&&(this.placeDataLabels(),this.points.forEach((e=>{(e.dataLabels||[]).forEach((n=>{let{connectorColor:i,connectorWidth:s=1}=n.options||{},a=n.dataLabelPosition;if(s){var l;let c;t=n.connector,a&&a.distance>0?(c=!t,t||(n.connector=t=o.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(r.dataLabelsGroup)),o.styledMode||t.attr({"stroke-width":s,stroke:i||e.color||"#666666"}),t[c?"attr":"animate"]({d:e.getConnectorPath(n)}),t.attr({visibility:null===(l=a.attribs)||void 0===l?void 0:l.visibility})):t&&(n.connector=t.destroy())}}))}))))}function s(){this.points.forEach((e=>{(e.dataLabels||[]).forEach((e=>{var t;let n=e.dataLabelPosition;n?(n.sideOverflow&&(e.css({width:Math.max(e.getBBox().width-n.sideOverflow,0)+"px",textOverflow:((null===(t=e.options)||void 0===t?void 0:t.style)||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(n.attribs),e[e.moved?"animate":"attr"](n.posAttribs),e.moved=!0):e&&e.attr({y:-9999})})),delete e.distributeBox}),this)}function m(e){let t=this.center,n=this.options,i=n.center,r=n.minSize||80,s=r,o=null!==n.size;return!o&&(null!==i[0]?s=Math.max(t[2]-Math.max(e[1],e[3]),r):(s=Math.max(t[2]-e[1]-e[3],r),t[0]+=(e[3]-e[1])/2),null!==i[1]?s=u(s,r,t[2]-Math.max(e[0],e[2])):(s=u(s,r,t[2]-e[0]-e[2]),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,t[3]=Math.min(n.thickness?Math.max(0,s-2*n.thickness):Math.max(0,g(n.innerSize||0,s)),s),this.translate(t),this.drawDataLabels&&this.drawDataLabels()):o=!0),o}t.compose=function(t){if(e.compose(c),f(o,"PieDataLabel")){let e=t.prototype;e.dataLabelPositioners=n,e.alignDataLabel=a,e.drawDataLabels=r,e.getDataLabelPosition=i,e.placeDataLabels=s,e.verifyDataLabelOverflow=m}}}(s||(s={})),s})),n(t,"Core/Geometry/GeometryUtilities.js",[],(function(){var e,t;return(t=e||(e={})).getCenterOfPoints=function(e){let t=e.reduce(((e,t)=>(e.x+=t.x,e.y+=t.y,e)),{x:0,y:0});return{x:t.x/e.length,y:t.y/e.length}},t.getDistanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getAngleBetweenPoints=function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)},t.pointInPolygon=function(e,t){let n,i,{x:r,y:s}=e,o=t.length,a=!1;for(n=0,i=o-1;n<o;i=n++){let[e,o]=t[n],[l,c]=t[i];o>s!=c>s&&r<(l-e)*(s-o)/(c-o)+e&&(a=!a)}return a},e})),n(t,"Extensions/OverlappingDataLabels.js",[t["Core/Geometry/GeometryUtilities.js"],t["Core/Utilities.js"]],(function(e,t){let{pointInPolygon:n}=e,{addEvent:i,fireEvent:r,objectEach:s,pick:o}=t;function a(e){let t,i,s,o,a,c=e.length,h=(e,t)=>!(t.x>=e.x+e.width||t.x+t.width<=e.x||t.y>=e.y+e.height||t.y+t.height<=e.y),u=(e,t)=>{for(let i of e)if(n({x:i[0],y:i[1]},t))return!0;return!1},d=!1;for(let n=0;n<c;n++)(t=e[n])&&(t.oldOpacity=t.opacity,t.newOpacity=1,t.absoluteBox=function(e){if(e&&(!e.alignAttr||e.placed)){var t,n;let i=e.box?0:e.padding||0,r=e.alignAttr||{x:e.attr("x"),y:e.attr("y")},s=e.getBBox();return e.width=s.width,e.height=s.height,{x:r.x+((null===(t=e.parentGroup)||void 0===t?void 0:t.translateX)||0)+i,y:r.y+((null===(n=e.parentGroup)||void 0===n?void 0:n.translateY)||0)+i,width:(e.width||0)-2*i,height:(e.height||0)-2*i,polygon:null===s||void 0===s?void 0:s.polygon}}}(t));e.sort(((e,t)=>(t.labelrank||0)-(e.labelrank||0)));for(let n=0;n<c;++n){var p;o=(i=e[n])&&i.absoluteBox;let t=null===(p=o)||void 0===p?void 0:p.polygon;for(let r=n+1;r<c;++r){a=(s=e[r])&&s.absoluteBox;let n=!1;if(o&&a&&i!==s&&0!==i.newOpacity&&0!==s.newOpacity&&"hidden"!==i.visibility&&"hidden"!==s.visibility){let e=a.polygon;if(t&&e&&t!==e?u(t,e)&&(n=!0):h(o,a)&&(n=!0),n){let e=i.labelrank<s.labelrank?i:s,t=e.text;e.newOpacity=0,(null===t||void 0===t?void 0:t.element.querySelector("textPath"))&&t.hide()}}}}for(let n of e)l(n,this)&&(d=!0);d&&r(this,"afterHideAllOverlappingLabels")}function l(e,t){let n,i,s=!1;return e&&(i=e.newOpacity,e.oldOpacity!==i&&(e.hasClass("highcharts-data-label")?(e[i?"removeClass":"addClass"]("highcharts-data-label-hidden"),n=function(){t.styledMode||e.css({pointerEvents:i?"auto":"none"})},s=!0,e[e.isOld?"animate":"attr"]({opacity:i},void 0,n),r(t,"afterHideOverlappingLabel")):e.attr({opacity:i})),e.isOld=!0),s}function c(){let e=this,t=[];for(let i of e.labelCollectors||[])t=t.concat(i());for(let i of e.yAxis||[])i.stacking&&i.options.stackLabels&&!i.options.stackLabels.allowOverlap&&s(i.stacking.stacks,(e=>{s(e,(e=>{e.label&&t.push(e.label)}))}));for(let i of e.series||[]){var n;if(i.visible&&null!==(n=i.hasDataLabels)&&void 0!==n&&n.call(i)){let n=n=>{for(let i of n)i.visible&&(i.dataLabels||[]).forEach((n=>{var r,s;let a=n.options||{};n.labelrank=o(a.labelrank,i.labelrank,null===(r=i.shapeArgs)||void 0===r?void 0:r.height),(null!==(s=a.allowOverlap)&&void 0!==s?s:Number(a.distance)>0)?(n.oldOpacity=n.opacity,n.newOpacity=1,l(n,e)):t.push(n)}))};n(i.nodes||[]),n(i.points)}}this.hideOverlappingLabels(t)}return{compose:function(e){let t=e.prototype;t.hideOverlappingLabels||(t.hideOverlappingLabels=a,i(e,"render",c))}}})),n(t,"Extensions/BorderRadius.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(e,t,n){let{defaultOptions:i}=e,{noop:r}=t,{addEvent:s,extend:o,isObject:a,merge:l,relativeLength:c}=n,h={radius:0,scope:"stack",where:void 0},u=r,d=r;function p(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=u(e,t,n,i,r),{innerR:o=0,r:a=n,start:l=0,end:h=0}=r;if(r.open||!r.borderRadius)return s;let d=h-l,p=Math.sin(d/2),f=Math.max(Math.min(c(r.borderRadius||0,a-o),(a-o)/2,a*p/(1+p)),0),g=Math.min(f,d/Math.PI*2*o),m=s.length-1;for(;m--;)!function(e,t,n){let i,r,s,o=e[t],a=e[t+1];if("Z"===a[0]&&(a=e[0]),"M"!==o[0]&&"L"!==o[0]||"A"!==a[0]?"A"===o[0]&&("M"===a[0]||"L"===a[0])&&(i=a,r=o):(i=o,r=a,s=!0),i&&r&&r.params){let o=r[1],a=r[5],l=r.params,{start:c,end:h,cx:u,cy:d}=l,p=a?o-n:o+n,f=p?Math.asin(n/p):0,g=a?f:-f,m=Math.cos(f)*p;s?(l.start=c+g,i[1]=u+m*Math.cos(c),i[2]=d+m*Math.sin(c),e.splice(t+1,0,["A",n,n,0,0,1,u+o*Math.cos(l.start),d+o*Math.sin(l.start)])):(l.end=h-g,r[6]=u+o*Math.cos(l.end),r[7]=d+o*Math.sin(l.end),e.splice(t+1,0,["A",n,n,0,0,1,u+m*Math.cos(h),d+m*Math.sin(h)])),r[4]=Math.abs(l.end-l.start)<Math.PI?0:1}}(s,m,m>1?g:f);return s}function f(){if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){var e;let{options:t,yAxis:n}=this,r="percent"===t.stacking,s=null===(e=i.plotOptions)||void 0===e||null===(e=e[this.type])||void 0===e?void 0:e.borderRadius,l=g(t.borderRadius,a(s)?s:{}),h=n.options.reversed;for(let e of this.points){let{shapeArgs:i}=e;if("roundedRect"===e.shapeType&&i){let{width:s=0,height:a=0,y:u=0}=i,d=u,p=a;if("stack"===l.scope&&e.stackTotal){let i=n.translate(r?100:e.stackTotal,!1,!0,!1,!0),s=n.translate(t.threshold||0,!1,!0,!1,!0),o=this.crispCol(0,Math.min(i,s),0,Math.abs(i-s));d=o.y,p=o.height}let f=(e.negative?-1:1)*(h?-1:1)==-1,g=l.where;!g&&this.is("waterfall")&&Math.abs((e.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(g="all"),g||(g="end");let m=Math.min(c(l.radius,s),s/2,"all"===g?a/2:1/0)||0;"end"===g&&(f&&(d-=m),p+=m),o(i,{brBoxHeight:p,brBoxY:d,r:m})}}}}function g(e,t){return a(e)||(e={radius:e||0}),l(h,t,e)}function m(){let e=g(this.options.borderRadius);for(let t of this.points){let n=t.shapeArgs;n&&(n.borderRadius=c(e.radius,(n.r||0)-(n.innerR||0)))}}function v(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=d(e,t,n,i,r),{r:o=0,brBoxHeight:a=i,brBoxY:l=t}=r,c=t-l,h=l+a-(t+i),u=c-o>-.1?0:o,p=h-o>-.1?0:o,f=Math.max(u&&c,0),g=Math.max(p&&h,0),m=[e+u,t],v=[e+n-u,t],y=[e+n,t+u],b=[e+n,t+i-p],w=[e+n-p,t+i],x=[e+p,t+i],S=[e,t+i-p],k=[e,t+u],_=(e,t)=>Math.sqrt(Math.pow(e,2)-Math.pow(t,2));if(f){let e=_(u,u-f);m[0]-=e,v[0]+=e,y[1]=k[1]=t+u-f}if(i<u-f){let r=_(u,u-f-i);y[0]=b[0]=e+n-u+r,w[0]=Math.min(y[0],w[0]),x[0]=Math.max(b[0],x[0]),S[0]=k[0]=e+u-r,y[1]=k[1]=t+i}if(g){let e=_(p,p-g);w[0]+=e,x[0]-=e,b[1]=S[1]=t+i-p+g}if(i<p-g){let r=_(p,p-g-i);y[0]=b[0]=e+n-p+r,v[0]=Math.min(y[0],v[0]),m[0]=Math.max(b[0],m[0]),S[0]=k[0]=e+p-r,b[1]=S[1]=t}return s.length=0,s.push(["M",...m],["L",...v],["A",u,u,0,0,1,...y],["L",...b],["A",p,p,0,0,1,...w],["L",...x],["A",p,p,0,0,1,...S],["L",...k],["A",u,u,0,0,1,...m],["Z"]),s}return{compose:function(e,t,n){let i=e.types.pie;if(!t.symbolCustomAttribs.includes("borderRadius")){let r=n.prototype.symbols;s(e,"afterColumnTranslate",f,{order:9}),s(i,"afterTranslate",m),t.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),u=r.arc,d=r.roundedRect,r.arc=p,r.roundedRect=v}},optionsToObject:g}})),n(t,"Core/Responsive.js",[t["Core/Utilities.js"]],(function(e){var t;let{diffObjects:n,extend:i,find:r,merge:s,pick:o,uniqueKey:a}=e;return function(e){function t(e,t){let n=e.condition;(n.callback||function(){return this.chartWidth<=o(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o(n.minWidth,0)&&this.chartHeight>=o(n.minHeight,0)}).call(this)&&t.push(e._id)}function l(e,t){let i,o=this.options.responsive,l=this.currentResponsive,c=[];!t&&o&&o.rules&&o.rules.forEach((e=>{void 0===e._id&&(e._id=a()),this.matchResponsiveRule(e,c)}),this);let h=s(...c.map((e=>r((o||{}).rules||[],(t=>t._id===e)))).map((e=>e&&e.chartOptions)));h.isResponsiveOptions=!0,c=c.toString()||void 0;let u=l&&l.ruleIds;c===u||(l&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(l.undoOptions,e,!0),this.updatingResponsive=!1),c?((i=n(h,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:c,mergedOptions:h,undoOptions:i},this.updatingResponsive||this.update(h,e,!0)):this.currentResponsive=void 0)}e.compose=function(e){let n=e.prototype;return n.matchResponsiveRule||i(n,{matchResponsiveRule:t,setResponsive:l}),e}}(t||(t={})),t})),n(t,"masters/highcharts.src.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Core/Defaults.js"],t["Core/Animation/Fx.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Renderer/HTML/AST.js"],t["Core/Templating.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Renderer/RendererUtilities.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Renderer/HTML/HTMLElement.js"],t["Core/Axis/Axis.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Axis/LogarithmicAxis.js"],t["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],t["Core/Axis/Tick.js"],t["Core/Tooltip.js"],t["Core/Series/Point.js"],t["Core/Pointer.js"],t["Core/Legend/Legend.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Chart/Chart.js"],t["Extensions/ScrollablePlotArea.js"],t["Core/Axis/Stacking/StackingAxis.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Column/ColumnDataLabel.js"],t["Series/Pie/PieDataLabel.js"],t["Core/Series/DataLabel.js"],t["Extensions/OverlappingDataLabels.js"],t["Extensions/BorderRadius.js"],t["Core/Responsive.js"],t["Core/Color/Color.js"],t["Core/Time.js"]],(function(e,t,n,i,r,s,o,a,l,c,h,u,d,p,f,g,m,v,y,b,w,x,S,k,_,T,C,E,I,A,P,N,M,O,L,D){return e.AST=s,e.Axis=d,e.Chart=S,e.Color=L,e.DataLabel=P,e.Fx=i,e.HTMLElement=u,e.Legend=w,e.LegendSymbol=x,e.OverlappingDataLabels=e.OverlappingDataLabels||N,e.PlotLineOrBand=g,e.Point=y,e.Pointer=b,e.RendererRegistry=a,e.Series=C,e.SeriesRegistry=E,e.StackItem=T,e.SVGElement=c,e.SVGRenderer=h,e.Templating=o,e.Tick=m,e.Time=D,e.Tooltip=v,e.animate=r.animate,e.animObject=r.animObject,e.chart=S.chart,e.color=L.parse,e.dateFormat=o.dateFormat,e.defaultOptions=n.defaultOptions,e.distribute=l.distribute,e.format=o.format,e.getDeferredAnimation=r.getDeferredAnimation,e.getOptions=n.getOptions,e.numberFormat=o.numberFormat,e.seriesType=E.seriesType,e.setAnimation=r.setAnimation,e.setOptions=n.setOptions,e.stop=r.stop,e.time=n.defaultTime,e.timers=i.timers,M.compose(e.Series,e.SVGElement,e.SVGRenderer),I.compose(e.Series.types.column),P.compose(e.Series),p.compose(e.Axis),u.compose(e.SVGRenderer),w.compose(e.Chart),f.compose(e.Axis),N.compose(e.Chart),A.compose(e.Series.types.pie),g.compose(e.Chart,e.Axis),b.compose(e.Chart),O.compose(e.Chart),k.compose(e.Axis,e.Chart,e.Series),_.compose(e.Axis,e.Chart,e.Series),v.compose(e.Pointer),t.extend(e,t),e})),t["masters/highcharts.src.js"]._modules=t,t["masters/highcharts.src.js"]},e.exports?(s.default=s,e.exports=r&&r.document?s(r):s):void 0===(i=function(){return s(r)}.call(t,n,t,e))||(e.exports=i)},90:e=>{"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},i=0;i<24;i+=1)n[112+i]="F"+(i+1);for(var r=0;r<26;r+=1){var s=r+65;n[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var o={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var i=t(e);if(i&&e.key)return e.key;var r=n[i?e.keyCode||e.which:e];return Array.isArray(r)&&(r=i?r[e.shiftKey?1:0]:r[0]),r},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],e.exports=o},497:(e,t,n)=>{"use strict";var i=n(218);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,o){if(o!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},554:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var i=n(43),r=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,i,r,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!u.call(f,e)||!u.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var R,j=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case T:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=W(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=H(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),i=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,he,ue=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,_e=null;function Te(e){if(e=br(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=xr(t),Se(e.stateNode,e.type,t))}}function Ce(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Ee(){if(ke){var e=ke,t=_e;if(_e=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==ke||null!==_e)&&(Ae(),Ee())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(h)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(he){Oe=!1}function De(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Re=!1,je=null,Fe=!1,Ue=null,Be={onError:function(e){Re=!0,je=e}};function ze(e,t,n,i,r,s,o,a,l){Re=!1,je=null,De.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return He(r),e;if(o===i)return He(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Je=r.unstable_now,$e=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ht=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=ut(a):0!==(s&=o)&&(i=ut(s))}else 0!==(o=n&~r)?i=ut(o):0!==s&&(i=ut(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,kt,_t,Tt,Ct=!1,Et=[],It=null,At=null,Pt=null,Nt=new Map,Mt=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Rt(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&St(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function jt(e){var t=yr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&St(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);we=i,n.target.dispatchEvent(i),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Ct=!1,null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),Nt.forEach(Ut),Mt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var i=Et[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==It&&zt(It,e),null!==At&&zt(At,e),null!==Pt&&zt(Pt,e),Nt.forEach(t),Mt.forEach(t),n=0;n<Ot.length;n++)(i=Ot[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var Gt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,i){var r=bt,s=Gt.transition;Gt.transition=null;try{bt=1,Xt(e,t,n,i)}finally{bt=r,Gt.transition=s}}function qt(e,t,n,i){var r=bt,s=Gt.transition;Gt.transition=null;try{bt=4,Xt(e,t,n,i)}finally{bt=r,Gt.transition=s}}function Xt(e,t,n,i){if(Ht){var r=Kt(e,t,n,i);if(null===r)Hi(e,t,i,Yt,n),Dt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return It=Rt(It,e,t,n,i,r),!0;case"dragenter":return At=Rt(At,e,t,n,i,r),!0;case"mouseover":return Pt=Rt(Pt,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Nt.set(s,Rt(Nt.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Mt.set(s,Rt(Mt.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Dt(e,i),4&t&&-1<Lt.indexOf(e)){for(;null!==r;){var s=br(r);if(null!==s&&xt(s),null===(s=Kt(e,t,n,i))&&Hi(e,t,i,Yt,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Hi(e,t,i,null,n)}}var Yt=null;function Kt(e,t,n,i){if(Yt=null,null!==(e=yr(e=xe(i))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,i=n.length,r="value"in Jt?Jt.value:Jt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,i,r,s){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(cn),un=j({},cn,{view:0,detail:0}),dn=sn(un),pn=j({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(pn),gn=sn(j({},pn,{dataTransfer:0})),mn=sn(j({},un,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(j({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return _n}var Cn=j({},un,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Cn),In=sn(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(j({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Nn),On=[9,13,27,32],Ln=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var Rn=h&&"TextEvent"in window&&!Dn,jn=h&&(!Ln||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Wn(e,t,n,i){Ce(i),0<(t=qi(t,"onChange")).length&&(n=new hn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Yn(e){Fi(e,0)}function Kn(e){if(X(wr(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(h){var $n;if(h){var Zn="oninput"in document;if(!Zn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zn="function"===typeof ei.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function ti(){qn&&(qn.detachEvent("onpropertychange",ni),Xn=qn=null)}function ni(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Wn(t,Xn,e,xe(e)),Ne(Yn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Xn=n,(qn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function si(e,t){if("click"===e)return Kn(t)}function oi(e,t){if("input"===e||"change"===e)return Kn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!u.call(t,r)||!ai(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function ui(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ui(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=hi(n,s);var o=hi(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=h&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,bi=!1;function wi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==mi||mi!==Y(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=qi(vi,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},ki={},_i={};function Ti(e){if(ki[e])return ki[e];if(!Si[e])return e;var t,n=Si[e];for(t in n)if(n.hasOwnProperty(t)&&t in _i)return ki[e]=n[t];return e}h&&(_i=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var Ci=Ti("animationend"),Ei=Ti("animationiteration"),Ii=Ti("animationstart"),Ai=Ti("transitionend"),Pi=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){Pi.set(e,t),l(t,[e])}for(var Oi=0;Oi<Ni.length;Oi++){var Li=Ni[Oi];Mi(Li.toLowerCase(),"on"+(Li[0].toUpperCase()+Li.slice(1)))}Mi(Ci,"onAnimationEnd"),Mi(Ei,"onAnimationIteration"),Mi(Ii,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Ai,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ri=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function ji(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,a,l,c){if(ze.apply(this,arguments),Re){if(!Re)throw Error(s(198));var h=je;Re=!1,je=null,Fe||(Fe=!0,Ue=h)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;ji(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;ji(r,a,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ui(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(Gi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Gi(n,e,i,t)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[zi]){e[zi]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ri.has(t)||Bi(t,!1,e),Bi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zi]||(t[zi]=!0,Bi("selectionchange",!1,t))}}function Gi(e,t,n,i){switch(Qt(t)){case 1:var r=Wt;break;case 4:r=qt;break;default:r=Xt}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hi(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=yr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue e}a=a.parentNode}}i=i.return}Ne((function(){var i=s,r=xe(n),o=[];e:{var a=Pi.get(e);if(void 0!==a){var l=hn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ci:case Ei:case Ii:l=vn;break;case Ai:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var h=0!==(4&t),u=!h&&"scroll"===e,d=h?null!==a?a+"Capture":null:a;h=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Me(f,d))&&h.push(Wi(f,g,p)))),u)break;f=f.return}0<h.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[fr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(h=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(h=In,g="onPointerLeave",d="onPointerEnter",f="pointer"),u=null==l?a:wr(l),p=null==c?a:wr(c),(a=new h(g,f+"leave",l,n,r)).target=u,a.relatedTarget=p,g=null,yr(r)===i&&((h=new h(d,f+"enter",c,n,r)).target=p,h.relatedTarget=u,g=h),u=g,l&&c)e:{for(d=c,f=0,p=h=l;p;p=Xi(p))f++;for(p=0,g=d;g;g=Xi(g))p++;for(;0<f-p;)h=Xi(h),f--;for(;0<p-f;)d=Xi(d),p--;for(;f--;){if(h===d||null!==d&&h===d.alternate)break e;h=Xi(h),d=Xi(d)}h=null}else h=null;null!==l&&Yi(o,a,l,h,!1),null!==c&&null!==u&&Yi(o,u,c,h,!0)}if("select"===(l=(a=i?wr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Qn;else if(Hn(a))if(Jn)m=oi;else{m=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=si);switch(m&&(m=m(e,i))?Wn(o,m,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?wr(i):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":wi(o,n,r)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):($t="value"in(Jt=r)?Jt.value:Jt.textContent,Vn=!0)),0<(v=qi(i,b)).length&&(b=new wn(b,e,null,n,r),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Zt=$t=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Fi(o,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Me(e,n))&&i.unshift(Wi(e,s,r)),null!=(s=Me(e,t))&&i.push(Wi(e,s,r))),e=e.return}return i}function Xi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yi(e,t,n,i,r){for(var s=t._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Me(n,s))&&o.unshift(Wi(n,l,a)):r||null!=(l=Me(n,s))&&o.push(Wi(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Ki=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Ji(e){return("string"===typeof e?e:""+e).replace(Ki,"\n").replace(Qi,"")}function $i(e,t,n){if(t=Ji(t),Ji(e)!==t&&n)throw Error(s(425))}function Zi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(ar)}:ir;function ar(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Vt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Vt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),dr="__reactFiber$"+ur,pr="__reactProps$"+ur,fr="__reactContainer$"+ur,gr="__reactEvents$"+ur,mr="__reactListeners$"+ur,vr="__reactHandles$"+ur;function yr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hr(e);null!==e;){if(n=e[dr])return n;e=hr(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[dr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xr(e){return e[pr]||null}var Sr=[],kr=-1;function _r(e){return{current:e}}function Tr(e){0>kr||(e.current=Sr[kr],Sr[kr]=null,kr--)}function Cr(e,t){kr++,Sr[kr]=e.current,e.current=t}var Er={},Ir=_r(Er),Ar=_r(!1),Pr=Er;function Nr(e,t){var n=e.type.contextTypes;if(!n)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){Tr(Ar),Tr(Ir)}function Lr(e,t,n){if(Ir.current!==Er)throw Error(s(168));Cr(Ir,t),Cr(Ar,n)}function Dr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(s(108,G(e)||"Unknown",r));return j({},n,i)}function Rr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Pr=Ir.current,Cr(Ir,e),Cr(Ar,Ar.current),!0}function jr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Dr(e,t,Pr),i.__reactInternalMemoizedMergedChildContext=e,Tr(Ar),Tr(Ir),Cr(Ir,e)):Tr(Ar),Cr(Ar,n)}var Fr=null,Ur=!1,Br=!1;function zr(e){null===Fr?Fr=[e]:Fr.push(e)}function Vr(){if(!Br&&null!==Fr){Br=!0;var e=0,t=bt;try{var n=Fr;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Fr=null,Ur=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Xe(Ze,Vr),r}finally{bt=t,Br=!1}}return null}var Gr=[],Hr=0,Wr=null,qr=0,Xr=[],Yr=0,Kr=null,Qr=1,Jr="";function $r(e,t){Gr[Hr++]=qr,Gr[Hr++]=Wr,Wr=e,qr=t}function Zr(e,t,n){Xr[Yr++]=Qr,Xr[Yr++]=Jr,Xr[Yr++]=Kr,Kr=e;var i=Qr;e=Jr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var s=32-ot(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Qr=1<<32-ot(t)+r|n<<r|i,Jr=s+e}else Qr=1<<s|n<<r|i,Jr=e}function es(e){null!==e.return&&($r(e,1),Zr(e,1,0))}function ts(e){for(;e===Wr;)Wr=Gr[--Hr],Gr[Hr]=null,qr=Gr[--Hr],Gr[Hr]=null;for(;e===Kr;)Kr=Xr[--Yr],Xr[Yr]=null,Jr=Xr[--Yr],Xr[Yr]=null,Qr=Xr[--Yr],Xr[Yr]=null}var ns=null,is=null,rs=!1,ss=null;function os(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,is=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:Qr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,is=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=is;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var i=ns;t&&as(e,t)?os(i,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function hs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!rs)return hs(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=is)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=cr(t.nextSibling)}if(hs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=ns?cr(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=is;e;)e=cr(e.nextSibling)}function ps(){is=ns=null,rs=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=jc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===k?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&ys(s)===t.type)?((i=r(t,n.props)).ref=ms(e,t,n),i.return=e,i):((i=Lc(n.type,n.key,n.props,null,e.mode,i)).ref=ms(e,t,n),i.return=e,i)}function h(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,i,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(e,t,n,i):null;case S:return n.key===r?h(e,t,n,i):null;case M:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||D(n))return null!==r?null:u(e,t,n,i,null);vs(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case S:return h(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||D(i))return u(t,e=e.get(n)||null,i,r,null);vs(t,i)}return null}function g(r,s,a,l){for(var c=null,h=null,u=s,g=s=0,m=null;null!==u&&g<a.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var v=p(r,u,a[g],l);if(null===v){null===u&&(u=m);break}e&&u&&null===v.alternate&&t(r,u),s=o(v,s,g),null===h?c=v:h.sibling=v,h=v,u=m}if(g===a.length)return n(r,u),rs&&$r(r,g),c;if(null===u){for(;g<a.length;g++)null!==(u=d(r,a[g],l))&&(s=o(u,s,g),null===h?c=u:h.sibling=u,h=u);return rs&&$r(r,g),c}for(u=i(r,u);g<a.length;g++)null!==(m=f(u,r,g,a[g],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?c=m:h.sibling=m,h=m);return e&&u.forEach((function(e){return t(r,e)})),rs&&$r(r,g),c}function m(r,a,l,c){var h=D(l);if("function"!==typeof h)throw Error(s(150));if(null==(l=h.call(l)))throw Error(s(151));for(var u=h=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(r,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(r,g),a=o(b,a,m),null===u?h=b:u.sibling=b,u=b,g=v}if(y.done)return n(r,g),rs&&$r(r,m),h;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,m),null===u?h=y:u.sibling=y,u=y);return rs&&$r(r,m),h}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=f(g,r,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===u?h=y:u.sibling=y,u=y);return e&&g.forEach((function(e){return t(r,e)})),rs&&$r(r,m),h}return function e(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,h=s;null!==h;){if(h.key===c){if((c=o.type)===k){if(7===h.tag){n(i,h.sibling),(s=r(h,o.props.children)).return=i,i=s;break e}}else if(h.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&ys(c)===h.type){n(i,h.sibling),(s=r(h,o.props)).ref=ms(i,h,o),s.return=i,i=s;break e}n(i,h);break}t(i,h),h=h.sibling}o.type===k?((s=Dc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Lc(o.type,o.key,o.props,null,i.mode,l)).ref=ms(i,s,o),l.return=i,i=l)}return a(i);case S:e:{for(h=o.key;null!==s;){if(s.key===h){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=Fc(o,i.mode,l)).return=i,i=s}return a(i);case M:return e(i,s,(h=o._init)(o._payload),l)}if(te(o))return g(i,s,o,l);if(D(o))return m(i,s,o,l);vs(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=jc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var ws=bs(!0),xs=bs(!1),Ss=_r(null),ks=null,_s=null,Ts=null;function Cs(){Ts=_s=ks=null}function Es(e){var t=Ss.current;Tr(Ss),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function As(e,t){ks=e,Ts=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===ks)throw Error(s(308));_s=e,ks.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Ns=null;function Ms(e){null===Ns?Ns=[e]:Ns.push(e)}function Os(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Ms(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ls(e,i)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Il)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ls(e,n)}return null===(r=i.interleaved)?(t.next=t,Ms(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ls(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,i){var r=e.updateQueue;Ds=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var h=e.alternate;null!==h&&((a=(h=h.updateQueue).lastBaseUpdate)!==o&&(null===a?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(null!==s){var u=r.baseState;for(o=0,h=c=l=null,a=s;;){var d=a.lane,p=a.eventTime;if((i&d)===d){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(d=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(p,u,d);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(p,u,d):f)||void 0===d)break e;u=j({},u,d);break e;case 2:Ds=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=p,l=u):h=h.next=p,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===h&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=u}}function Gs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Hs={},Ws=_r(Hs),qs=_r(Hs),Xs=_r(Hs);function Ys(e){if(e===Hs)throw Error(s(174));return e}function Ks(e,t){switch(Cr(Xs,t),Cr(qs,e),Cr(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Tr(Ws),Cr(Ws,t)}function Qs(){Tr(Ws),Tr(qs),Tr(Xs)}function Js(e){Ys(Xs.current);var t=Ys(Ws.current),n=le(t,e.type);t!==n&&(Cr(qs,e),Cr(Ws,n))}function $s(e){qs.current===e&&(Tr(Ws),Tr(qs))}var Zs=_r(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var io=w.ReactCurrentDispatcher,ro=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,ho=!1,uo=0,po=0;function fo(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function mo(e,t,n,i,r,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:ea,e=n(i,r),ho){o=0;do{if(ho=!1,uo=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,io.current=ta,e=n(i,r)}while(ho)}if(io.current=$o,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function vo(){var e=0!==uo;return uo=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=ao,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,h=o;do{var u=h.lane;if((so&u)===u)null!==c&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:e(i,h.action);else{var d={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,oo.lanes|=u,Rl|=u}h=h.next}while(null!==h&&h!==o);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(ba=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,oo.lanes|=o,Rl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);ai(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ko(){}function _o(e,t){var n=oo,i=bo(),r=t(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,ba=!0),i=i.queue,Ro(Eo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,No(9,Co.bind(null,n,i,r,t),void 0,null),null===Al)throw Error(s(349));0!==(30&so)||To(n,t,r)}return r}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,i){t.value=n,t.getSnapshot=i,Io(t)&&Ao(e)}function Eo(e,t,n){return n((function(){Io(t)&&Ao(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Ao(e){var t=Ls(e,1);null!==t&&nc(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function No(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Mo(){return bo().memoizedState}function Oo(e,t,n,i){var r=yo();oo.flags|=e,r.memoizedState=No(1|t,n,void 0,void 0===i?null:i)}function Lo(e,t,n,i){var r=bo();i=void 0===i?null:i;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==i&&go(i,o.deps))return void(r.memoizedState=No(t,n,s,i))}oo.flags|=e,r.memoizedState=No(1|t,n,s,i)}function Do(e,t){return Oo(8390656,8,e,t)}function Ro(e,t){return Lo(2048,8,e,t)}function jo(e,t){return Lo(4,2,e,t)}function Fo(e,t){return Lo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Uo.bind(null,t,e),n)}function zo(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&go(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&go(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ai(n,t)||(n=gt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Wo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=ro.transition;ro.transition={};try{e(!1),t()}finally{bt=n,ro.transition=i}}function qo(){return bo().memoizedState}function Xo(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ko(e))Qo(t,n);else if(null!==(n=Os(e,t,n,i))){nc(n,e,i,ec()),Jo(n,t,i)}}function Yo(e,t,n){var i=tc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ko(e))Qo(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=t.interleaved;return null===l?(r.next=r,Ms(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Os(e,t,r,i))&&(nc(n,e,i,r=ec()),Jo(n,t,i))}}function Ko(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){ho=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var $o={readContext:Ps,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Do,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=yo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Xo.bind(null,oo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:zo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Wo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=oo,r=yo();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&so)||To(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Do(Eo.bind(null,i,o,e),[e]),i.flags|=2048,No(9,Co.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Al.identifierPrefix;if(rs){var n=Jr;t=":"+t+"R"+(n=(Qr&~(1<<32-ot(Qr)-1)).toString(32)+n),0<(n=uo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:Vo,useContext:Ps,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:Go,useReducer:xo,useRef:Mo,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){return Ho(bo(),ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:_o,useId:qo,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:Vo,useContext:Ps,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:Go,useReducer:So,useRef:Mo,useState:function(){return So(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Ho(t,ao.memoizedState,e)},useTransition:function(){return[So(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:_o,useId:qo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ra={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),s=Fs(i,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,r))&&(nc(t,e,r,i),Bs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),s=Fs(i,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,r))&&(nc(t,e,r,i),Bs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),r=Fs(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Us(e,r,i))&&(nc(t,e,i,n),Bs(t,e,i))}};function sa(e,t,n,i,r,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function oa(e,t,n){var i=!1,r=Er,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(r=Mr(t)?Pr:Ir.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Nr(e,r):Er),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function la(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Ps(s):(s=Mr(t)?Pr:Ir.current,r.context=Nr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ia(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ra.enqueueReplaceState(r,r.state,null),Vs(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",i=t;do{n+=z(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=i),ua(0,t)},n}function fa(e,t,n){(n=Fs(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ua(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new da;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,i){t.child=null===e?xs(t,null,n,i):ws(t,e.child,n,i)}function xa(e,t,n,i,r){n=n.render;var s=t.ref;return As(t,r),i=mo(e,t,n,i,s,r),n=vo(),null===e||ba?(rs&&n&&es(t),t.flags|=1,wa(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ha(e,t,r))}function Sa(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ka(e,t,s,i,r))}if(s=e.child,0===(e.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Ha(e,t,r)}return t.flags|=1,(e=Oc(s,i)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(li(s,i)&&e.ref===t.ref){if(ba=!1,t.pendingProps=i=s,0===(e.lanes&r))return t.lanes=e.lanes,Ha(e,t,r);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,i,r)}function _a(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Ol,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Ol,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Cr(Ol,Ml),Ml|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,Cr(Ol,Ml),Ml|=i;return wa(e,t,r,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,i,r){var s=Mr(n)?Pr:Ir.current;return s=Nr(t,s),As(t,r),n=mo(e,t,n,i,s,r),i=vo(),null===e||ba?(rs&&i&&es(t),t.flags|=1,wa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ha(e,t,r))}function Ea(e,t,n,i,r){if(Mr(n)){var s=!0;Rr(t)}else s=!1;if(As(t,r),null===t.stateNode)Ga(e,t),oa(t,n,i),la(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Nr(t,c=Mr(n)?Pr:Ir.current);var h=n.getDerivedStateFromProps,u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&aa(t,o,i,c),Ds=!1;var d=t.memoizedState;o.state=d,Vs(t,i,o,r),l=t.memoizedState,a!==i||d!==l||Ar.current||Ds?("function"===typeof h&&(ia(t,n,h,i),l=t.memoizedState),(a=Ds||sa(t,n,a,i,d,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,js(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,u=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Nr(t,l=Mr(n)?Pr:Ir.current);var p=n.getDerivedStateFromProps;(h="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==l)&&aa(t,o,i,l),Ds=!1,d=t.memoizedState,o.state=d,Vs(t,i,o,r);var f=t.memoizedState;a!==u||d!==f||Ar.current||Ds?("function"===typeof p&&(ia(t,n,p,i),f=t.memoizedState),(c=Ds||sa(t,n,c,i,d,f,l)||!1)?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Ia(e,t,n,i,s,r)}function Ia(e,t,n,i,r,s){Ta(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&jr(t,n,!1),Ha(e,t,s);i=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=i.state,r&&jr(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),Ks(e,t.containerInfo)}function Pa(e,t,n,i,r){return ps(),fs(r),t.flags|=256,wa(e,t,n,i),t.child}var Na,Ma,Oa,La,Da={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var i,r=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Cr(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Rc(l,r,0,null),e=Dc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(n),t.memoizedState=Da,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,i=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Rc({mode:"visible",children:i.children},r,0,null),(o=Dc(o,r,a,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Ra(a),t.memoizedState=Da,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Ua(e,t,a,i=ha(o=Error(s(419)),i,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(i=Al)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ls(e,r),nc(i,e,r,-1))}return gc(),Ua(e,t,a,i=ha(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,is=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Xr[Yr++]=Qr,Xr[Yr++]=Jr,Xr[Yr++]=Kr,Qr=e.id,Jr=e.overflow,Kr=t),t=Fa(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(a){a=r.fallback,l=t.mode,i=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Oc(i,a):(a=Dc(a,l,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=null===(l=e.child.memoizedState)?Ra(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Da,r}return e=(a=e.child).sibling,r=Oc(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fa(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,i){return null!==i&&fs(i),ws(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Is(e.return,t,n)}function za(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Va(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(wa(e,t,i.children,n),0!==(2&(i=Zs.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Cr(Zs,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),za(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===eo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xa(e,t,n){var i=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Mr(t.type)&&Or(),qa(t),null;case 3:return i=t.stateNode,Qs(),Tr(Ar),Tr(Ir),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ma(e,t),qa(t),null;case 5:$s(t);var r=Ys(Xs.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return qa(t),null}if(e=Ys(Ws.current),us(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[dr]=t,i[pr]=o,e=0!==(1&t.mode),n){case"dialog":Ui("cancel",i),Ui("close",i);break;case"iframe":case"object":case"embed":Ui("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)Ui(Di[r],i);break;case"source":Ui("error",i);break;case"img":case"image":case"link":Ui("error",i),Ui("load",i);break;case"details":Ui("toggle",i);break;case"input":Q(i,o),Ui("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ui("invalid",i);break;case"textarea":re(i,o),Ui("invalid",i)}for(var l in ye(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&$i(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$i(i.textContent,c,e),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ui("scroll",i)}switch(n){case"input":q(i),Z(i,o,!0);break;case"textarea":q(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Zi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[pr]=i,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Ui("cancel",e),Ui("close",e),r=i;break;case"iframe":case"object":case"embed":Ui("load",e),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)Ui(Di[r],e);r=i;break;case"source":Ui("error",e),r=i;break;case"img":case"image":case"link":Ui("error",e),Ui("load",e),r=i;break;case"details":Ui("toggle",e),r=i;break;case"input":Q(e,i),r=K(e,i),Ui("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=j({},i,{value:void 0}),Ui("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Ui("invalid",e)}for(o in ye(n,r),c=r)if(c.hasOwnProperty(o)){var h=c[o];"style"===o?me(e,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&ue(e,h):"children"===o?"string"===typeof h?("textarea"!==n||""!==h)&&de(e,h):"number"===typeof h&&de(e,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=h&&"onScroll"===o&&Ui("scroll",e):null!=h&&b(e,o,h,l))}switch(n){case"input":q(e),Z(e,i,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+H(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=Ys(Xs.current),Ys(Ws.current),us(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(o=i.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$i(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$i(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return qa(t),null;case 13:if(Tr(Zs),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))ds(),ps(),t.flags|=98560,o=!1;else if(o=us(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Qs(),Ma(e,t),null===e&&Vi(t.stateNode.containerInfo),qa(t),null;case 10:return Es(t.type._context),qa(t),null;case 19:if(Tr(Zs),null===(o=t.memoizedState))return qa(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)Wa(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Vl&&(t.flags|=128,i=!0,Wa(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=eo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return qa(t),null}else 2*Je()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,i=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Zs.current,Cr(Zs,i?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return uc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Mr(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Tr(Ar),Tr(Ir),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(Tr(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Tr(Zs),null;case 4:return Qs(),null;case 10:return Es(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ma=function(){},Oa=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Ys(Ws.current);var s,o=null;switch(n){case"input":r=K(e,r),i=K(e,i),o=[];break;case"select":r=j({},r,{value:void 0}),i=j({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(h in ye(n,i),n=null,r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var l=r[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in i){var c=i[h];if(l=null!=r?r[h]:void 0,i.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(a.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Ui("scroll",e),o||l===c||(o=[])):(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}},La=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ka=!1,Qa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){_c(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){_c(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(t,n,s)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[pr],delete t[gr],delete t[mr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var hl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,t);case 6:var i=hl,r=ul;hl=null,dl(e,t,n),ul=r,null!==(hl=i)&&(ul?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(ul?(e=hl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(hl,n.stateNode));break;case 4:i=hl,r=ul,hl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),hl=i,ul=r;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),r=r.next}while(r!==i)}dl(e,t,n);break;case 1:if(!Qa&&(Za(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){_c(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qa=(i=Qa)||null!==n.memoizedState,dl(e,t,n),Qa=i):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var i=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,ul=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,r),hl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(h){_c(r,t,h)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(m){_c(e,e.return,m)}try{nl(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&i&&null!==n&&Za(n,n.return);break;case 5:if(gl(t,e),vl(e),512&i&&null!==n&&Za(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(m){_c(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(r,o),be(l,a);var h=be(l,o);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];"style"===u?me(r,d):"dangerouslySetInnerHTML"===u?ue(r,d):"children"===u?de(r,d):b(r,u,d,h)}switch(l){case"input":$(r,o);break;case"textarea":se(r,o);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(r,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[pr]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(zl=Je())),4&i&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(h=Qa)||u,gl(t,e),Qa=h):gl(t,e),vl(e),8192&i){if(h=null!==e.memoizedState,(e.stateNode.isHidden=h)&&!u&&0!==(1&e.mode))for($a=e,u=e.child;null!==u;){for(d=$a=u;null!==$a;){switch(f=(p=$a).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){_c(i,n,m)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){xl(d);continue}}null!==f?(f.return=p,$a=f):xl(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{r=d.stateNode,h?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){_c(e,e.return,m)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&i&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),cl(e,al(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){_c(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$a=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==$a;){var r=$a,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Ka;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ka;var c=Qa;if(Ka=o,(Qa=l)&&!c)for($a=r;null!==$a;)l=(o=$a).child,22===o.tag&&null!==o.memoizedState?Sl(r):null!==l?(l.return=o,$a=l):Sl(r);for(;null!==s;)$a=s,bl(s,t,n),s=s.sibling;$a=r,Ka=a,Qa=c}wl(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,$a=s):wl(e)}}function wl(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qa)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Gs(t,o,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var h=t.alternate;if(null!==h){var u=h.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(s(163))}Qa||512&t.flags&&rl(t)}catch(p){_c(t,t.return,p)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function xl(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function Sl(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){_c(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){_c(t,r,l)}}var s=t.return;try{rl(t)}catch(l){_c(t,s,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){_c(t,o,l)}}}catch(l){_c(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var kl,_l=Math.ceil,Tl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Il=0,Al=null,Pl=null,Nl=0,Ml=0,Ol=_r(0),Ll=0,Dl=null,Rl=0,jl=0,Fl=0,Ul=null,Bl=null,zl=0,Vl=1/0,Gl=null,Hl=!1,Wl=null,ql=null,Xl=!1,Yl=null,Kl=0,Ql=0,Jl=null,$l=-1,Zl=0;function ec(){return 0!==(6&Il)?Je():-1!==$l?$l:$l=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Nl?Nl&-Nl:null!==gs.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,i){if(50<Ql)throw Ql=0,Jl=null,Error(s(185));vt(e,n,i),0!==(2&Il)&&e===Al||(e===Al&&(0===(2&Il)&&(jl|=n),4===Ll&&ac(e,Nl)),ic(e,i),1===n&&0===Il&&0===(1&t.mode)&&(Vl=Je()+500,Ur&&Vr()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var i=dt(e,e===Al?Nl:0);if(0===i)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ur=!0,zr(e)}(lc.bind(null,e)):zr(lc.bind(null,e)),or((function(){0===(6&Il)&&Vr()})),n=null;else{switch(wt(i)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ac(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($l=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var i=dt(e,e===Al?Nl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=mc(e,i);else{t=i;var r=Il;Il|=2;var o=fc();for(Al===e&&Nl===t||(Gl=null,Vl=Je()+500,dc(e,t));;)try{yc();break}catch(l){pc(e,l)}Cs(),Tl.current=o,Il=r,null!==Pl?t=0:(Al=null,Nl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=sc(e,r))),1===t)throw n=Dl,dc(e,0),ac(e,i),ic(e,Je()),n;if(6===t)ac(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=mc(e,i))&&(0!==(o=ft(e))&&(i=o,t=sc(e,o))),1===t))throw n=Dl,dc(e,0),ac(e,i),ic(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Bl,Gl);break;case 3:if(ac(e,i),(130023424&i)===i&&10<(t=zl+500-Je())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(xc.bind(null,e,Bl,Gl),t);break}xc(e,Bl,Gl);break;case 4:if(ac(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-ot(i);o=1<<a,(a=t[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Je()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_l(i/1960))-i)){e.timeoutHandle=ir(xc.bind(null,e,Bl,Gl),i);break}xc(e,Bl,Gl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ac(e,t){for(t&=~Fl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Il))throw Error(s(327));Sc();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=sc(e,i))}if(1===n)throw n=Dl,dc(e,0),ac(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Gl),ic(e,Je()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Vl=Je()+500,Ur&&Vr())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Il)&&Sc();var t=Il;Il|=1;var n=El.transition,i=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=i,El.transition=n,0===(6&(Il=t))&&Vr()}}function uc(){Ml=Ol.current,Tr(Ol)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Pl)for(n=Pl.return;null!==n;){var i=n;switch(ts(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Or();break;case 3:Qs(),Tr(Ar),Tr(Ir),no();break;case 5:$s(i);break;case 4:Qs();break;case 13:case 19:Tr(Zs);break;case 10:Es(i.type._context);break;case 22:case 23:uc()}n=n.return}if(Al=e,Pl=e=Oc(e.current,null),Nl=Ml=t,Ll=0,Dl=null,Fl=jl=Rl=0,Bl=Ul=null,null!==Ns){for(t=0;t<Ns.length;t++)if(null!==(i=(n=Ns[t]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Ns=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(Cs(),io.current=$o,co){for(var i=oo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}co=!1}if(so=0,lo=ao=oo=null,ho=!1,uo=0,Cl.current=null,null===n||null===n.return){Ll=1,Dl=t,Pl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var h=c,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ma(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ga(o,h,t),c=h;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ga(o,h,t),gc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),fs(ca(c,l));break e}}o=c=ca(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fc(){var e=Tl.current;return Tl.current=$o,null===e?$o:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Rl)&&0===(268435455&jl)||ac(Al,Nl)}function mc(e,t){var n=Il;Il|=2;var i=fc();for(Al===e&&Nl===t||(Gl=null,dc(e,t));;)try{vc();break}catch(r){pc(e,r)}if(Cs(),Il=n,Tl.current=i,null!==Pl)throw Error(s(261));return Al=null,Nl=0,Ll}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Ke();)bc(Pl)}function bc(e){var t=kl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xa(n,t,Ml)))return void(Pl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var i=bt,r=El.transition;try{El.transition=null,bt=1,function(e,t,n,i){do{Sc()}while(null!==Yl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}(e,o),e===Al&&(Pl=Al=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Ac(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var a=bt;bt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(er=Ht,pi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,h=0,u=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++h===r&&(l=a),p===o&&++u===i&&(c=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}g=tl,tl=!1}(e,n),ml(n,e),fi(tr),Ht=!!er,tr=er=null,e.current=n,yl(n,e,r),Qe(),Il=l,bt=a,El.transition=o}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Kl=r),o=e.pendingLanes,0===o&&(ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Kl)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Vr()}(e,t,n,i)}finally{El.transition=r,bt=i}return null}function Sc(){if(null!==Yl){var e=wt(Kl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Yl)var i=!1;else{if(e=Yl,Yl=null,Kl=0,0!==(6&Il))throw Error(s(331));var r=Il;for(Il|=4,$a=e.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var h=l[c];for($a=h;null!==$a;){var u=$a;switch(u.tag){case 0:case 11:case 15:nl(8,u,o)}var d=u.child;if(null!==d)d.return=u,$a=d;else for(;null!==$a;){var p=(u=$a).sibling,f=u.return;if(sl(u),u===h){$a=null;break}if(null!==p){p.return=f,$a=p;break}$a=f}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else e:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$a=y;break e}$a=o.return}}var b=e.current;for($a=b;null!==$a;){var w=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,$a=w;else e:for(a=b;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){_c(l,l.return,S)}if(l===a){$a=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,$a=x;break e}$a=l.return}}if(Il=r,Vr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(S){}i=!0}return i}finally{bt=n,El.transition=t}}return!1}function kc(e,t,n){e=Us(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ic(e,t))}function _c(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){t=Us(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Je()-zl?dc(e,0):Fl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=ec();null!==(e=Ls(e,t))&&(vt(e,t,n),ic(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),Cc(e,n)}function Ac(e,t){return Xe(e,t)}function Pc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,i){return new Pc(e,t,n,i)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,i,r,o){var a=2;if(i=e,"function"===typeof e)Mc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Dc(n.children,r,o,t);case _:a=8,r|=8;break;case T:return(e=Nc(12,n,t,2|r)).elementType=T,e.lanes=o,e;case A:return(e=Nc(13,n,t,r)).elementType=A,e.lanes=o,e;case P:return(e=Nc(19,n,t,r)).elementType=P,e.lanes=o,e;case O:return Rc(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case E:a=9;break e;case I:a=11;break e;case N:a=14;break e;case M:a=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Dc(e,t,n,i){return(e=Nc(7,e,i,t)).lanes=n,e}function Rc(e,t,n,i){return(e=Nc(22,e,i,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,i,r,s,o,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function zc(e){if(!e)return Er;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Mr(n))return Dr(e,n,t)}return t}function Vc(e,t,n,i,r,s,o,a,l){return(e=Bc(n,i,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Fs(i=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,r),e.current.lanes=r,vt(e,r,i),ic(e,i),e}function Gc(e,t,n,i){var r=t.current,s=ec(),o=tc(r);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Us(r,t,o))&&(nc(e,r,o,s),Bs(e,r,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ar.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),ps();break;case 5:Js(t);break;case 1:Mr(t.type)&&Rr(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Cr(Ss,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Cr(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Cr(Zs,1&Zs.current),null!==(e=Ha(e,t,n))?e.sibling:null);Cr(Zs,1&Zs.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Va(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(Zs,Zs.current),i)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,rs&&0!==(1048576&t.flags)&&Zr(t,qr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ga(e,t),e=t.pendingProps;var r=Nr(t,Ir.current);As(t,n),r=mo(null,t,i,e,r,n);var o=vo();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(i)?(o=!0,Rr(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Rs(t),r.updater=ra,t.stateNode=r,r._reactInternals=t,la(t,i,e,n),t=Ia(null,t,i,!0,o,n)):(t.tag=0,rs&&o&&es(t),wa(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(i),e=na(i,e),r){case 0:t=Ca(null,t,i,e,n);break e;case 1:t=Ea(null,t,i,e,n);break e;case 11:t=xa(null,t,i,e,n);break e;case 14:t=Sa(null,t,i,na(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ca(e,t,i,r=t.elementType===i?r:na(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ea(e,t,i,r=t.elementType===i?r:na(i,r),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));i=t.pendingProps,r=(o=t.memoizedState).element,js(e,t),Vs(t,i,null,n);var a=t.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,i,n,r=ca(Error(s(423)),t));break e}if(i!==r){t=Pa(e,t,i,n,r=ca(Error(s(424)),t));break e}for(is=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=xs(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===r){t=Ha(e,t,n);break e}wa(e,t,i,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(t.flags|=32),Ta(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return ja(e,t,n);case 4:return Ks(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ws(t,null,i,n):wa(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,xa(e,t,i,r=t.elementType===i?r:na(i,r),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,Cr(Ss,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Ar.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var h=o.updateQueue;if(null!==h){var u=(h=h.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),h.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,As(t,n),i=i(r=Ps(r)),t.flags|=1,wa(e,t,i,n),t.child;case 14:return r=na(i=t.type,t.pendingProps),Sa(e,t,i,r=na(i.type,r),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:na(i,r),Ga(e,t),t.tag=1,Mr(i)?(e=!0,Rr(t)):e=!1,As(t,n),oa(t,i,r),la(t,i,r,n),Ia(null,t,i,!0,e,n);case 19:return Va(e,t,n);case 22:return _a(e,t,n)}throw Error(s(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}Gc(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}var o=Vc(t,i,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[fr]=o.current,Vi(8===e.nodeType?e.parentNode:e),hc(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=Hc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fr]=l.current,Vi(8===e.nodeType?e.parentNode:e),hc((function(){Gc(t,l,n,i)})),l}(n,t,e,r,i);return Hc(o)}Kc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gc(e,t,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Gc(null,e,null,null)})),t[fr]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Il)&&(Vl=Je()+500,Vr()))}break;case 13:hc((function(){var t=Ls(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},St=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ls(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},_t=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=xr(i);if(!r)throw Error(s(90));X(i),$(i,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ae=hc;var eh={usingClientEntryPoint:!1,Events:[br,wr,xr,Ce,Ee,cc]},th={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nh={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{rt=ih.inject(nh),st=ih}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,i="",r=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Vi(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,r,0,o,a),e[fr]=t.current,Vi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Kc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var i=n(950);t.H=i.createRoot,i.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},82:(e,t)=>{"use strict";var n=60103,i=60106,r=60107,s=60108,o=60114,a=60109,l=60110,c=60112,h=60113,u=60120,d=60115,p=60116,f=60121,g=60122,m=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),i=b("react.portal"),r=b("react.fragment"),s=b("react.strict_mode"),o=b("react.profiler"),a=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),h=b("react.suspense"),u=b("react.suspense_list"),d=b("react.memo"),p=b("react.lazy"),f=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case o:case s:case h:case u:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case d:case a:return e;default:return t}}case i:return t}}}t.isForwardRef=function(e){return w(e)===c}},705:(e,t,n)=>{"use strict";e.exports=n(82)},153:(e,t,n)=>{"use strict";var i=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,h=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:h,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,i){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!_.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,x(o)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),A(o,t,r,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var h=s+I(a=e[c],c);l+=A(a,t,r,h,o)}else if(h=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof h)for(e=h.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,r,h=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var i=[],r=0;return A(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},O={transition:null},L={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!_.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,h=e[c];if(0>s(l,n))c<r&&0>s(h,l)?(e[i]=h,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>s(h,n)))break e;e[i]=h,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],u=1,d=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(h);null!==t;){if(null===t.callback)r(h);else{if(!(t.startTime<=e))break;r(h),t.sortIndex=t.expirationTime,n(c,t)}t=i(h)}}function x(e){if(m=!1,w(e),!g)if(null!==i(c))g=!0,O(S);else{var t=i(h);null!==t&&L(x,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,y(C),C=-1),f=!0;var s=p;try{for(w(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),w(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var u=i(h);null!==u&&L(x,u.startTime-n),l=!1}return l}finally{d=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,_=!1,T=null,C=-1,E=5,I=-1;function A(){return!(t.unstable_now()-I<E)}function P(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?k():(_=!1,T=null)}}else _=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,M=N.port2;N.port1.onmessage=P,k=function(){M.postMessage(null)}}else k=function(){v(P,0)};function O(e){T=e,_||(_=!0,k())}function L(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(h,e),null===i(c)&&e===i(h)&&(m?(y(C),C=-1):m=!0,L(x,s-o))):(e.sortIndex=a,n(c,e),g||f||(g=!0,O(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,i){var r=n?n.call(i,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!a(c))return!1;var h=e[c],u=t[c];if(!1===(r=n?n.call(i,h,u,c):void 0)||void 0===r&&h!==u)return!1}return!0}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>i[e]));return o.default=()=>i,n.d(s,o),s}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/emotion-firebase/",(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Ho,SDK_VERSION:()=>Sl,_DEFAULT_ENTRY_NAME:()=>ol,_addComponent:()=>ul,_addOrOverwriteComponent:()=>dl,_apps:()=>ll,_clearComponents:()=>yl,_components:()=>hl,_getProvider:()=>fl,_isFirebaseApp:()=>ml,_isFirebaseServerApp:()=>vl,_registerComponent:()=>pl,_removeServiceInstance:()=>gl,_serverApps:()=>cl,deleteApp:()=>El,getApp:()=>Tl,getApps:()=>Cl,initializeApp:()=>kl,initializeServerApp:()=>_l,onLog:()=>Al,registerVersion:()=>Il,setLogLevel:()=>Pl});var t=n(43),i=n.t(t,2),r=n(391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(null,arguments)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}const l=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r};const c=function(){this.__data__=[],this.size=0};const h=function(e,t){return e===t||e!==e&&t!==t};const u=function(e,t){for(var n=e.length;n--;)if(h(e[n][0],t))return n;return-1};var d=Array.prototype.splice;const p=function(e){var t=this.__data__,n=u(t,e);return!(n<0)&&(n==t.length-1?t.pop():d.call(t,n,1),--this.size,!0)};const f=function(e){var t=this.__data__,n=u(t,e);return n<0?void 0:t[n][1]};const g=function(e){return u(this.__data__,e)>-1};const m=function(e,t){var n=this.__data__,i=u(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function v(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}v.prototype.clear=c,v.prototype.delete=p,v.prototype.get=f,v.prototype.has=g,v.prototype.set=m;const y=v;const b=function(){this.__data__=new y,this.size=0};const w=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const x=function(e){return this.__data__.get(e)};const S=function(e){return this.__data__.has(e)};const k="object"==typeof global&&global&&global.Object===Object&&global;var _="object"==typeof self&&self&&self.Object===Object&&self;const T=k||_||Function("return this")();const C=T.Symbol;var E=Object.prototype,I=E.hasOwnProperty,A=E.toString,P=C?C.toStringTag:void 0;const N=function(e){var t=I.call(e,P),n=e[P];try{e[P]=void 0;var i=!0}catch(s){}var r=A.call(e);return i&&(t?e[P]=n:delete e[P]),r};var M=Object.prototype.toString;const O=function(e){return M.call(e)};var L=C?C.toStringTag:void 0;const D=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?N(e):O(e)};const R=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const j=function(e){if(!R(e))return!1;var t=D(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const F=T["__core-js_shared__"];var U=function(){var e=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const B=function(e){return!!U&&U in e};var z=Function.prototype.toString;const V=function(e){if(null!=e){try{return z.call(e)}catch(t){}try{return e+""}catch(t){}}return""};var G=/^\[object .+?Constructor\]$/,H=Function.prototype,W=Object.prototype,q=H.toString,X=W.hasOwnProperty,Y=RegExp("^"+q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const K=function(e){return!(!R(e)||B(e))&&(j(e)?Y:G).test(V(e))};const Q=function(e,t){return null==e?void 0:e[t]};const J=function(e,t){var n=Q(e,t);return K(n)?n:void 0};const $=J(T,"Map");const Z=J(Object,"create");const ee=function(){this.__data__=Z?Z(null):{},this.size=0};const te=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var ne=Object.prototype.hasOwnProperty;const ie=function(e){var t=this.__data__;if(Z){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ne.call(t,e)?t[e]:void 0};var re=Object.prototype.hasOwnProperty;const se=function(e){var t=this.__data__;return Z?void 0!==t[e]:re.call(t,e)};const oe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&void 0===t?"__lodash_hash_undefined__":t,this};function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ae.prototype.clear=ee,ae.prototype.delete=te,ae.prototype.get=ie,ae.prototype.has=se,ae.prototype.set=oe;const le=ae;const ce=function(){this.size=0,this.__data__={hash:new le,map:new($||y),string:new le}};const he=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const ue=function(e,t){var n=e.__data__;return he(t)?n["string"==typeof t?"string":"hash"]:n.map};const de=function(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t};const pe=function(e){return ue(this,e).get(e)};const fe=function(e){return ue(this,e).has(e)};const ge=function(e,t){var n=ue(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}me.prototype.clear=ce,me.prototype.delete=de,me.prototype.get=pe,me.prototype.has=fe,me.prototype.set=ge;const ve=me;const ye=function(e,t){var n=this.__data__;if(n instanceof y){var i=n.__data__;if(!$||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ve(i)}return n.set(e,t),this.size=n.size,this};function be(e){var t=this.__data__=new y(e);this.size=t.size}be.prototype.clear=b,be.prototype.delete=w,be.prototype.get=x,be.prototype.has=S,be.prototype.set=ye;const we=be;const xe=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const Se=function(e){return this.__data__.has(e)};function ke(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ve;++t<n;)this.add(e[t])}ke.prototype.add=ke.prototype.push=xe,ke.prototype.has=Se;const _e=ke;const Te=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1};const Ce=function(e,t){return e.has(t)};const Ee=function(e,t,n,i,r,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),h=s.get(t);if(c&&h)return c==t&&h==e;var u=-1,d=!0,p=2&n?new _e:void 0;for(s.set(e,t),s.set(t,e);++u<a;){var f=e[u],g=t[u];if(i)var m=o?i(g,f,u,t,e,s):i(f,g,u,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!Te(t,(function(e,t){if(!Ce(p,t)&&(f===e||r(f,e,n,i,s)))return p.push(t)}))){d=!1;break}}else if(f!==g&&!r(f,g,n,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d};const Ie=T.Uint8Array;const Ae=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n};const Pe=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Ne=C?C.prototype:void 0,Me=Ne?Ne.valueOf:void 0;const Oe=function(e,t,n,i,r,s,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new Ie(e),new Ie(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Ae;case"[object Set]":var l=1&i;if(a||(a=Pe),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var u=Ee(a(e),a(t),i,r,s,o);return o.delete(e),u;case"[object Symbol]":if(Me)return Me.call(e)==Me.call(t)}return!1};const Le=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e};const De=Array.isArray;const Re=function(e,t,n){var i=t(e);return De(e)?i:Le(i,n(e))};const je=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s};const Fe=function(){return[]};var Ue=Object.prototype.propertyIsEnumerable,Be=Object.getOwnPropertySymbols;const ze=Be?function(e){return null==e?[]:(e=Object(e),je(Be(e),(function(t){return Ue.call(e,t)})))}:Fe;const Ve=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i};const Ge=function(e){return null!=e&&"object"==typeof e};const He=function(e){return Ge(e)&&"[object Arguments]"==D(e)};var We=Object.prototype,qe=We.hasOwnProperty,Xe=We.propertyIsEnumerable;const Ye=He(function(){return arguments}())?He:function(e){return Ge(e)&&qe.call(e,"callee")&&!Xe.call(e,"callee")};const Ke=function(){return!1};var Qe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Je=Qe&&"object"==typeof module&&module&&!module.nodeType&&module,$e=Je&&Je.exports===Qe?T.Buffer:void 0;const Ze=($e?$e.isBuffer:void 0)||Ke;var et=/^(?:0|[1-9]\d*)$/;const tt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&et.test(e))&&e>-1&&e%1==0&&e<t};const nt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var it={};it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Arguments]"]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object Boolean]"]=it["[object DataView]"]=it["[object Date]"]=it["[object Error]"]=it["[object Function]"]=it["[object Map]"]=it["[object Number]"]=it["[object Object]"]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object WeakMap]"]=!1;const rt=function(e){return Ge(e)&&nt(e.length)&&!!it[D(e)]};const st=function(e){return function(t){return e(t)}};var ot="object"==typeof exports&&exports&&!exports.nodeType&&exports,at=ot&&"object"==typeof module&&module&&!module.nodeType&&module,lt=at&&at.exports===ot&&k.process,ct=function(){try{var e=at&&at.require&&at.require("util").types;return e||lt&&lt.binding&&lt.binding("util")}catch(t){}}();var ht=ct&&ct.isTypedArray;const ut=ht?st(ht):rt;var dt=Object.prototype.hasOwnProperty;const pt=function(e,t){var n=De(e),i=!n&&Ye(e),r=!n&&!i&&Ze(e),s=!n&&!i&&!r&&ut(e),o=n||i||r||s,a=o?Ve(e.length,String):[],l=a.length;for(var c in e)!t&&!dt.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||tt(c,l))||a.push(c);return a};var ft=Object.prototype;const gt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ft)};const mt=function(e,t){return function(n){return e(t(n))}};const vt=mt(Object.keys,Object);var yt=Object.prototype.hasOwnProperty;const bt=function(e){if(!gt(e))return vt(e);var t=[];for(var n in Object(e))yt.call(e,n)&&"constructor"!=n&&t.push(n);return t};const wt=function(e){return null!=e&&nt(e.length)&&!j(e)};const xt=function(e){return wt(e)?pt(e):bt(e)};const St=function(e){return Re(e,xt,ze)};var kt=Object.prototype.hasOwnProperty;const _t=function(e,t,n,i,r,s){var o=1&n,a=St(e),l=a.length;if(l!=St(t).length&&!o)return!1;for(var c=l;c--;){var h=a[c];if(!(o?h in t:kt.call(t,h)))return!1}var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var p=!0;s.set(e,t),s.set(t,e);for(var f=o;++c<l;){var g=e[h=a[c]],m=t[h];if(i)var v=o?i(m,g,h,t,e,s):i(g,m,h,e,t,s);if(!(void 0===v?g===m||r(g,m,n,i,s):v)){p=!1;break}f||(f="constructor"==h)}if(p&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p};const Tt=J(T,"DataView");const Ct=J(T,"Promise");const Et=J(T,"Set");const It=J(T,"WeakMap");var At="[object Map]",Pt="[object Promise]",Nt="[object Set]",Mt="[object WeakMap]",Ot="[object DataView]",Lt=V(Tt),Dt=V($),Rt=V(Ct),jt=V(Et),Ft=V(It),Ut=D;(Tt&&Ut(new Tt(new ArrayBuffer(1)))!=Ot||$&&Ut(new $)!=At||Ct&&Ut(Ct.resolve())!=Pt||Et&&Ut(new Et)!=Nt||It&&Ut(new It)!=Mt)&&(Ut=function(e){var t=D(e),n="[object Object]"==t?e.constructor:void 0,i=n?V(n):"";if(i)switch(i){case Lt:return Ot;case Dt:return At;case Rt:return Pt;case jt:return Nt;case Ft:return Mt}return t});const Bt=Ut;var zt="[object Arguments]",Vt="[object Array]",Gt="[object Object]",Ht=Object.prototype.hasOwnProperty;const Wt=function(e,t,n,i,r,s){var o=De(e),a=De(t),l=o?Vt:Bt(e),c=a?Vt:Bt(t),h=(l=l==zt?Gt:l)==Gt,u=(c=c==zt?Gt:c)==Gt,d=l==c;if(d&&Ze(e)){if(!Ze(t))return!1;o=!0,h=!1}if(d&&!h)return s||(s=new we),o||ut(e)?Ee(e,t,n,i,r,s):Oe(e,t,l,n,i,r,s);if(!(1&n)){var p=h&&Ht.call(e,"__wrapped__"),f=u&&Ht.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,m=f?t.value():t;return s||(s=new we),r(g,m,n,i,s)}}return!!d&&(s||(s=new we),_t(e,t,n,i,r,s))};const qt=function e(t,n,i,r,s){return t===n||(null==t||null==n||!Ge(t)&&!Ge(n)?t!==t&&n!==n:Wt(t,n,i,r,e,s))};const Xt=function(e,t,n,i){var r=n.length,s=r,o=!i;if(null==e)return!s;for(e=Object(e);r--;){var a=n[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<s;){var l=(a=n[r])[0],c=e[l],h=a[1];if(o&&a[2]){if(void 0===c&&!(l in e))return!1}else{var u=new we;if(i)var d=i(c,h,l,e,t,u);if(!(void 0===d?qt(h,c,3,i,u):d))return!1}}return!0};const Yt=function(e){return e===e&&!R(e)};const Kt=function(e){for(var t=xt(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Yt(r)]}return t};const Qt=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const Jt=function(e){var t=Kt(e);return 1==t.length&&t[0][2]?Qt(t[0][0],t[0][1]):function(n){return n===e||Xt(n,e,t)}};const $t=function(e){return"symbol"==typeof e||Ge(e)&&"[object Symbol]"==D(e)};var Zt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,en=/^\w*$/;const tn=function(e,t){if(De(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!$t(e))||(en.test(e)||!Zt.test(e)||null!=t&&e in Object(t))};function nn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(nn.Cache||ve),n}nn.Cache=ve;const rn=nn;var sn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,on=/\\(\\)?/g;const an=function(e){var t=rn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(sn,(function(e,n,i,r){t.push(i?r.replace(on,"$1"):n||e)})),t}));var ln=C?C.prototype:void 0,cn=ln?ln.toString:void 0;const hn=function e(t){if("string"==typeof t)return t;if(De(t))return l(t,e)+"";if($t(t))return cn?cn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const un=function(e){return null==e?"":hn(e)};const dn=function(e,t){return De(e)?e:tn(e,t)?[e]:an(un(e))};const pn=function(e){if("string"==typeof e||$t(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const fn=function(e,t){for(var n=0,i=(t=dn(t,e)).length;null!=e&&n<i;)e=e[pn(t[n++])];return n&&n==i?e:void 0};const gn=function(e,t,n){var i=null==e?void 0:fn(e,t);return void 0===i?n:i};const mn=function(e,t){return null!=e&&t in Object(e)};const vn=function(e,t,n){for(var i=-1,r=(t=dn(t,e)).length,s=!1;++i<r;){var o=pn(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&nt(r)&&tt(o,r)&&(De(e)||Ye(e))};const yn=function(e,t){return null!=e&&vn(e,t,mn)};const bn=function(e,t){return tn(e)&&Yt(t)?Qt(pn(e),t):function(n){var i=gn(n,e);return void 0===i&&i===t?yn(n,e):qt(t,i,3)}};const wn=function(e){return e};const xn=function(e){return function(t){return null==t?void 0:t[e]}};const Sn=function(e){return function(t){return fn(t,e)}};const kn=function(e){return tn(e)?xn(pn(e)):Sn(e)};const _n=function(e){return"function"==typeof e?e:null==e?wn:"object"==typeof e?De(e)?bn(e[0],e[1]):Jt(e):kn(e)};const Tn=function(e){return function(t,n,i){for(var r=-1,s=Object(t),o=i(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===n(s[l],l,s))break}return t}}();const Cn=function(e,t){return function(n,i){if(null==n)return n;if(!wt(n))return e(n,i);for(var r=n.length,s=t?r:-1,o=Object(n);(t?s--:++s<r)&&!1!==i(o[s],s,o););return n}};const En=Cn((function(e,t){return e&&Tn(e,t,xt)}));const In=function(e,t){var n=-1,i=wt(e)?Array(e.length):[];return En(e,(function(e,r,s){i[++n]=t(e,r,s)})),i};const An=function(e,t){return(De(e)?l:In)(e,_n(t,3))};const Pn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};const Nn=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const Mn=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(r);++i<r;)s[i]=e[i+t];return s};const On=function(e,t){return t.length<2?e:fn(e,Mn(t,0,-1))};const Ln=function(e,t,n){t=dn(t,e);var i=null==(e=On(e,t))?e:e[pn(Nn(t))];return null==i?void 0:Pn(i,e,n)};var Dn=Math.max;const Rn=function(e,t,n){return t=Dn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=Dn(i.length-t,0),o=Array(s);++r<s;)o[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(o),Pn(e,this,a)}};const jn=function(e){return function(){return e}};const Fn=function(){try{var e=J(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const Un=Fn?function(e,t){return Fn(e,"toString",{configurable:!0,enumerable:!1,value:jn(t),writable:!0})}:wn;var Bn=Date.now;const zn=function(e){var t=0,n=0;return function(){var i=Bn(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const Vn=zn(Un);const Gn=function(e,t){return Vn(Rn(e,t,wn),e+"")};const Hn=Gn(Ln);function Wn(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Wn(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}const qn=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=Wn(e))&&(i&&(i+=" "),i+=t);return i};var Xn={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function Yn(e){var t=typeof e;return"string"===t||"number"===t?Xn[e]||e:""}var Kn=function(e,t){return e&&t},Qn=function(e,t){return e&&!0!==e&&e+" "+t},Jn=function(e,t){return e&&(!0===e?t:e+" "+t)},$n=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},Zn=function(e){return"justified"===e?"justified":Qn(e,"aligned")},ei=function(e){return Qn(e,"aligned")},ti=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var i=typeof e;return"string"!==i&&"number"!==i||!t?Yn(e):Yn(e)+" "+t};const ni=function(e,t){var n=e.handledProps,i=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===i.indexOf(n)&&(e[n]=t[n]),e}),{})};const ii=function(e,t,n){var i=e.defaultProps,r=void 0===i?{}:i;if(t.as&&t.as!==r.as)return t.as;if(n){var s=n();if(s)return s}return t.href?"a":r.as||"div"};const ri=function(e,t){var n;return En(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n};const si=function(e,t,n){if(!R(n))return!1;var i=typeof t;return!!("number"==i?wt(n)&&tt(t,n.length):"string"==i&&t in n)&&h(n[t],e)};const oi=function(e,t,n){var i=De(e)?Te:ri;return n&&si(e,t,n)&&(t=void 0),i(e,_n(t,3))};var ai=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};const li=function(e){return void 0===e};var ci=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=(t=e.call.apply(e,[this].concat(i))||this).constructor,a=o.autoControlledProps,l=o.getAutoControlledStateFromProps,c=Hn(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),"getInitialAutoControlledState",t.props)||{},h=a.reduce((function(e,n){return e[n]=function(e,t,n,i){void 0===i&&(i=!1);var r,s=t[e];if(void 0!==s)return s;if(i){var o=t[(r=e,"default"+(r[0].toUpperCase()+r.slice(1)))];if(void 0!==o)return o;if(n){var a=n[e];if(void 0!==a)return a}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,c,!0),e}),{});return t.state=s({},c,h,{autoControlledProps:a,getAutoControlledStateFromProps:l}),t}return a(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,i=t.getAutoControlledStateFromProps,r=n.reduce((function(t,n){return!li(e[n])&&(t[n]=e[n]),t}),{});if(i){var o=i(e,s({},t,r),t);return s({},r,o)}return r},t.getAutoControlledStateFromProps=function(){return null},t}(t.Component);const hi=function(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1};const ui=function(e){return e!==e};const di=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1};const pi=function(e,t,n){return t===t?di(e,t,n):hi(e,ui,n)};const fi=function(e,t){return!!(null==e?0:e.length)&&pi(e,t,0)>-1};const gi=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1};const mi=function(){};var vi=Et&&1/Pe(new Et([,-0]))[1]==1/0?function(e){return new Et(e)}:mi;const yi=vi;const bi=function(e,t,n){var i=-1,r=fi,s=e.length,o=!0,a=[],l=a;if(n)o=!1,r=gi;else if(s>=200){var c=t?null:yi(e);if(c)return Pe(c);o=!1,r=Ce,l=new _e}else l=t?[]:a;e:for(;++i<s;){var h=e[i],u=t?t(h):h;if(h=n||0!==h?h:0,o&&u===u){for(var d=l.length;d--;)if(l[d]===u)continue e;t&&l.push(u),a.push(h)}else r(l,u,n)||(l!==a&&l.push(u),a.push(h))}return a};const wi=function(e){return e&&e.length?bi(e):[]};const xi=mt(Object.getPrototypeOf,Object);var Si=Function.prototype,ki=Object.prototype,_i=Si.toString,Ti=ki.hasOwnProperty,Ci=_i.call(Object);const Ei=function(e){if(!Ge(e)||"[object Object]"!=D(e))return!1;var t=xi(e);if(null===t)return!0;var n=Ti.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_i.call(n)==Ci};const Ii=function(e){return"number"==typeof e||Ge(e)&&"[object Number]"==D(e)};const Ai=function(e){return"string"==typeof e||!De(e)&&Ge(e)&&"[object String]"==D(e)};const Pi=function(e){return!0===e||!1===e||Ge(e)&&"[object Boolean]"==D(e)};const Ni=function(e){return null==e};function Mi(e,n,i,r){if(void 0===r&&(r={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(Ni(i)||Pi(i))return null;var o=Ai(i),a=Ii(i),l=j(i),c=t.isValidElement(i),h=Ei(i),u=o||a||De(i);if(!l&&!c&&!h&&!u)return null;var d=r.defaultProps,p=void 0===d?{}:d,f=c&&i.props||h&&i||u&&n(i),g=r.overrideProps,m=void 0===g?{}:g;m=j(m)?m(s({},p,f)):m;var v=s({},p,f,m);if(p.className||m.className||f.className){var y=qn(p.className,m.className,f.className);v.className=wi(y.split(" ")).join(" ")}if((p.style||m.style||f.style)&&(v.style=s({},p.style,f.style,m.style)),Ni(v.key)){var b=v.childKey,w=r.autoGenerateKey,x=void 0===w||w;Ni(b)?x&&(o||a)&&(v.key=i):(v.key="function"===typeof b?b(v):b,delete v.childKey)}return c?t.cloneElement(i,v):"function"===typeof v.children?v.children(e,s({},v,{children:void 0})):u||h?t.createElement(e,v):l?i(e,v,v.children):void 0}function Oi(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,i){return Mi(e,t,n,i)}}var Li=Oi("img",(function(e){return{src:e}})),Di=Oi("input",(function(e){return{type:e}})),Ri=Oi("label",(function(e){return{children:e}})),ji=Oi("p",(function(e){return{children:e}}));function Fi(e){var n=e.children,i=e.className,r=e.content,o=qn("header",i),a=ni(Fi,e),l=ii(Fi,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}Fi.handledProps=["as","children","className","content"],Fi.propTypes={};const Ui=Fi;const Bi=function(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n};const zi=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});var Vi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gi=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const Hi=function(e){return(e=un(e))&&e.replace(Vi,zi).replace(Gi,"")};var Wi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const qi=function(e){return e.match(Wi)||[]};var Xi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const Yi=function(e){return Xi.test(e)};var Ki="\\ud800-\\udfff",Qi="\\u2700-\\u27bf",Ji="a-z\\xdf-\\xf6\\xf8-\\xff",$i="A-Z\\xc0-\\xd6\\xd8-\\xde",Zi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",er="["+Zi+"]",tr="\\d+",nr="["+Qi+"]",ir="["+Ji+"]",rr="[^"+Ki+Zi+tr+Qi+Ji+$i+"]",sr="(?:\\ud83c[\\udde6-\\uddff]){2}",or="[\\ud800-\\udbff][\\udc00-\\udfff]",ar="["+$i+"]",lr="(?:"+ir+"|"+rr+")",cr="(?:"+ar+"|"+rr+")",hr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ur="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",dr="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",pr="[\\ufe0e\\ufe0f]?",fr=pr+dr+("(?:\\u200d(?:"+["[^"+Ki+"]",sr,or].join("|")+")"+pr+dr+")*"),gr="(?:"+[nr,sr,or].join("|")+")"+fr,mr=RegExp([ar+"?"+ir+"+"+hr+"(?="+[er,ar,"$"].join("|")+")",cr+"+"+ur+"(?="+[er,ar+lr,"$"].join("|")+")",ar+"?"+lr+"+"+hr,ar+"+"+ur,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tr,gr].join("|"),"g");const vr=function(e){return e.match(mr)||[]};const yr=function(e,t,n){return e=un(e),void 0===(t=n?void 0:t)?Yi(e)?vr(e):qi(e):e.match(t)||[]};var br=RegExp("['\u2019]","g");const wr=function(e){return function(t){return Bi(yr(Hi(t).replace(br,"")),e,"")}};const xr=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Mn(e,t,n)};var Sr=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const kr=function(e){return Sr.test(e)};const _r=function(e){return e.split("")};var Tr="\\ud800-\\udfff",Cr="["+Tr+"]",Er="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ir="\\ud83c[\\udffb-\\udfff]",Ar="[^"+Tr+"]",Pr="(?:\\ud83c[\\udde6-\\uddff]){2}",Nr="[\\ud800-\\udbff][\\udc00-\\udfff]",Mr="(?:"+Er+"|"+Ir+")"+"?",Or="[\\ufe0e\\ufe0f]?",Lr=Or+Mr+("(?:\\u200d(?:"+[Ar,Pr,Nr].join("|")+")"+Or+Mr+")*"),Dr="(?:"+[Ar+Er+"?",Er,Pr,Nr,Cr].join("|")+")",Rr=RegExp(Ir+"(?="+Ir+")|"+Dr+Lr,"g");const jr=function(e){return e.match(Rr)||[]};const Fr=function(e){return kr(e)?jr(e):_r(e)};const Ur=function(e){return function(t){t=un(t);var n=kr(t)?Fr(t):void 0,i=n?n[0]:t.charAt(0),r=n?xr(n,1).join(""):t.slice(1);return i[e]()+r}}("toUpperCase");const Br=wr((function(e,t,n){return e+(n?" ":"")+Ur(t)}));function zr(e){var n=e.children,i=e.className,r=e.content,o=e.size,a=qn(o,"icons",i),l=ni(zr,e),c=ii(zr,e);return t.createElement(c,s({},l,{className:a}),ai(n)?r:n)}zr.handledProps=["as","children","className","content","size"],zr.propTypes={},zr.defaultProps={as:"i"};const Vr=zr;var Gr=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleClick=function(e){t.props.disabled?e.preventDefault():Hn(t.props,"onClick",e,t.props)},t}a(n,e);var i=n.prototype;return i.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],i=t["aria-hidden"];return Ni(n)?e["aria-hidden"]="true":e["aria-label"]=n,Ni(i)||(e["aria-hidden"]=i),e},i.render=function(){var e=this.props,i=e.bordered,r=e.circular,o=e.className,a=e.color,l=e.corner,c=e.disabled,h=e.fitted,u=e.flipped,d=e.inverted,p=e.link,f=e.loading,g=e.name,m=e.rotated,v=e.size,y=qn(a,g,v,Kn(i,"bordered"),Kn(r,"circular"),Kn(c,"disabled"),Kn(h,"fitted"),Kn(d,"inverted"),Kn(p,"link"),Kn(f,"loading"),Jn(l,"corner"),Qn(u,"flipped"),Qn(m,"rotated"),"icon",o),b=ni(n,this.props),w=ii(n,this.props),x=this.getIconAriaOptions();return t.createElement(w,s({},b,x,{className:y,onClick:this.handleClick}))},n}(t.PureComponent);Gr.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],Gr.propTypes={},Gr.defaultProps={as:"i"},Gr.Group=Vr,Gr.create=Oi(Gr,(function(e){return{name:e}}));const Hr=Gr;var Wr=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleClick=function(e){t.props.disabled||Hn(t.props,"onClick",e,t.props)},t}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.active,r=e.children,o=e.className,a=e.color,l=e.content,c=e.disabled,h=e.fitted,u=e.header,d=e.icon,p=e.link,f=e.name,g=e.onClick,m=e.position,v=qn(a,m,Kn(i,"active"),Kn(c,"disabled"),Kn(!0===d||d&&!(f||l),"icon"),Kn(u,"header"),Kn(p,"link"),Jn(h,"fitted"),"item",o),y=ii(n,this.props,(function(){if(g)return"a"})),b=ni(n,this.props);return ai(r)?t.createElement(y,s({},b,{className:v,onClick:this.handleClick}),Hr.create(d,{autoGenerateKey:!1}),ai(l)?Br(f):l):t.createElement(y,s({},b,{className:v,onClick:this.handleClick}),r)},n}(t.Component);function qr(e){var n=e.children,i=e.className,r=e.content,o=e.position,a=qn(o,"menu",i),l=ni(qr,e),c=ii(qr,e);return t.createElement(c,s({},l,{className:a}),ai(n)?r:n)}Wr.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],Wr.propTypes={},Wr.create=Oi(Wr,(function(e){return{content:e,name:e}})),qr.handledProps=["as","children","className","content","position"],qr.propTypes={};const Xr=qr;var Yr=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleItemOverrides=function(e){return{onClick:function(n,i){var r=i.index;t.setState({activeIndex:r}),Hn(e,"onClick",n,i),Hn(t.props,"onItemClick",n,i)}}},t}a(n,e);var i=n.prototype;return i.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return An(t,(function(t,i){return Wr.create(t,{defaultProps:{active:parseInt(n,10)===i,index:i},overrideProps:e.handleItemOverrides})}))},i.render=function(){var e=this.props,i=e.attached,r=e.borderless,o=e.children,a=e.className,l=e.color,c=e.compact,h=e.fixed,u=e.floated,d=e.fluid,p=e.icon,f=e.inverted,g=e.pagination,m=e.pointing,v=e.secondary,y=e.size,b=e.stackable,w=e.tabular,x=e.text,S=e.vertical,k=e.widths,_=qn("ui",l,y,Kn(r,"borderless"),Kn(c,"compact"),Kn(d,"fluid"),Kn(f,"inverted"),Kn(g,"pagination"),Kn(m,"pointing"),Kn(v,"secondary"),Kn(b,"stackable"),Kn(x,"text"),Kn(S,"vertical"),Jn(i,"attached"),Jn(u,"floated"),Jn(p,"icon"),Jn(w,"tabular"),Qn(h,"fixed"),ti(k,"item"),a,"menu"),T=ni(n,this.props),C=ii(n,this.props);return t.createElement(C,s({},T,{className:_}),ai(o)?this.renderItems():o)},n}(ci);Yr.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],Yr.propTypes={},Yr.autoControlledProps=["activeIndex"],Yr.Header=Ui,Yr.Item=Wr,Yr.Menu=Xr,Yr.create=Oi(Yr,(function(e){return{items:e}}));const Kr=Yr;var Qr,Jr=n(950),$r=n.t(Jr,2);function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zr.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Qr||(Qr={}));const es="popstate";function ts(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ns(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function is(e,t){return{usr:e.state,key:e.key,idx:t}}function rs(e,t,n,i){return void 0===n&&(n=null),Zr({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?os(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function ss(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function os(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function as(e,t,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Qr.Pop,l=null,c=h();function h(){return(o.state||{idx:null}).idx}function u(){a=Qr.Pop;let e=h(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function d(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:ss(e);return n=n.replace(/ $/,"%20"),ts(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(Zr({},o.state,{idx:c}),""));let p={get action(){return a},get location(){return e(r,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(es,u),l=e,()=>{r.removeEventListener(es,u),l=null}},createHref:e=>t(r,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Qr.Push;let i=rs(p.location,e,t);n&&n(i,e),c=h()+1;let u=is(i,c),d=p.createHref(i);try{o.pushState(u,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;r.location.assign(d)}s&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a=Qr.Replace;let i=rs(p.location,e,t);n&&n(i,e),c=h();let r=is(i,c),u=p.createHref(i);o.replaceState(r,"",u),s&&l&&l({action:a,location:p.location,delta:0})},go:e=>o.go(e)};return p}var ls;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ls||(ls={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function cs(e,t,n){return void 0===n&&(n="/"),hs(e,t,n,!1)}function hs(e,t,n,i){let r=_s(("string"===typeof t?os(t):t).pathname||"/",n);if(null==r)return null;let s=us(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=ks(r);o=xs(s[a],e,i)}return o}function us(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(ts(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=As([i,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(ts(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),us(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:ws(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of ds(e.path))r(e,t,i);else r(e,t)})),t}function ds(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=ds(i.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),r&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const ps=/^:[\w-]+$/,fs=3,gs=2,ms=1,vs=10,ys=-2,bs=e=>"*"===e;function ws(e,t){let n=e.split("/"),i=n.length;return n.some(bs)&&(i+=ys),t&&(i+=gs),n.filter((e=>!bs(e))).reduce(((e,t)=>e+(ps.test(t)?fs:""===t?ms:vs)),i)}function xs(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,r={},s="/",o=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===s?t:t.slice(s.length)||"/",h=Ss({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!h&&l&&n&&!i[i.length-1].route.index&&(h=Ss({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:As([s,h.pathname]),pathnameBase:Ps(As([s,h.pathnameBase])),route:u}),"/"!==h.pathnameBase&&(s=As([s,h.pathnameBase]))}return o}function Ss(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ns("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function ks(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return ns(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _s(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function Ts(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Cs(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Es(e,t){let n=Cs(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Is(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=os(e):(r=Zr({},e),ts(!r.pathname||!r.pathname.includes("?"),Ts("?","pathname","search",r)),ts(!r.pathname||!r.pathname.includes("#"),Ts("#","pathname","hash",r)),ts(!r.search||!r.search.includes("#"),Ts("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?os(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Ns(i),hash:Ms(r)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}const As=e=>e.join("/").replace(/\/\/+/g,"/"),Ps=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ns=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ms=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Os(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Ls=["post","put","patch","delete"],Ds=(new Set(Ls),["get",...Ls]);new Set(Ds),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rs.apply(this,arguments)}const js=t.createContext(null);const Fs=t.createContext(null);const Us=t.createContext(null);const Bs=t.createContext(null);const zs=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Vs=t.createContext(null);function Gs(){return null!=t.useContext(Bs)}function Hs(){return Gs()||ts(!1),t.useContext(Bs).location}function Ws(e){t.useContext(Us).static||t.useLayoutEffect(e)}function qs(){let{isDataRoute:e}=t.useContext(zs);return e?function(){let{router:e}=io(to.UseNavigateStable),n=so(no.UseNavigateStable),i=t.useRef(!1);return Ws((()=>{i.current=!0})),t.useCallback((function(t,r){void 0===r&&(r={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Rs({fromRouteId:n},r)))}),[e,n])}():function(){Gs()||ts(!1);let e=t.useContext(js),{basename:n,future:i,navigator:r}=t.useContext(Us),{matches:s}=t.useContext(zs),{pathname:o}=Hs(),a=JSON.stringify(Es(s,i.v7_relativeSplatPath)),l=t.useRef(!1);return Ws((()=>{l.current=!0})),t.useCallback((function(t,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof t)return void r.go(t);let s=Is(t,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:As([n,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[n,r,a,o,e])}()}const Xs=t.createContext(null);function Ys(e,n){let{relative:i}=void 0===n?{}:n,{future:r}=t.useContext(Us),{matches:s}=t.useContext(zs),{pathname:o}=Hs(),a=JSON.stringify(Es(s,r.v7_relativeSplatPath));return t.useMemo((()=>Is(e,JSON.parse(a),o,"path"===i)),[e,a,o,i])}function Ks(e,n,i,r){Gs()||ts(!1);let{navigator:s}=t.useContext(Us),{matches:o}=t.useContext(zs),a=o[o.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let h,u=Hs();if(n){var d;let e="string"===typeof n?os(n):n;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||ts(!1),h=e}else h=u;let p=h.pathname||"/",f=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=cs(e,{pathname:f});let m=eo(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:As([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:As([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,i,r);return n&&m?t.createElement(Bs.Provider,{value:{location:Rs({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Qr.Pop}},m):m}function Qs(){let e=function(){var e;let n=t.useContext(Vs),i=ro(no.UseRouteError),r=so(no.UseRouteError);if(void 0!==n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=Os(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:s},i):null,null)}const Js=t.createElement(Qs,null);class $s extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(zs.Provider,{value:this.props.routeContext},t.createElement(Vs.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zs(e){let{routeContext:n,match:i,children:r}=e,s=t.useContext(js);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(zs.Provider,{value:n},r)}function eo(e,n,i,r){var s;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==e){var o;if(null==(o=i)||!o.errors)return null;e=i.matches}let a=e,l=null==(s=i)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||ts(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,h=-1;if(i&&r&&r.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=i,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){c=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,u=!1,d=null,p=null;var f;i&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||Js,c&&(h<0&&0===s?(f="route-fallback",!1||oo[f]||(oo[f]=!0),u=!0,p=null):h===s&&(u=!0,p=r.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,s+1)),m=()=>{let n;return n=o?d:u?p:r.route.Component?t.createElement(r.route.Component,null):r.route.element?r.route.element:e,t.createElement(Zs,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?t.createElement($s,{location:i.location,revalidation:i.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var to=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(to||{}),no=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(no||{});function io(e){let n=t.useContext(js);return n||ts(!1),n}function ro(e){let n=t.useContext(Fs);return n||ts(!1),n}function so(e){let n=function(){let e=t.useContext(zs);return e||ts(!1),e}(),i=n.matches[n.matches.length-1];return i.route.id||ts(!1),i.route.id}const oo={};i.startTransition;function ao(e){let{to:n,replace:i,state:r,relative:s}=e;Gs()||ts(!1);let{future:o,static:a}=t.useContext(Us),{matches:l}=t.useContext(zs),{pathname:c}=Hs(),h=qs(),u=Is(n,Es(l,o.v7_relativeSplatPath),c,"path"===s),d=JSON.stringify(u);return t.useEffect((()=>h(JSON.parse(d),{replace:i,state:r,relative:s})),[h,d,s,i,r]),null}function lo(e){return function(e){let n=t.useContext(zs).outlet;return n?t.createElement(Xs.Provider,{value:e},n):n}(e.context)}function co(e){ts(!1)}function ho(e){let{basename:n="/",children:i=null,location:r,navigationType:s=Qr.Pop,navigator:o,static:a=!1,future:l}=e;Gs()&&ts(!1);let c=n.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:c,navigator:o,static:a,future:Rs({v7_relativeSplatPath:!1},l)})),[c,l,o,a]);"string"===typeof r&&(r=os(r));let{pathname:u="/",search:d="",hash:p="",state:f=null,key:g="default"}=r,m=t.useMemo((()=>{let e=_s(u,c);return null==e?null:{location:{pathname:e,search:d,hash:p,state:f,key:g},navigationType:s}}),[c,u,d,p,f,g,s]);return null==m?null:t.createElement(Us.Provider,{value:h},t.createElement(Bs.Provider,{children:i,value:m}))}function uo(e){let{children:t,location:n}=e;return Ks(po(t),n)}new Promise((()=>{}));t.Component;function po(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,((e,r)=>{if(!t.isValidElement(e))return;let s=[...n,r];if(e.type===t.Fragment)return void i.push.apply(i,po(e.props.children,s));e.type!==co&&ts(!1),e.props.index&&e.props.children&&ts(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=po(e.props.children,s)),i.push(o)})),i}function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fo.apply(this,arguments)}function go(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const mo=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(NL){}new Map;const vo=i.startTransition;$r.flushSync,i.useId;function yo(e){let{basename:n,children:i,future:r,window:s}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),as((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return rs("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:ss(t)}),null,a)));let l=o.current,[c,h]=t.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},d=t.useCallback((e=>{u&&vo?vo((()=>h(e))):h(e)}),[h,u]);return t.useLayoutEffect((()=>l.listen(d)),[l,d]),t.createElement(ho,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:l,future:r})}const bo="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,wo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xo=t.forwardRef((function(e,n){let i,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:h,preventScrollReset:u,unstable_viewTransition:d}=e,p=go(e,mo),{basename:f}=t.useContext(Us),g=!1;if("string"===typeof h&&wo.test(h)&&(i=h,bo))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=_s(t.pathname,f);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:g=!0}catch(NL){}let m=function(e,n){let{relative:i}=void 0===n?{}:n;Gs()||ts(!1);let{basename:r,navigator:s}=t.useContext(Us),{hash:o,pathname:a,search:l}=Ys(e,{relative:i}),c=a;return"/"!==r&&(c="/"===a?r:As([r,a])),s.createHref({pathname:c,search:l,hash:o})}(h,{relative:s}),v=function(e,n){let{target:i,replace:r,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=qs(),h=Hs(),u=Ys(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==r?r:ss(h)===ss(u);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[h,c,u,r,s,i,e,o,a,l])}(h,{replace:a,state:l,target:c,preventScrollReset:u,relative:s,unstable_viewTransition:d});return t.createElement("a",fo({},p,{href:i||m,onClick:g||o?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var So,ko;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(So||(So={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ko||(ko={}));const _o=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},To={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,o=s?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,h=(3&t)<<4|o>>4;let u=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(u=64)),i.push(n[c],n[h],n[u],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==o||null==a)throw new Co;const l=t<<2|s>>4;if(i.push(l),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Co extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Eo=function(e){return function(e){const t=_o(e);return To.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Io=function(e){try{return To.decodeString(e,!0)}catch(NL){console.error("base64Decode failed: ",NL)}return null};function Ao(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ao(e[n],t[n]));return e}const Po=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,No=()=>{try{return Po()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/emotion-firebase",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(NL){return}const t=e&&Io(e[1]);return t&&JSON.parse(t)})()}catch(NL){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(NL))}},Mo=()=>{var e;return null===(e=No())||void 0===e?void 0:e.config};class Oo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Lo(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Eo(JSON.stringify({alg:"none",type:"JWT"})),Eo(JSON.stringify(s)),""].join(".")}function Do(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ro(){var e;const t=null===(e=No())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(NL){return!1}}function jo(){return"undefined"!==typeof window||Fo()}function Fo(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function Uo(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Bo(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function zo(){const e=Do();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Vo(){return!Ro()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Go(){try{return"object"===typeof indexedDB}catch(NL){return!1}}class Ho extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(qo,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new Ho(n,s,t)}}const qo=/\{\$([^}]+)}/g;function Xo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yo(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(Ko(n)&&Ko(s)){if(!Yo(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Ko(e){return null!==e&&"object"===typeof e}function Qo(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Jo(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function $o(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Zo(e,t){const n=new ea(e,t);return n.subscribe.bind(n)}class ea{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=ta),void 0===i.error&&(i.error=ta),void 0===i.complete&&(i.complete=ta);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(NL){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(NL){"undefined"!==typeof console&&console.error&&console.error(NL)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ta(){}function na(e){return e&&e._delegate?e._delegate:e}class ia{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ra="[DEFAULT]";class sa{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Oo;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(NL){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(NL){if(i)return null;throw NL}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch(NL){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(NL){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===ra?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra;return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oa{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sa(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const aa=[];var la;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(la||(la={}));const ca={debug:la.DEBUG,verbose:la.VERBOSE,info:la.INFO,warn:la.WARN,error:la.ERROR,silent:la.SILENT},ha=la.INFO,ua={[la.DEBUG]:"log",[la.VERBOSE]:"log",[la.INFO]:"info",[la.WARN]:"warn",[la.ERROR]:"error"},da=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=ua[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(e.name,":"),...s)};class pa{constructor(e){this.name=e,this._logLevel=ha,this._logHandler=da,this._userLogHandler=null,aa.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in la))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ca[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,la.DEBUG,...t),this._logHandler(this,la.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,la.VERBOSE,...t),this._logHandler(this,la.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,la.INFO,...t),this._logHandler(this,la.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,la.WARN,...t),this._logHandler(this,la.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,la.ERROR,...t),this._logHandler(this,la.ERROR,...t)}}const fa=(e,t)=>t.some((t=>e instanceof t));let ga,ma;const va=new WeakMap,ya=new WeakMap,ba=new WeakMap,wa=new WeakMap,xa=new WeakMap;let Sa={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ya.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ba.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ta(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ka(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ma||(ma=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(Ca(this),n),Ta(va.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Ta(e.apply(Ca(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=e.call(Ca(this),t,...i);return ba.set(s,t.sort?t.sort():[t]),Ta(s)}}function _a(e){return"function"===typeof e?ka(e):(e instanceof IDBTransaction&&function(e){if(ya.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));ya.set(e,t)}(e),fa(e,ga||(ga=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Sa):e)}function Ta(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(Ta(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&va.set(t,e)})).catch((()=>{})),xa.set(t,e),t}(e);if(wa.has(e))return wa.get(e);const t=_a(e);return t!==e&&(wa.set(e,t),xa.set(t,e)),t}const Ca=e=>xa.get(e);const Ea=["get","getKey","getAll","getAllKeys","count"],Ia=["put","add","delete","clear"],Aa=new Map;function Pa(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Aa.get(t))return Aa.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Ia.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Ea.includes(n))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&t.done]))[0]};return Aa.set(t,s),s}Sa=(e=>({...e,get:(t,n,i)=>Pa(t,n)||e.get(t,n,i),has:(t,n)=>!!Pa(t,n)||e.has(t,n)}))(Sa);class Na{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ma="@firebase/app",Oa="0.10.6",La=new pa("@firebase/app"),Da="@firebase/app-compat",Ra="@firebase/analytics-compat",ja="@firebase/analytics",Fa="@firebase/app-check-compat",Ua="@firebase/app-check",Ba="@firebase/auth",za="@firebase/auth-compat",Va="@firebase/database",Ga="@firebase/database-compat",Ha="@firebase/functions",Wa="@firebase/functions-compat",qa="@firebase/installations",Xa="@firebase/installations-compat",Ya="@firebase/messaging",Ka="@firebase/messaging-compat",Qa="@firebase/performance",Ja="@firebase/performance-compat",$a="@firebase/remote-config",Za="@firebase/remote-config-compat",el="@firebase/storage",tl="@firebase/storage-compat",nl="@firebase/firestore",il="@firebase/vertexai-preview",rl="@firebase/firestore-compat",sl="firebase",ol="[DEFAULT]",al={[Ma]:"fire-core",[Da]:"fire-core-compat",[ja]:"fire-analytics",[Ra]:"fire-analytics-compat",[Ua]:"fire-app-check",[Fa]:"fire-app-check-compat",[Ba]:"fire-auth",[za]:"fire-auth-compat",[Va]:"fire-rtdb",[Ga]:"fire-rtdb-compat",[Ha]:"fire-fn",[Wa]:"fire-fn-compat",[qa]:"fire-iid",[Xa]:"fire-iid-compat",[Ya]:"fire-fcm",[Ka]:"fire-fcm-compat",[Qa]:"fire-perf",[Ja]:"fire-perf-compat",[$a]:"fire-rc",[Za]:"fire-rc-compat",[el]:"fire-gcs",[tl]:"fire-gcs-compat",[nl]:"fire-fst",[rl]:"fire-fst-compat",[il]:"fire-vertex","fire-js":"fire-js",[sl]:"fire-js-all"},ll=new Map,cl=new Map,hl=new Map;function ul(e,t){try{e.container.addComponent(t)}catch(NL){La.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),NL)}}function dl(e,t){e.container.addOrOverwriteComponent(t)}function pl(e){const t=e.name;if(hl.has(t))return La.debug("There were multiple attempts to register component ".concat(t,".")),!1;hl.set(t,e);for(const n of ll.values())ul(n,e);for(const n of cl.values())ul(n,e);return!0}function fl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ol;fl(e,t).clearInstance(n)}function ml(e){return void 0!==e.options}function vl(e){return void 0!==e.settings}function yl(){hl.clear()}const bl=new Wo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wl{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ia("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bl.create("app-deleted",{appName:this._name})}}class xl extends wl{constructor(e,t,n,i){const r=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:r};if(void 0!==e.apiKey)super(e,s,i);else{super(e.options,s,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:r},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Il(Ma,Oa,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){El(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw bl.create("server-app-deleted")}}const Sl="10.12.3";function kl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:ol,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw bl.create("bad-app-name",{appName:String(r)});if(n||(n=Mo()),!n)throw bl.create("no-options");const s=ll.get(r);if(s){if(Yo(n,s.options)&&Yo(i,s.config))return s;throw bl.create("duplicate-app",{appName:r})}const o=new oa(r);for(const l of hl.values())o.addComponent(l);const a=new wl(n,i,o);return ll.set(r,a),a}function _l(e,t){if(jo()&&!Fo())throw bl.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=ml(e)?e.options:e;const i=Object.assign(Object.assign({},t),n);void 0!==i.releaseOnDeref&&delete i.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw bl.create("finalization-registry-not-supported",{});const r=""+(s=JSON.stringify(i),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const o=cl.get(r);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new oa(r);for(const c of hl.values())a.addComponent(c);const l=new xl(n,t,r,a);return cl.set(r,l),l}function Tl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol;const t=ll.get(e);if(!t&&e===ol&&Mo())return kl();if(!t)throw bl.create("no-app",{appName:e});return t}function Cl(){return Array.from(ll.values())}async function El(e){let t=!1;const n=e.name;if(ll.has(n))t=!0,ll.delete(n);else if(cl.has(n)){e.decRefCount()<=0&&(cl.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Il(e,t,n){var i;let r=null!==(i=al[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void La.warn(e.join(" "))}pl(new ia("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}function Al(e,t){if(null!==e&&"function"!==typeof e)throw bl.create("invalid-log-argument");!function(e,t){for(const n of aa){let i=null;t&&t.level&&(i=ca[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:la[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Pl(e){var t;t=e,aa.forEach((e=>{e.setLogLevel(t)}))}const Nl="firebase-heartbeat-database",Ml=1,Ol="firebase-heartbeat-store";let Ll=null;function Dl(){return Ll||(Ll=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Ta(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(Ta(o.result),e.oldVersion,e.newVersion,Ta(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Nl,Ml,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ol)}catch(NL){console.warn(NL)}}}).catch((e=>{throw bl.create("idb-open",{originalErrorMessage:e.message})}))),Ll}async function Rl(e,t){try{const n=(await Dl()).transaction(Ol,"readwrite"),i=n.objectStore(Ol);await i.put(t,jl(e)),await n.done}catch(NL){if(NL instanceof Ho)La.warn(NL.message);else{const t=bl.create("idb-set",{originalErrorMessage:null===NL||void 0===NL?void 0:NL.message});La.warn(t.message)}}}function jl(e){return"".concat(e.name,"!").concat(e.options.appId)}class Fl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Bl(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ul();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ul(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),zl(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),zl(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=Eo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Ul(){return(new Date).toISOString().substring(0,10)}class Bl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Go()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Dl()).transaction(Ol),n=await t.objectStore(Ol).get(jl(e));return await t.done,n}catch(NL){if(NL instanceof Ho)La.warn(NL.message);else{const t=bl.create("idb-get",{originalErrorMessage:null===NL||void 0===NL?void 0:NL.message});La.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zl(e){return Eo(JSON.stringify({version:2,heartbeats:e})).length}var Vl;Vl="",pl(new ia("platform-logger",(e=>new Na(e)),"PRIVATE")),pl(new ia("heartbeat",(e=>new Fl(e)),"PRIVATE")),Il(Ma,Oa,Vl),Il(Ma,Oa,"esm2017"),Il("fire-js","");class Gl{constructor(e,t){this._delegate=e,this.firebase=t,ul(e,new ia("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),El(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ol;var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ol;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ul(this._delegate,e)}_addOrOverwriteComponent(e){dl(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Hl=new Wo("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Wl=function t(){const n=function(t){const n={},i={__esModule:!0,initializeApp:function(e){const r=kl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Xo(n,r.name))return n[r.name];const s=new t(r,i);return n[r.name]=s,s},app:r,registerVersion:Il,setLogLevel:Pl,onLog:Al,apps:null,SDK_VERSION:Sl,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(pl(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[s])throw Hl.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Ao(o,e.serviceProps),i[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t.apply(this,e.multipleInstances?r:[])}}return"PUBLIC"===e.type?i[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function r(e){if(!Xo(n,e=e||ol))throw Hl.create("no-app",{appName:e});return n[e]}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),r.App=t,i}(Gl);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ao(n,e)},createSubscribe:Zo,ErrorFactory:Wo,deepExtend:Ao}),n}(),ql=new pa("@firebase/app-compat");if(jo()&&void 0!==self.firebase){ql.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ql.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xl=Wl;!function(e){Il("@firebase/app-compat","0.2.36",e)}();Xl.registerVersion("firebase","10.12.3","app-compat");function Yl(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Kl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ql="EMAIL_SIGNIN",Jl="PASSWORD_RESET",$l="RECOVER_EMAIL",Zl="REVERT_SECOND_FACTOR_ADDITION",ec="VERIFY_AND_CHANGE_EMAIL",tc="VERIFY_EMAIL";function nc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ic=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},rc=nc,sc=new Wo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oc=new pa("@firebase/auth");function ac(e){if(oc.logLevel<=la.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];oc.error("Auth (".concat(Sl,"): ").concat(e),...n)}}function lc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw pc(e,...n)}function cc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return pc(e,...n)}function hc(e,t,n){const i=Object.assign(Object.assign({},rc()),{[t]:n});return new Wo("auth","Firebase",i).create(t,{appName:e.name})}function uc(e){return hc(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&lc(e,"argument-error"),hc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function pc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return sc.create(e,...n)}function fc(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw pc(t,...i)}}function gc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ac(t),new Error(t)}function mc(e,t){e||gc(t)}function vc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yc(){return"http:"===bc()||"https:"===bc()}function bc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class wc{constructor(e,t){this.shortDelay=e,this.longDelay=t,mc(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Do())||Bo()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yc()||Uo()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function xc(e,t){mc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Sc{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_c=new wc(3e4,6e4);function Tc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Cc(e,t,n,i){return Ec(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const o=Qo(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Sc.fetch()(Ac(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))}))}async function Ec(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},kc),t);try{const t=new Nc(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Mc(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Mc(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Mc(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Mc(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw hc(e,a,o);lc(e,a)}}catch(NL){if(NL instanceof Ho)throw NL;lc(e,"network-request-failed",{message:String(NL)})}}async function Ic(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Cc(e,t,n,i,r);return"mfaPendingCredential"in s&&lc(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ac(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i);return e.config.emulator?xc(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}function Pc(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(cc(this.auth,"network-request-failed"))),_c.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mc(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=cc(e,t,i);return r.customData._tokenResponse=n,r}function Oc(e){return void 0!==e&&void 0!==e.getResponse}function Lc(e){return void 0!==e&&void 0!==e.enterprise}class Dc{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Pc(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Rc(e,t){return Cc(e,"GET","/v2/recaptchaConfig",Tc(e,t))}async function jc(e,t){return Cc(e,"POST","/v1/accounts:lookup",t)}function Fc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(NL){}}function Uc(e){return 1e3*Number(e)}function Bc(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return ac("JWT malformed, contained fewer than 3 sections"),null;try{const e=Io(n);return e?JSON.parse(e):(ac("Failed to decode base64 JWT payload"),null)}catch(NL){return ac("Caught error parsing JWT payload as JSON",null===NL||void 0===NL?void 0:NL.toString()),null}}function zc(e){const t=Bc(e);return fc(t,"internal-error"),fc("undefined"!==typeof t.exp,"internal-error"),fc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Vc(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(NL){throw NL instanceof Ho&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(NL)&&e.auth.currentUser===e&&await e.auth.signOut(),NL}}class Gc{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(NL){return void((null===NL||void 0===NL?void 0:NL.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Hc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Vc(e,jc(n,{idToken:i}));fc(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?qc(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const h=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!h&&u,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hc(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}function qc(e){return e.map((e=>{var{providerId:t}=e,n=Yl(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fc(e.idToken,"internal-error"),fc("undefined"!==typeof e.idToken,"internal-error"),fc("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):zc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fc(0!==e.length,"internal-error");const t=zc(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(fc(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await Ec(e,{},(async()=>{const n=Qo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=Ac(e,i,"/v1/token","key=".concat(r)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Sc.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new Xc;return n&&(fc("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(fc("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(fc("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return gc("not implemented")}}function Yc(e,t){fc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Kc{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=Yl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Hc(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Vc(this,this.stsTokenManager.getToken(this.auth,e));return fc(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=na(e),i=await n.getIdToken(t),r=Bc(i);fc(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Fc(Uc(r.auth_time)),issuedAtTime:Fc(Uc(r.iat)),expirationTime:Fc(Uc(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=na(e);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(fc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){fc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Wc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vl(this.auth.app))return Promise.reject(uc(this.auth));const e=await this.getIdToken();return await Vc(this,async function(e,t){return Cc(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,l,c;const h=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;fc(y&&S,e,"internal-error");const k=Xc.fromJSON(this.name,S);fc("string"===typeof y,e,"internal-error"),Yc(h,e.name),Yc(u,e.name),fc("boolean"===typeof b,e,"internal-error"),fc("boolean"===typeof w,e,"internal-error"),Yc(d,e.name),Yc(p,e.name),Yc(f,e.name),Yc(g,e.name),Yc(m,e.name),Yc(v,e.name);const _=new Kc({uid:y,auth:e,email:u,emailVerified:b,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:k,createdAt:m,lastLoginAt:v});return x&&Array.isArray(x)&&(_.providerData=x.map((e=>Object.assign({},e)))),g&&(_._redirectEventId=g),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new Xc;i.updateFromServerResponse(t);const r=new Kc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Wc(r),r}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];fc(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?qc(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length),o=new Xc;o.updateFromIdToken(n);const a=new Kc({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Hc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(a,l),a}}const Qc=new Map;function Jc(e){mc(e instanceof Function,"Expected a class definition");let t=Qc.get(e);return t?(mc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Qc.set(e,t),t)}class $c{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$c.type="NONE";const Zc=$c;function eh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class th{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=eh(this.userKey,i.apiKey,r),this.fullPersistenceKey=eh("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Kc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new th(Jc(Zc),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||Jc(Zc);const s=eh(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Kc._fromJSON(e,t);c!==r&&(o=n),r=c;break}}catch(l){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(l){}}))),new th(r,e,n)):new th(r,e,n)}}function nh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ih(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lh(t))return"Blackberry";if(ch(t))return"Webos";if(rh(t))return"Safari";if((t.includes("chrome/")||sh(t))&&!t.includes("edge/"))return"Chrome";if(ah(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ih(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return/firefox\//i.test(e)}function rh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return/crios\//i.test(e)}function oh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return/iemobile/i.test(e)}function ah(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return/android/i.test(e)}function lh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return/blackberry/i.test(e)}function ch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return/webos/i.test(e)}function hh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function uh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return hh(e)||ah(e)||ch(e)||lh(e)||/windows phone/i.test(e)||oh(e)}function dh(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=nh(Do());break;case"Worker":t="".concat(nh(Do()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sl,"/").concat(i)}class ph{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(NL){i(NL)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(NL){t.reverse();for(const i of t)try{i()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===NL||void 0===NL?void 0:NL.message})}}}class fh{constructor(e){var t,n,i,r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,r,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class gh{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vh(this),this.idTokenSubscription=new vh(this),this.beforeStateQueue=new ph(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jc(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await th.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(NL){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await jc(this,{idToken:e}),n=await Kc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vl(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(NL){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(NL)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fc(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(NL){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(NL){if((null===NL||void 0===NL?void 0:NL.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vl(this.app))return Promise.reject(uc(this));const t=e?na(e):null;return t&&fc(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&fc(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return vl(this.app)?Promise.reject(uc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vl(this.app)?Promise.reject(uc(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Jc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Cc(e,"GET","/v2/passwordPolicy",Tc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new fh(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Cc(e,"POST","/v2/accounts:revokeToken",Tc(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jc(e)||this._popupRedirectResolver;fc(t,this,"argument-error"),this.redirectPersistenceManager=await th.create(this,[Jc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(fc(o,this,"internal-error"),o.then((()=>{s||r(this.currentUser)})),"function"===typeof t){const r=e.addObserver(t,n,i);return()=>{s=!0,r()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fc(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(oc.logLevel<=la.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];oc.warn("Auth (".concat(Sl,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function mh(e){return na(e)}class vh{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zo((e=>this.observer=e))}get next(){return fc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bh(e){return yh.loadJS(e)}function wh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class xh{constructor(e){this.type="recaptcha-enterprise",this.auth=mh(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;Lc(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Rc(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new Dc(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&Lc(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=yh.recaptchaEnterpriseScript;0!==t.length&&(t+=r),bh(t).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function Sh(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new xh(e);let s;try{s=await r.verify(n)}catch(a){s=await r.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function kh(e,t,n,i){var r;if(null===(r=e._getRecaptchaConfig())||void 0===r?void 0:r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Sh(e,t,n,"getOobCode"===n);return i(e,r)}return i(e,t).catch((async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await Sh(e,t,n,"getOobCode"===n);return i(e,r)}return Promise.reject(r)}))}function _h(e,t,n){const i=mh(e);fc(i._canInitEmulator,i,"emulator-config-failed"),fc(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Th(t),{host:o,port:a}=function(e){const t=Th(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Ch(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Ch(t)}}}(t),l=null===a?"":":".concat(a);i.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Th(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ch(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Eh{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gc("not implemented")}_getIdTokenResponse(e){return gc("not implemented")}_linkToIdToken(e,t){return gc("not implemented")}_getReauthenticationResolver(e){return gc("not implemented")}}async function Ih(e,t){return Cc(e,"POST","/v1/accounts:resetPassword",Tc(e,t))}async function Ah(e,t){return Cc(e,"POST","/v1/accounts:signUp",t)}async function Ph(e,t){return Ic(e,"POST","/v1/accounts:signInWithPassword",Tc(e,t))}async function Nh(e,t){return Cc(e,"POST","/v1/accounts:sendOobCode",Tc(e,t))}async function Mh(e,t){return Nh(e,t)}async function Oh(e,t){return Nh(e,t)}class Lh extends Eh{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Lh(e,t,"password")}static _fromEmailAndCode(e,t){return new Lh(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return kh(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ph);case"emailLink":return async function(e,t){return Ic(e,"POST","/v1/accounts:signInWithEmailLink",Tc(e,t))}(e,{email:this._email,oobCode:this._password});default:lc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return kh(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ah);case"emailLink":return async function(e,t){return Ic(e,"POST","/v1/accounts:signInWithEmailLink",Tc(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:lc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Dh(e,t){return Ic(e,"POST","/v1/accounts:signInWithIdp",Tc(e,t))}class Rh extends Eh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=Yl(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Rh(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Dh(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dh(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dh(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qo(t)}return e}}const jh={USER_NOT_FOUND:"user-not-found"};class Fh extends Eh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fh({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fh({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ic(e,"POST","/v1/accounts:signInWithPhoneNumber",Tc(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ic(e,"POST","/v1/accounts:signInWithPhoneNumber",Tc(e,t));if(n.temporaryProof)throw Mc(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ic(e,"POST","/v1/accounts:signInWithPhoneNumber",Tc(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),jh)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Fh({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Uh{constructor(e){var t,n,i,r,s,o;const a=Jo($o(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);fc(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Jo($o(e)).link,n=t?Jo($o(t)).deep_link_id:null,i=Jo($o(e)).deep_link_id;return(i?Jo($o(i)).link:null)||i||n||t||e}(e);try{return new Uh(t)}catch(n){return null}}}class Bh{constructor(){this.providerId=Bh.PROVIDER_ID}static credential(e,t){return Lh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Uh.parseLink(t);return fc(n,"argument-error"),Lh._fromEmailAndCode(e,n.code,n.tenantId)}}Bh.PROVIDER_ID="password",Bh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class zh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vh extends zh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gh extends Vh{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return fc("providerId"in t&&"signInMethod"in t,"argument-error"),Rh._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return fc(e.idToken||e.accessToken,"argument-error"),Rh._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Gh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Gh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:a}=t;if(!i&&!r&&!n&&!s)return null;if(!a)return null;try{return new Gh(a)._credential({idToken:n,accessToken:i,nonce:o,pendingToken:s})}catch(NL){return null}}}class Hh extends Vh{constructor(){super("facebook.com")}static credential(e){return Rh._fromParams({providerId:Hh.PROVIDER_ID,signInMethod:Hh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hh.credentialFromTaggedObject(e)}static credentialFromError(e){return Hh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hh.credential(t.oauthAccessToken)}catch(n){return null}}}Hh.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hh.PROVIDER_ID="facebook.com";class Wh extends Vh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rh._fromParams({providerId:Wh.PROVIDER_ID,signInMethod:Wh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wh.credentialFromTaggedObject(e)}static credentialFromError(e){return Wh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Wh.credential(n,i)}catch(r){return null}}}Wh.GOOGLE_SIGN_IN_METHOD="google.com",Wh.PROVIDER_ID="google.com";class qh extends Vh{constructor(){super("github.com")}static credential(e){return Rh._fromParams({providerId:qh.PROVIDER_ID,signInMethod:qh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qh.credentialFromTaggedObject(e)}static credentialFromError(e){return qh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return qh.credential(t.oauthAccessToken)}catch(n){return null}}}qh.GITHUB_SIGN_IN_METHOD="github.com",qh.PROVIDER_ID="github.com";class Xh extends Eh{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Dh(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Dh(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dh(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new Xh(n,r):null}static _create(e,t){return new Xh(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yh extends zh{constructor(e){fc(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Yh.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Yh.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Xh.fromJSON(e);return fc(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:i}=t;if(!n||!i)return null;try{return Xh._create(i,n)}catch(NL){return null}}}class Kh extends Vh{constructor(){super("twitter.com")}static credential(e,t){return Rh._fromParams({providerId:Kh.PROVIDER_ID,signInMethod:Kh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kh.credentialFromTaggedObject(e)}static credentialFromError(e){return Kh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Kh.credential(n,i)}catch(r){return null}}}async function Qh(e,t){return Ic(e,"POST","/v1/accounts:signUp",Tc(e,t))}Kh.TWITTER_SIGN_IN_METHOD="twitter.com",Kh.PROVIDER_ID="twitter.com";class Jh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Kc._fromIdTokenResponse(e,n,i),s=$h(n);return new Jh({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=$h(n);return new Jh({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function $h(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Zh extends Ho{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Zh(e,t,n,i)}}function eu(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zh._fromErrorAndOperation(e,n,t,i);throw n}))}function tu(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function nu(e,t){const n=na(e);await ru(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return Cc(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),r=tu(i||[]);return n.providerData=n.providerData.filter((e=>r.has(e.providerId))),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function iu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await Vc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Jh._forOperation(e,"link",i)}async function ru(e,t,n){await Wc(t);const i=!1===e?"provider-already-linked":"no-such-provider";fc(tu(t.providerData).has(n)===e,t.auth,i)}async function su(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if(vl(i.app))return Promise.reject(uc(i));const r="reauthenticate";try{const s=await Vc(e,eu(i,r,t,e),n);fc(s.idToken,i,"internal-error");const o=Bc(s.idToken);fc(o,i,"internal-error");const{sub:a}=o;return fc(e.uid===a,i,"user-mismatch"),Jh._forOperation(e,r,s)}catch(NL){throw(null===NL||void 0===NL?void 0:NL.code)==="auth/".concat("user-not-found")&&lc(i,"user-mismatch"),NL}}async function ou(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(vl(e.app))return Promise.reject(uc(e));const i="signIn",r=await eu(e,i,t),s=await Jh._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function au(e,t){return ou(mh(e),t)}async function lu(e,t){const n=na(e);return await ru(!1,n,t.providerId),iu(n,t)}async function cu(e,t){return su(na(e),t)}async function hu(e,t){if(vl(e.app))return Promise.reject(uc(e));const n=mh(e),i=await async function(e,t){return Ic(e,"POST","/v1/accounts:signInWithCustomToken",Tc(e,t))}(n,{token:t,returnSecureToken:!0}),r=await Jh._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}class uu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?du._fromServerResponse(e,t):"totpInfo"in t?pu._fromServerResponse(e,t):lc(e,"internal-error")}}class du extends uu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new du(t)}}class pu extends uu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new pu(t)}}function fu(e,t,n){var i;fc((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),fc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(fc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(fc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function gu(e){const t=mh(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function mu(e,t){await async function(e,t){return Cc(e,"POST","/v1/accounts:update",Tc(e,t))}(na(e),{oobCode:t})}async function vu(e,t){const n=na(e),i=await Ih(n,{oobCode:t}),r=i.requestType;switch(fc(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fc(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fc(i.mfaInfo,n,"internal-error");default:fc(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=uu._fromServerResponse(mh(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}}async function yu(e,t){const n={identifier:t,continueUri:yc()?vc():"http://localhost"},{signinMethods:i}=await async function(e,t){return Cc(e,"POST","/v1/accounts:createAuthUri",Tc(e,t))}(na(e),n);return i||[]}async function bu(e,t){const n=na(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&fu(n.auth,i,t);const{email:r}=await async function(e,t){return Nh(e,t)}(n.auth,i);r!==e.email&&await e.reload()}async function wu(e,t,n){const i=na(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&fu(i.auth,r,n);const{email:s}=await async function(e,t){return Nh(e,t)}(i.auth,r);s!==e.email&&await e.reload()}async function xu(e,t){let{displayName:n,photoURL:i}=t;if(void 0===n&&void 0===i)return;const r=na(e),s={idToken:await r.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},o=await Vc(r,async function(e,t){return Cc(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}async function Su(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await Vc(e,async function(e,t){return Cc(e,"POST","/v1/accounts:update",t)}(i,r));await e._updateTokensIfNecessary(s,!0)}class ku{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class _u extends ku{constructor(e,t,n,i){super(e,t,n),this.username=i}}class Tu extends ku{constructor(e,t){super(e,"facebook.com",t)}}class Cu extends _u{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Eu extends ku{constructor(e,t){super(e,"google.com",t)}}class Iu extends _u{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Au(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null===e||void 0===e?void 0:e.idToken)){const i=null===(n=null===(t=Bc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new ku(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new Tu(s,r);case"github.com":return new Cu(s,r);case"google.com":return new Eu(s,r);case"twitter.com":return new Iu(s,r,e.screenName||null);case"custom":case"anonymous":return new ku(s,null);default:return new ku(s,i,r)}}(n)}class Pu{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Pu("enroll",e,t)}static _fromMfaPendingCredential(e){return new Pu("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Pu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Pu._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Nu{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=mh(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>uu._fromServerResponse(n,e)));fc(i.mfaPendingCredential,n,"internal-error");const s=Pu._fromMfaPendingCredential(i.mfaPendingCredential);return new Nu(s,r,(async e=>{const r=await e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const o=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await Jh._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return fc(t.user,n,"internal-error"),Jh._forOperation(t.user,t.operationType,o);default:lc(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Mu{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>uu._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Mu(e)}async getSession(){return Pu._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,i=await this.getSession(),r=await Vc(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Vc(this.user,(i=this.user.auth,r={idToken:n,mfaEnrollmentId:t},Cc(i,"POST","/v2/accounts/mfaEnrollment:withdraw",Tc(i,r))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(NL){throw NL}var i,r}}const Ou=new WeakMap;const Lu="__sak";class Du{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lu,"1"),this.storage.removeItem(Lu),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ru extends Du{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Do();return rh(e)||hh(e)}()&&function(){try{return!(!window||window===window.top)}catch(NL){return!1}}(),this.fallbackToPolling=uh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);zo()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ru.type="LOCAL";const ju=Ru;class Fu extends Du{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Fu.type="SESSION";const Uu=Fu;class Bu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Bu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function zu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Bu.receivers=[];class Vu{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=zu("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Gu(){return window}function Hu(){return"undefined"!==typeof Gu().WorkerGlobalScope&&"function"===typeof Gu().importScripts}const Wu="firebaseLocalStorageDb",qu="firebaseLocalStorage",Xu="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ku(e,t){return e.transaction([qu],t?"readwrite":"readonly").objectStore(qu)}function Qu(){const e=indexedDB.open(Wu,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(qu,{keyPath:Xu})}catch(NL){n(NL)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(qu)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Wu);return new Yu(e).toPromise()}(),t(await Qu()))}))}))}async function Ju(e,t,n){const i=Ku(e,!0).put({[Xu]:t,value:n});return new Yu(i).toPromise()}function $u(e,t){const n=Ku(e,!0).delete(t);return new Yu(n).toPromise()}class Zu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Qu()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(NL){if(t++>3)throw NL;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bu._getInstance(Hu()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Vu(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qu();return await Ju(e,Lu,"1"),await $u(e,Lu),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ju(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ku(e,!1).get(t),i=await new Yu(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>$u(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ku(e,!1).getAll();return new Yu(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Zu.type="LOCAL";const ed=Zu;const td=1e12;class nd{constructor(e){this.auth=e,this.counter=td,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new id(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||td;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||td;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||td;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class id{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"===typeof e?document.getElementById(e):e;fc(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(NL){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(NL){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rd=wh("rcb"),sd=new wc(3e4,6e4);class od{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Gu().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fc(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Oc(Gu().grecaptcha)?Promise.resolve(Gu().grecaptcha):new Promise(((n,i)=>{const r=Gu().setTimeout((()=>{i(cc(e,"network-request-failed"))}),sd.get());Gu()[rd]=()=>{Gu().clearTimeout(r),delete Gu()[rd];const s=Gu().grecaptcha;if(!s||!Oc(s))return void i(cc(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};bh("".concat(yh.recaptchaV2Script,"?").concat(Qo({onload:rd,render:"explicit",hl:t}))).catch((()=>{clearTimeout(r),i(cc(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Gu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ad{async load(e){return new nd(e)}clearedOneInstance(){}}const ld="recaptcha",cd={theme:"light",type:"image"};class hd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},cd);this.parameters=n,this.type=ld,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mh(e),this.isInvisible="invisible"===this.parameters.size,fc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"===typeof t?document.getElementById(t):t;fc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ad:new od,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(NL){return Promise.reject(NL)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){fc(!this.parameters.sitekey,this.auth,"argument-error"),fc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Gu()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){fc(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){fc(yc()&&!Hu(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Cc(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);fc(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return fc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ud{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Fh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function dd(e,t,n){var i;const r=await n.verify();try{let s;if(fc("string"===typeof r,e,"argument-error"),fc(n.type===ld,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){fc("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Cc(e,"POST","/v2/accounts/mfaEnrollment:start",Tc(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{fc("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;fc(n,e,"missing-multi-factor-info");const o=await function(e,t){return Cc(e,"POST","/v2/accounts/mfaSignIn:start",Tc(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Cc(e,"POST","/v1/accounts:sendVerificationCode",Tc(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class pd{constructor(e){this.providerId=pd.PROVIDER_ID,this.auth=mh(e)}verifyPhoneNumber(e,t){return dd(this.auth,e,na(t))}static credential(e,t){return Fh._fromVerification(e,t)}static credentialFromResult(e){const t=e;return pd.credentialFromTaggedObject(t)}static credentialFromError(e){return pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?Fh._fromTokenResponse(n,i):null}}function fd(e,t){return t?Jc(t):(fc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pd.PROVIDER_ID="phone",pd.PHONE_SIGN_IN_METHOD="phone";class gd extends Eh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function md(e){return ou(e.auth,new gd(e),e.bypassAuthState)}function vd(e){const{auth:t,user:n}=e;return fc(n,t,"internal-error"),su(n,new gd(e),e.bypassAuthState)}async function yd(e){const{auth:t,user:n}=e;return fc(n,t,"internal-error"),iu(n,new gd(e),e.bypassAuthState)}class bd{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(NL){this.reject(NL)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(NL){this.reject(NL)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return md;case"linkViaPopup":case"linkViaRedirect":return yd;case"reauthViaPopup":case"reauthViaRedirect":return vd;default:lc(this.auth,"internal-error")}}resolve(e){mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wd=new wc(2e3,1e4);class xd extends bd{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,xd.currentPopupAction&&xd.currentPopupAction.cancel(),xd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fc(e,this.auth,"internal-error"),e}async onExecution(){mc(1===this.filter.length,"Popup operations only handle one event");const e=zu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(cc(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(cc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(cc(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,wd.get())};e()}}xd.currentPopupAction=null;const Sd="pendingRedirect",kd=new Map;class _d extends bd{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=kd.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Id(t),i=Ed(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(NL){e=()=>Promise.reject(NL)}kd.set(this.auth._key(),e)}return this.bypassAuthState||kd.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Td(e,t){return Ed(e)._set(Id(t),"true")}function Cd(e,t){kd.set(e._key(),t)}function Ed(e){return Jc(e._redirectPersistence)}function Id(e){return eh(Sd,e.config.apiKey,e.name)}function Ad(e,t,n){return async function(e,t,n){if(vl(e.app))return Promise.reject(uc(e));const i=mh(e);dc(e,t,zh),await i._initializationPromise;const r=fd(i,n);return await Td(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)}function Pd(e,t,n){return async function(e,t,n){const i=na(e);if(dc(i.auth,t,zh),vl(i.auth.app))return Promise.reject(uc(i.auth));await i.auth._initializationPromise;const r=fd(i.auth,n);await Td(r,i.auth);const s=await Od(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Nd(e,t,n){return async function(e,t,n){const i=na(e);dc(i.auth,t,zh),await i.auth._initializationPromise;const r=fd(i.auth,n);await ru(!1,i,t.providerId),await Td(r,i.auth);const s=await Od(i);return r._openRedirect(i.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Md(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(vl(e.app))return Promise.reject(uc(e));const i=mh(e),r=fd(i,t),s=new _d(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}async function Od(e){const t=zu("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ld{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Rd(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(cc(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dd(e))}saveEventToCache(e){this.cachedEventUids.add(Dd(e)),this.lastProcessedEventTime=Date.now()}}function Dd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Rd(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function jd(e){return Cc(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Fd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ud=/^https?/;function Bd(e){const t=vc(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Ud.test(n))return!1;if(Fd.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const zd=new wc(3e4,6e4);function Vd(){const e=Gu().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Gd(e){return new Promise(((t,n)=>{var i,r,s;function o(){Vd(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vd(),n(cc(e,"network-request-failed"))},timeout:zd.get()})}if(null===(r=null===(i=Gu().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Gu().gapi)||void 0===s?void 0:s.load)){const t=wh("iframefcb");return Gu()[t]=()=>{gapi.load?o():n(cc(e,"network-request-failed"))},bh("".concat(yh.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Hd=null,e}))}let Hd=null;const Wd=new wc(5e3,15e3),qd="__/auth/iframe",Xd="emulator/auth/iframe",Yd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qd(e){const t=e.config;fc(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?xc(t,Xd):"https://".concat(e.config.authDomain,"/").concat(qd),i={apiKey:t.apiKey,appName:e.name,v:Sl},r=Kd.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(Qo(i).slice(1))}async function Jd(e){const t=await function(e){return Hd=Hd||Gd(e),Hd}(e),n=Gu().gapi;return fc(n,e,"internal-error"),t.open({where:document.body,url:Qd(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yd,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=cc(e,"network-request-failed"),s=Gu().setTimeout((()=>{i(r)}),Wd.get());function o(){Gu().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}const $d={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(NL){}}}function ep(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$d),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Do().toLowerCase();n&&(a=sh(c)?"_blank":n),ih(c)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return hh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new Zd(null);const u=window.open(t||"",a,h);fc(u,e,"popup-blocked");try{u.focus()}catch(NL){}return new Zd(u)}const tp="__/auth/handler",np="emulator/auth/handler",ip=encodeURIComponent("fac");async function rp(e,t,n,i,r,s){fc(e.config.authDomain,e,"auth-domain-config-required"),fc(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Sl,eventId:r};if(t instanceof zh){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Vh){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const h of Object.keys(a))void 0===a[h]&&delete a[h];const l=await e._getAppCheckToken(),c=l?"#".concat(ip,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(tp);return xc(t,np)}(e),"?").concat(Qo(a).slice(1)).concat(c)}const sp="webStorageSupport";const op=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uu,this._completeRedirectFn=Md,this._overrideRedirectResult=Cd}async _openPopup(e,t,n,i){var r;mc(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return ep(e,await rp(e,t,n,vc(),i),zu())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){Gu().location.href=e}(await rp(e,t,n,vc(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(mc(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Jd(e),n=new Ld(e);return t.register("authEvent",(t=>{fc(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sp,{type:sp},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[sp];void 0!==r&&t(!!r),lc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jd(e);for(const i of t)try{if(Bd(i))return}catch(n){}lc(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uh()||rh()||hh()}};class ap{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return gc("unexpected MultiFactorSessionType")}}}class lp extends ap{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new lp(e)}_finalizeEnroll(e,t,n){return function(e,t){return Cc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Tc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Cc(e,"POST","/v2/accounts/mfaSignIn:finalize",Tc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class cp{constructor(){}static assertion(e){return lp._fromCredential(e)}}cp.FACTOR_ID="phone";var hp="@firebase/auth",up="1.7.5";class dp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=No())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var pp;function fp(){return window}yh={loadJS:e=>new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=cc("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},pp="Browser",pl(new ia("auth",((e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;fc(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:pp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dh(pp)},c=new gh(i,r,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Jc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),pl(new ia("auth-internal",(e=>(e=>new dp(e))(mh(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Il(hp,up,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(pp)),Il(hp,up,"esm2017");async function gp(e,t,n){var i;const{BuildInfo:r}=fp();mc(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(mc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return hh()?o.ibi=r.packageName:ah()?o.apn=r.packageName:lc(e,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,rp(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,o)}function mp(e){const{cordova:t}=fp();return new Promise((n=>{t.plugins.browsertab.isAvailable((i=>{let r=null;i?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(r)}))}))}const vp=20;class yp extends Ld{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function bp(e){const t=await Sp()._get(kp(e));return t&&await Sp()._remove(kp(e)),t}function wp(e,t){var n,i;const r=function(e){const t=_p(e),n=t.link?decodeURIComponent(t.link):void 0,i=_p(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return _p(r).link||r||i||n||e}(t);if(r.includes("/__/auth/callback")){const t=_p(r),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(NL){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(i=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],a=o?cc(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}function xp(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<vp;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Sp(){return Jc(ju)}function kp(e){return eh("authEvent",e.config.apiKey,e.name)}function _p(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Jo(n.join("?"))}const Tp=class{constructor(){this._redirectPersistence=Uu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Md,this._overrideRedirectResult=Cd}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new yp(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){lc(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,r,s,o,a,l,c,h;const u=fp();fc("function"===typeof(null===(t=null===u||void 0===u?void 0:u.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fc("undefined"!==typeof(null===(n=null===u||void 0===u?void 0:u.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fc("function"===typeof(null===(s=null===(r=null===(i=null===u||void 0===u?void 0:u.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fc("function"===typeof(null===(l=null===(a=null===(o=null===u||void 0===u?void 0:u.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fc("function"===typeof(null===(h=null===(c=null===u||void 0===u?void 0:u.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===h?void 0:h.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=await this._initialize(e);await r.initialized(),r.resetRedirect(),kd.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:xp(),postBody:null,tenantId:e.tenantId,error:cc(e,"no-auth-event")}}(e,n,i);await function(e,t){return Sp()._set(kp(e),t)}(e,s);const o=await gp(e,s,t);return async function(e,t,n){const{cordova:i}=fp();let r=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(cc(e,"redirect-cancelled-by-user"))}),2e3))}function h(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ah()&&document.addEventListener("visibilitychange",h,!1),r=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",h,!1),a&&window.clearTimeout(a)}}))}finally{r()}}(e,r,await mp(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=fp(),n={};hh()?n.iosBundleId=t.packageName:ah()?n.androidPackageName=t.packageName:lc(e,"operation-not-supported-in-this-environment"),await jd(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=fp(),s=setTimeout((async()=>{await bp(e),t.onEvent(Cp())}),500),o=async n=>{clearTimeout(s);const i=await bp(e);let r=null;i&&(null===n||void 0===n?void 0:n.url)&&(r=wp(i,n.url)),t.onEvent(r||Cp())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=i,l="".concat(r.packageName.toLowerCase(),"://");fp().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(NL){console.error(NL)}}}};function Cp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:cc("no-auth-event")}}function Ep(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return!("file:"!==Ep()&&"ionic:"!==Ep()&&"capacitor:"!==Ep()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return zo()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do();return/Edge\/\d+/.test(e)}(e)}function Pp(){try{const e=self.localStorage,t=zu();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ap()||Go()}catch(NL){return Np()&&Go()}return!1}function Np(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Mp(){return("http:"===Ep()||"https:"===Ep()||Uo()||Ip())&&!(Bo()||Ro())&&Pp()&&!Np()}function Op(){return Ip()&&"undefined"!==typeof document}const Lp={LOCAL:"local",NONE:"none",SESSION:"session"},Dp=fc,Rp="persistence";async function jp(e){await e._initializationPromise;const t=Fp(),n=eh(Rp,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Fp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(NL){return null}}const Up=fc;class Bp{constructor(){this.browserResolver=Jc(op),this.cordovaResolver=Jc(Tp),this.underlyingResolver=null,this._redirectPersistence=Uu,this._completeRedirectFn=Md,this._overrideRedirectResult=Cd}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Op()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Up(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Op()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function zp(e){return e.unwrap()}function Vp(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new qp(e,function(e,t){var n;const i=na(e),r=t;return fc(t.customData.operationType,i,"argument-error"),fc(null===(n=r.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),Nu._fromError(i,r)}(e,t))}else if(i){const e=Gp(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}function Gp(e){const{_tokenResponse:t}=e instanceof Ho?e.customData:e;if(!t)return null;if(!(e instanceof Ho)&&"temporaryProof"in t&&"phoneNumber"in t)return pd.credentialFromResult(e);const n=t.providerId;if(!n||n===Kl.PASSWORD)return null;let i;switch(n){case Kl.GOOGLE:i=Wh;break;case Kl.FACEBOOK:i=Hh;break;case Kl.GITHUB:i=qh;break;case Kl.TWITTER:i=Kh;break;default:const{oauthIdToken:e,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return r||s||e||o?o?n.startsWith("saml.")?Xh._create(n,o):Rh._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:r}):new Gh(n).credential({idToken:e,accessToken:r,rawNonce:a}):null}return e instanceof Ho?i.credentialFromError(e):i.credentialFromResult(e)}function Hp(e,t){return t.catch((t=>{throw t instanceof Ho&&Vp(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,Gp(i)),additionalUserInfo:Au(e),user:Xp.getOrCreate(n)};var i}))}async function Wp(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Hp(e,n.confirm(t))}}class qp{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Hp(zp(this.auth),this.resolver.resolveSignIn(e))}}class Xp{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=na(e);return Ou.has(t)||Ou.set(t,Mu._fromUser(t)),Ou.get(t)}(e)}static getOrCreate(e){return Xp.USER_MAP.has(e)||Xp.USER_MAP.set(e,new Xp(e)),Xp.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Hp(this.auth,lu(this._delegate,e))}async linkWithPhoneNumber(e,t){return Wp(this.auth,async function(e,t,n){const i=na(e);await ru(!1,i,"phone");const r=await dd(i.auth,t,na(n));return new ud(r,(e=>lu(i,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Hp(this.auth,async function(e,t,n){const i=na(e);dc(i.auth,t,zh);const r=fd(i.auth,n);return new xd(i.auth,"linkViaPopup",t,r,i).executeNotNull()}(this._delegate,e,Bp))}async linkWithRedirect(e){return await jp(mh(this.auth)),Nd(this._delegate,e,Bp)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Hp(this.auth,cu(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Wp(this.auth,async function(e,t,n){const i=na(e);if(vl(i.auth.app))return Promise.reject(uc(i.auth));const r=await dd(i.auth,t,na(n));return new ud(r,(e=>cu(i,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Hp(this.auth,async function(e,t,n){const i=na(e);if(vl(i.auth.app))return Promise.reject(cc(i.auth,"operation-not-supported-in-this-environment"));dc(i.auth,t,zh);const r=fd(i.auth,n);return new xd(i.auth,"reauthViaPopup",t,r,i).executeNotNull()}(this._delegate,e,Bp))}async reauthenticateWithRedirect(e){return await jp(mh(this.auth)),Pd(this._delegate,e,Bp)}sendEmailVerification(e){return bu(this._delegate,e)}async unlink(e){return await nu(this._delegate,e),this}updateEmail(e){return function(e,t){const n=na(e);return vl(n.auth.app)?Promise.reject(uc(n.auth)):Su(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Su(na(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=na(e);if(vl(n.auth.app))return Promise.reject(uc(n.auth));await iu(n,t)}(this._delegate,e)}updateProfile(e){return xu(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return wu(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xp.USER_MAP=new WeakMap;const Yp=fc;class Kp{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Yp(n,"invalid-api-key",{appName:e.name}),Yp(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?Bp:void 0;this._delegate=t.initialize({options:{persistence:Jp(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ic),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xp.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){_h(this._delegate,e,t)}applyActionCode(e){return mu(this._delegate,e)}checkActionCode(e){return vu(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ih(na(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&gu(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Hp(this._delegate,async function(e,t,n){if(vl(e.app))return Promise.reject(uc(e));const i=mh(e),r=kh(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qh),s=await r.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&gu(e),t})),o=await Jh._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return yu(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Uh.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Yp(Mp(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await mh(e)._initializationPromise,Md(e,t,!1)}(this._delegate,Bp);return e?Hp(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){mh(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:s}=Qp(e,t,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:s}=Qp(e,t,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const i=mh(e),r={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){fc(t.handleCodeInApp,i,"argument-error"),t&&fu(i,e,t)}(r,n),await kh(i,r,"getOobCode",Oh)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const i=mh(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&fu(i,r,n),await kh(i,r,"getOobCode",Mh)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Dp(Object.values(Lp).includes(t),e,"invalid-persistence-type"),Bo()?Dp(t!==Lp.SESSION,e,"unsupported-persistence-type"):Ro()?Dp(t===Lp.NONE,e,"unsupported-persistence-type"):Np()?Dp(t===Lp.NONE||t===Lp.LOCAL&&Go(),e,"unsupported-persistence-type"):Dp(t===Lp.NONE||Pp(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Lp.SESSION:t=Uu;break;case Lp.LOCAL:t=await Jc(ed)._isAvailable()?ed:ju;break;case Lp.NONE:t=Zc;break;default:return lc("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Hp(this._delegate,async function(e){var t;if(vl(e.app))return Promise.reject(uc(e));const n=mh(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Jh({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await Qh(n,{returnSecureToken:!0}),r=await Jh._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}(this._delegate))}signInWithCredential(e){return Hp(this._delegate,au(this._delegate,e))}signInWithCustomToken(e){return Hp(this._delegate,hu(this._delegate,e))}signInWithEmailAndPassword(e,t){return Hp(this._delegate,function(e,t,n){return vl(e.app)?Promise.reject(uc(e)):au(na(e),Bh.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&gu(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Hp(this._delegate,async function(e,t,n){if(vl(e.app))return Promise.reject(uc(e));const i=na(e),r=Bh.credentialWithLink(t,n||vc());return fc(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),au(i,r)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Wp(this._delegate,async function(e,t,n){if(vl(e.app))return Promise.reject(uc(e));const i=mh(e),r=await dd(i,t,na(n));return new ud(r,(e=>au(i,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Yp(Mp(),this._delegate,"operation-not-supported-in-this-environment"),Hp(this._delegate,async function(e,t,n){if(vl(e.app))return Promise.reject(cc(e,"operation-not-supported-in-this-environment"));const i=mh(e);dc(e,t,zh);const r=fd(i,n);return new xd(i,"signInViaPopup",t,r).executeNotNull()}(this._delegate,e,Bp))}async signInWithRedirect(e){return Yp(Mp(),this._delegate,"operation-not-supported-in-this-environment"),await jp(this._delegate),Ad(this._delegate,e,Bp)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await vu(na(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Qp(e,t,n){let i=e;"function"!==typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&Xp.getOrCreate(e)),error:t,complete:n}}function Jp(e,t){const n=function(e,t){const n=Fp();if(!n)return[];const i=eh(Rp,e,t);switch(n.getItem(i)){case Lp.NONE:return[Zc];case Lp.LOCAL:return[ed,Uu];case Lp.SESSION:return[Uu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ed)||n.push(ed),"undefined"!==typeof window)for(const i of[ju,Uu])n.includes(i)||n.push(i);return n.includes(Zc)||n.push(Zc),n}Kp.Persistence=Lp;class $p{constructor(){this.providerId="phone",this._delegate=new pd(zp(Xl.auth()))}static credential(e,t){return pd.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}$p.PHONE_SIGN_IN_METHOD=pd.PHONE_SIGN_IN_METHOD,$p.PROVIDER_ID=pd.PROVIDER_ID;const Zp=fc;class ef{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xl.app();var i;Zp(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new hd(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var tf;(tf=Xl).INTERNAL.registerComponent(new ia("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Kp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ql,PASSWORD_RESET:Jl,RECOVER_EMAIL:$l,REVERT_SECOND_FACTOR_ADDITION:Zl,VERIFY_AND_CHANGE_EMAIL:ec,VERIFY_EMAIL:tc}},EmailAuthProvider:Bh,FacebookAuthProvider:Hh,GithubAuthProvider:qh,GoogleAuthProvider:Wh,OAuthProvider:Gh,SAMLAuthProvider:Yh,PhoneAuthProvider:$p,PhoneMultiFactorGenerator:cp,RecaptchaVerifier:ef,TwitterAuthProvider:Kh,Auth:Kp,AuthCredential:Eh,Error:Ho}).setInstantiationMode("LAZY").setMultipleInstances(!1)),tf.registerVersion("@firebase/auth-compat","0.5.10");var nf,rf,sf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},of={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var i=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],o=t+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=0|e[r];i&&s==t||(n[r]=s,i=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var i=t-this.blockSize,r=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=i;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,r),s=0;break}}else for(;o<t;)if(r[s++]=e[o++],s==this.blockSize){n(this,r),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var r={};function s(e){return-128<=e&&128>e?function(e,t){var n=r;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new i([0|e],0>e?-1:0)})):new i([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var a=s(0),l=s(1),c=s(16777216);function h(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(l)}function p(e,t){return e.add(d(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(h(t))throw Error("division by zero");if(h(e))return new g(a,a);if(u(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(u(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=t;0>=i.l(e);)n=v(n),i=v(i);var r=y(n,1),s=y(i,1);for(i=y(i,2),n=y(n,2);!h(i);){var c=s.add(i);0>=c.l(e)&&(r=r.add(n),s=c),i=y(i,1),n=y(n,1)}return t=p(e,r.j(t)),new g(r,t)}for(r=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),c=(s=o(n)).j(t);u(c)||0<c.l(e);)c=(s=o(n-=i)).j(t);h(s)&&(s=l),r=r.add(s),e=p(e,c)}return new g(r,e)}function v(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],o=0;o<r;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new i(s,e.h)}(e=i.prototype).m=function(){if(u(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.i(n);e+=(0<=i?i:4294967296+i)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(h(this))return"0";if(u(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,i="";;){var r=m(n,t).g,s=((0<(n=p(n,r.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(h(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=p(this,e))?-1:h(e)?0:1},e.abs=function(){return u(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var o=r+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(h(this)||h(e))return a;if(u(this))return u(e)?d(this).j(d(e)):d(d(this).j(e));if(u(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var l=this.i(r)>>>16,p=65535&this.i(r),g=e.i(s)>>>16,m=65535&e.i(s);n[2*r+2*s]+=p*m,f(n,2*r+2*s),n[2*r+2*s+1]+=l*m,f(n,2*r+2*s+1),n[2*r+2*s+1]+=p*g,f(n,2*r+2*s+1),n[2*r+2*s+2]+=l*g,f(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,rf=of.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=o,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=o(Math.pow(n,8)),r=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),r=r.j(l).add(o(c))):r=(r=r.j(i)).add(o(c))}return r},nf=of.Integer=i}).apply("undefined"!==typeof sf?sf:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var af,lf,cf,hf,uf,df,pf,ff,gf,mf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},vf={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof mf&&mf];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,i){if(i)e:{var r=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in r))break e;r=r[o]}(i=i(s=r[e=e[e.length-1]]))!=s&&null!=i&&t(r,e,{configurable:!0,writable:!0,value:i})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return t}))}}));var i=i||{},r=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function h(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){r.setTimeout((()=>{throw e}),0)}function _(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,I=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=r.Promise.resolve(void 0);E=()=>{e.then(N)}};var N=()=>{for(var e;e=_();){try{e.h.call(e.g)}catch(n){k(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function M(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}u(D,O);var R={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++F,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=Array.prototype.indexOf.call(r,t,void 0);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function G(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==i)return r}return-1}z.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=G(e,t,i,r);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,s,!!i,r)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,i,r){if(i&&i.once)return Y(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,i,r);return null}return n=te(n),e&&e[j]?e.K(t,n,o(i)?!!i.capture:!!i,r):X(e,t,n,!1,i,r)}function X(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var a=o(r)?!!r.capture:!!r,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,i,a,s)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)L||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(J(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function Y(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,i,r);return null}return n=te(n),e&&e[j]?e.L(t,n,o(i)?!!i.capture:!!i,r):X(e,t,n,!0,i,r)}function K(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)K(e,t[s],n,i,r);else i=o(i)?!!i.capture:!!i,n=te(n),e&&e[j]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=G(s=e.g[t],n,i,r))&&(B(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=G(t,n,i,r)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])V(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(J(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Z(t))?(V(n,e),0==n.h&&(n.src=null,t[H]=null)):B(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,i=e.ha||e.src;e.fa&&Q(e),e=n.call(i,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){M.call(this),this.i=new z(this),this.M=this,this.F=null}function ie(e,t){var n,i=e.F;if(i)for(n=[];i;i=i.F)n.push(i);if(e=e.M,i=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var r=t;x(t=new O(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=re(o,i,!0,t)&&r}if(r=re(o=t.g=e,i,!0,t)&&r,r=re(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=re(o=t.g=n[s],i,!1,t)&&r}function re(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&V(e.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ne,M),ne.prototype[j]=!0,ne.prototype.removeEventListener=function(e,t,n,i){K(this,e,t,n,i)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)B(n[i]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},ne.prototype.L=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};class ae extends M{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){M.call(this),this.h=e,this.g={}}u(le,M);var ce=[];function he(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),he(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=r.JSON.stringify,de=r.JSON.parse,pe=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function fe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function be(){O.call(this,"c")}u(ye,O),u(be,O);var we={},xe=null;function Se(){return xe=xe||new ne}function ke(e){O.call(this,we.La,e)}function _e(e){const t=Se();ie(t,new ke(t))}function Te(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Ce(e){const t=Se();ie(t,new Te(t,e))}function Ee(e,t){O.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Pe(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ue(n)}catch(a){return t}}(e,n)+(i?" "+i:"")}))}we.La="serverreachability",u(ke,O),we.STAT_EVENT="statevent",u(Te,O),we.Ma="timingevent",u(Ee,O),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Ne,Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Le(){}function De(e,t,n,i){this.j=e,this.i=t,this.l=n,this.R=i||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}u(Le,fe),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},Ne=new Le;var je={},Fe={};function Ue(e,t,n){e.L=1,e.v=ut(ot(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),Ge(e),e.A=ot(e.v);var n=e.A,i=e.R;Array.isArray(i)||(i=[String(i)]),Tt(n.i,"t",i),e.C=0,n=e.j.J,e.h=new Re,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,i=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(ce[0]=r.toString()),r=ce);for(var s=0;s<r.length;s++){var o=q(n,r[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var u=h.split("_");o=2<=u.length&&"type"==u[1]?o+(h+"=")+c+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Fe:(n=Number(t.substring(n,i)),isNaN(n)?je:(i+=1)+n>t.length?Fe:(t=t.slice(i,i+n),e.C=i+n,t))}function Ge(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function We(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||ln(e.j,e)}function Xe(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,he(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var i=n.Da.g.parse(t)}catch(h){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}rn(n),Ce(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(h){}n.ca=void 0}}else hn(n,11)}else if((e.K||n.g==e)&&an(n),!f(t))for(r=n.Da.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const h=c[5];null!=h&&"number"===typeof h&&0<h&&(i=1.5*h,n.L=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(i.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.ya=e,ht(i.I,i.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((i=n).qa=dn(i,i.J?i.ia:null,i.W),o.K){tt(i.h,o);var a=o,l=i.L;l&&(a.I=l),a.B&&(We(a),Ge(a)),i.g=o}else nn(i);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||hn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?hn(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(h){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=d||7==t||_e(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var i=qt(this.g);e="";var s=i.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xe(this),qe(this);var a="";break t}this.h.i=new r.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:!(o&&t==s-1)});i.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,i,r,s,o){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var h=l;break t}}h=null}if(!(n=h)){this.o=!1,this.s=3,Ce(12),Xe(this),qe(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Fe){4==d&&(this.s=4,Ce(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==je){this.s=4,Ce(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ye(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(u),u.M=!0,Ce(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Xe(this),qe(this)}else Pe(this.i,this.l,a,null),Ye(this,a);4==d&&Xe(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Ge(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(f(e[i]))continue;var n=S(e[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Xe(this),qe(this)}}}catch(d){}},De.prototype.cancel=function(){this.J=!0,Xe(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(_e(),Ce(17)),Xe(this),this.s=2,qe(this)):He(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function it(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(rt))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new xt(t,e.h))}function ht(e,t,n){e.i.set(t,n)}function ut(e){return ht(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,wt)),e.join("")};var gt,mt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){St(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return St(e),t=Ct(e,t),e.g.has(t)}function Tt(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),d(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(s){}}function It(){this.g=new pe}function At(e,t,n){const i=n||"";try{it(e,(function(e,n){let r=e;o(e)&&(r=ue(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(NL){throw t.push(i+"type="+encodeURIComponent("_badmap")),NL}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Mt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Lt(e)}function Lt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Rt(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ht(e,t,n))}function jt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){St(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,_t(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.V(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")},u(Pt,fe),Pt.prototype.g=function(){return new Nt(this.l,this.j)},Pt.prototype.i=(gt={},function(){return gt}),u(Nt,ne),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Lt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Lt(this),3==this.readyState&&Mt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(jt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Gt(e)}function zt(e){e.A||(e.A=!0,ie(e,"complete"),ie(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof i&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(ie(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const i=e.Z();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===i){var o=String(e.D).match(rt)[1]||null;!o&&r.self&&r.self.location&&(o=r.self.location.protocol.slice(0,-1)),s=!Ft.test(o?o.toLowerCase():"")}n=s}if(n)ie(e,"complete"),ie(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Gt(e)}}}function Gt(e,t){if(e.g){Ht(e);const n=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ie(e,"ready");try{n.onreadystatechange=i}catch(NL){}}}function Ht(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wf){return null}}function Xt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xt("baseRetryDelayMs",5e3,e),this.cb=Xt("retryDelaySeedMs",1e4,e),this.Wa=Xt("forwardChannelMaxRetries",2,e),this.wa=Xt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Jt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ht(n,"SID",e.K),ht(n,"RID",t),ht(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=ut(ot(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(t.v.toString(),"")}catch(i){}!n&&r.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ge(t)}un(e)}function Qt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Qt(e),e.u&&(r.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&r.clearTimeout(e.s),e.s=null)}function $t(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||P(),I||(E(),I=!0),A.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const i=ot(e.I);ht(i,"SID",e.K),ht(i,"RID",n),ht(i,"AID",e.T),en(e,i),e.m&&e.o&&Rt(i,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,i,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ht(t,n,e)})),e.l&&it({},(function(e,n){ht(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var i=e.l?c(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=r[a].g;const l=r[a].map;if(n-=t,0>n)t=Math.max(0,r[a].g-100),o=!1;else try{At(l,e,"req"+n+"_")}catch(s){i&&i(l)}}if(o){i=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,i}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||P(),I||(E(),I=!0),A.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function on(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ht(t,"RID","rpc"),ht(t,"SID",e.K),ht(t,"AID",e.T),ht(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ht(t,"TO",e.ja),ht(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Rt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ut(ot(t)),n.m=null,n.P=!0,Be(n,e)}function an(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var i=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),i=1}if(0!=e.G)if(t.o)if(1==i){n=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;ie(i=Se(),new Ee(i,n)),$t(e)}else nn(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==i&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==i&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:hn(e,5);break;case 4:hn(e,10);break;case 3:hn(e,6);break;default:hn(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function hn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),i=e.Xa;const t=!i;i=new st(i||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||at(i,"https"),ut(i),t?function(e,t){const n=new Ae;if(r.Image){const i=new Image;i.onload=h(Et,n,"TestLoadImage: loaded",!0,t,i),i.onerror=h(Et,n,"TestLoadImage: error",!1,t,i),i.onabort=h(Et,n,"TestLoadImage: abort",!1,t,i),i.ontimeout=h(Et,n,"TestLoadImage: timeout",!1,t,i),r.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(i.toString(),n):function(e,t){new Ae;const n=new AbortController,i=setTimeout((()=>{n.abort(),Et(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(i),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)})).catch((()=>{clearTimeout(i),Et(0,0,!1,t)}))}(i.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),un(e),Jt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var i=n instanceof st?ot(n):new st(n);if(""!=i.g)t&&(i.g=t+"."+i.g),lt(i,i.s);else{var s=r.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);i&&at(o,i),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),i=o}return n=e.D,t=e.ya,n&&t&&ht(i,n,t),ht(i,"VER",e.la),en(e,i),i}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new jt(new Pt({eb:n})):new jt(e.pa)).Ha(e.J),t}function fn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?ge(this.o):ge(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Bt(this,o)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,a]of n)this.g.setRequestHeader(r,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Bt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ie(this,"complete"),ie(this,"abort"),Gt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gt(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,i){Ce(0),this.W=e,this.H=t||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.I=dn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(r.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,r,t),ht(n=ot(this.I),"RID",e),ht(n,"CVER",22),this.D&&ht(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Rt(n,this.m,s)),et(this.h,r),this.Ua&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",t),ht(n,"SID","null"),r.T=!0,Ue(r,n,null)):Ue(r,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},u(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Kt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ue(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&$t(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,mn.aa.N.call(this)},u(vn,ye),u(yn,be),u(bn,fn),bn.prototype.ua=function(){ie(this.g,"a")},bn.prototype.ta=function(e){ie(this.g,new vn(e))},bn.prototype.sa=function(e){ie(this.g,new yn)},bn.prototype.ra=function(){ie(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,gf=vf.createWebChannelTransport=function(){return new gn},ff=vf.getStatEventTarget=function(){return Se()},pf=vf.Event=we,df=vf.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,uf=vf.ErrorCode=Me,Oe.COMPLETE="complete",hf=vf.EventType=Oe,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,cf=vf.WebChannel=me,lf=vf.FetchXmlHttpFactory=Pt,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,af=vf.XhrIo=jt}).apply("undefined"!==typeof mf?mf:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const yf="@firebase/firestore";class bf{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bf.UNAUTHENTICATED=new bf(null),bf.GOOGLE_CREDENTIALS=new bf("google-credentials-uid"),bf.FIRST_PARTY=new bf("first-party-uid"),bf.MOCK_USER=new bf("mock-user");let wf="10.12.3";const xf=new pa("@firebase/firestore");function Sf(){return xf.logLevel}function kf(e){if(xf.logLevel<=la.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(Cf);xf.debug("Firestore (".concat(wf,"): ").concat(e),...r)}}function _f(e){if(xf.logLevel<=la.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(Cf);xf.error("Firestore (".concat(wf,"): ").concat(e),...r)}}function Tf(e){if(xf.logLevel<=la.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(Cf);xf.warn("Firestore (".concat(wf,"): ").concat(e),...r)}}function Cf(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ef(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(wf,") INTERNAL ASSERTION FAILED: ")+e;throw _f(t),new Error(t)}function If(e,t){e||Ef()}function Af(e,t){return e}const Pf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nf extends Ho{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Mf{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Of{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Lf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bf.UNAUTHENTICATED)))}shutdown(){}}class Df{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Rf{constructor(e){this.t=e,this.currentUser=bf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Mf;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Mf,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},o=e=>{kf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(kf("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Mf)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(kf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(If("string"==typeof t.accessToken),new Of(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return If(null===e||"string"==typeof e),new bf(e)}}class jf{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=bf.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ff{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new jf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(bf.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bf{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&kf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,kf("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{kf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?i(e):kf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(If("string"==typeof e.token),this.R=e.token,new Uf(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class Vf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=zf(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%62))}return n}}function Gf(e,t){return e<t?-1:e>t?1:0}function Hf(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}function Wf(e){return e+"\0"}class qf{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nf(Pf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nf(Pf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nf(Pf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nf(Pf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qf.fromMillis(Date.now())}static fromDate(e){return qf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new qf(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gf(this.nanoseconds,e.nanoseconds):Gf(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xf{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xf(e)}static min(){return new Xf(new qf(0,0))}static max(){return new Xf(new qf(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yf{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ef(),void 0===n?n=e.length-t:n>e.length-t&&Ef(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Yf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yf?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kf extends Yf{construct(e,t,n){return new Kf(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new Kf(e)}static emptyPath(){return new Kf([])}}const Qf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jf extends Yf{construct(e,t,n){return new Jf(e,t,n)}static isValidIdentifier(e){return Qf.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jf.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jf(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new Nf(Pf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Nf(Pf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new Nf(Pf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jf(t)}static emptyPath(){return new Jf([])}}class $f{constructor(e){this.path=e}static fromPath(e){return new $f(Kf.fromString(e))}static fromName(e){return new $f(Kf.fromString(e).popFirst(5))}static empty(){return new $f(Kf.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kf.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kf.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $f(new Kf(e.slice()))}}class Zf{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function eg(e){return e.fields.find((e=>2===e.kind))}function tg(e){return e.fields.filter((e=>2!==e.kind))}Zf.UNKNOWN_ID=-1;class ng{constructor(e,t){this.fieldPath=e,this.kind=t}}class ig{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ig(0,og.min())}}function rg(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Xf.fromTimestamp(1e9===i?new qf(n+1,0):new qf(n,i));return new og(r,$f.empty(),t)}function sg(e){return new og(e.readTime,e.key,-1)}class og{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new og(Xf.min(),$f.empty(),-1)}static max(){return new og(Xf.max(),$f.empty(),-1)}}function ag(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=$f.comparator(e.documentKey,t.documentKey),0!==n?n:Gf(e.largestBatchId,t.largestBatchId))}const lg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hg(e){if(e.code!==Pf.FAILED_PRECONDITION||e.message!==lg)throw e;kf("LocalStore","Unexpectedly lost primary lease")}class ug{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ef(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ug(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ug?t:ug.resolve(t)}catch(e){return ug.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ug.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ug.reject(t)}static resolve(e){return new ug(((t,n)=>{t(e)}))}static reject(e){return new ug(((t,n)=>{n(e)}))}static waitFor(e){return new ug(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=ug.resolve(!1);for(const n of e)t=t.next((e=>e?ug.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new ug(((n,i)=>{const r=e.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===r&&n(s)}),(e=>i(e)))}}))}static doWhile(e,t){return new ug(((n,i)=>{const r=()=>{!0===e()?t().next((()=>{r()}),i):n()};r()}))}}class dg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Mf,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new mg(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=xg(t.target.error);this.V.reject(new mg(e,n))}}static open(e,t,n,i){try{return new dg(t,e.transaction(i,n))}catch(e){throw new mg(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(kf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yg(t)}}class pg{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===pg.S(Do())&&_f("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return kf("SimpleDb","Removing database:",e),bg(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Go())return!1;if(pg.C())return!0;const e=Do(),t=pg.S(e),n=0<t&&t<10,i=fg(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(kf("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new mg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new Nf(Pf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new Nf(Pf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new mg(e,i))},i.onupgradeneeded=e=>{kf("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,i.transaction,e.oldVersion,this.version).next((()=>{kf("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const r="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=dg.open(this.db,e,r?"readonly":"readwrite",n),s=i(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),ug.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(kf("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function fg(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class gg{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return bg(this.B.delete())}}class mg extends Nf{constructor(e,t){super(Pf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function vg(e){return"IndexedDbTransactionError"===e.name}class yg{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(kf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(kf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),bg(n)}add(e){return kf("SimpleDb","ADD",this.store.name,e,e),bg(this.store.add(e))}get(e){return bg(this.store.get(e)).next((t=>(void 0===t&&(t=null),kf("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return kf("SimpleDb","DELETE",this.store.name,e),bg(this.store.delete(e))}count(){return kf("SimpleDb","COUNT",this.store.name),bg(this.store.count())}U(e,t){const n=this.options(e,t),i=n.index?this.store.index(n.index):this.store;if("function"==typeof i.getAll){const e=i.getAll(n.range);return new ug(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ug(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){kf("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const i=this.cursor(n);return this.W(i,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.W(i,t)}Y(e){const t=this.cursor({});return new ug(((n,i)=>{t.onerror=e=>{const t=xg(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next((e=>{e?i.continue():n()})):n()}}))}W(e,t){const n=[];return new ug(((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const s=new gg(r),o=t(r.primaryKey,r.value,s);if(o instanceof ug){const e=o.catch((e=>(s.done(),ug.reject(e))));n.push(e)}s.isDone?i():null===s.K?r.continue():r.continue(s.K)}})).next((()=>ug.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function bg(e){return new ug(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=xg(e.target.error);n(t)}}))}let wg=!1;function xg(e){const t=pg.S(Do());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Nf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wg||(wg=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Sg{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){kf("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{kf("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){vg(e)?kf("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await hg(e)}await this.X(6e4)}))}}class kg{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let i=t,r=!0;return ug.doWhile((()=>!0===r&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return kf("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,i).next((e=>{i-=e,n.add(t)}));r=!1})))).next((()=>t-i))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next((n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(e,r).next((()=>this.re(i,n))).next((n=>(kf("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>r.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const i=sg(t);ag(i,n)>0&&(n=i)})),new og(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class _g{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Tg(e){return null==e}function Cg(e){return 0===e&&1/e==-1/0}function Eg(e){return"number"==typeof e&&Number.isInteger(e)&&!Cg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ig(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Pg(t)),t=Ag(e.get(n),t);return Pg(t)}function Ag(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Pg(e){return e+"\x01\x01"}function Ng(e){const t=e.length;if(If(t>=2),2===t)return If("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Kf.emptyPath();const n=t-2,i=[];let r="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Ef(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"\x10":r+=e.substring(s,t),r+="\0";break;case"\x11":r+=e.substring(s,t+1);break;default:Ef()}s=t+2}return new Kf(i)}_g.oe=-1;const Mg=["userId","batchId"];function Og(e,t){return[e,Ig(t)]}function Lg(e,t,n){return[e,Ig(t),n]}const Dg={},Rg=["prefixPath","collectionGroup","readTime","documentId"],jg=["prefixPath","collectionGroup","documentId"],Fg=["collectionGroup","readTime","prefixPath","documentId"],Ug=["canonicalId","targetId"],Bg=["targetId","path"],zg=["path","targetId"],Vg=["collectionId","parent"],Gg=["indexId","uid"],Hg=["uid","sequenceNumber"],Wg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qg=["indexId","uid","orderedDocumentKey"],Xg=["userId","collectionPath","documentId"],Yg=["userId","collectionPath","largestBatchId"],Kg=["userId","collectionGroup","largestBatchId"],Qg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jg=[...Qg,"documentOverlays"],$g=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zg=$g,em=[...Zg,"indexConfiguration","indexState","indexEntries"],tm=em;class nm extends cg{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function im(e,t){const n=Af(e);return pg.F(n._e,t)}function rm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function om(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class am{constructor(e,t){this.comparator=e,this.root=t||cm.EMPTY}insert(e,t){return new am(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cm.BLACK,null,null))}remove(e){return new am(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lm(this.root,e,this.comparator,!1)}getReverseIterator(){return new lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lm(this.root,e,this.comparator,!0)}}class lm{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cm{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:cm.RED,this.left=null!=i?i:cm.EMPTY,this.right=null!=r?r:cm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new cm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return cm.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ef();if(this.right.isRed())throw Ef();const e=this.left.check();if(e!==this.right.check())throw Ef();return e+(this.isRed()?0:1)}}cm.EMPTY=null,cm.RED=!0,cm.BLACK=!1,cm.EMPTY=new class{constructor(){this.size=0}get key(){throw Ef()}get value(){throw Ef()}get color(){throw Ef()}get left(){throw Ef()}get right(){throw Ef()}copy(e,t,n,i,r){return this}insert(e,t,n){return new cm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hm{constructor(e){this.comparator=e,this.data=new am(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new um(this.data.getIterator())}getIteratorFrom(e){return new um(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof hm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new hm(this.comparator);return t.data=e,t}}class um{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dm(e){return e.hasNext()?e.getNext():void 0}class pm{constructor(e){this.fields=e,e.sort(Jf.comparator)}static empty(){return new pm([])}unionWith(e){let t=new hm(Jf.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new pm(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hf(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class fm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new fm("Invalid base64 string: "+e):e}}(e);return new gm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gf(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gm.EMPTY_BYTE_STRING=new gm("");const mm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vm(e){if(If(!!e),"string"==typeof e){let t=0;const n=mm.exec(e);if(If(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ym(e.seconds),nanos:ym(e.nanos)}}function ym(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bm(e){return"string"==typeof e?gm.fromBase64String(e):gm.fromUint8Array(e)}function wm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xm(e){const t=e.mapValue.fields.__previous_value__;return wm(t)?xm(t):t}function Sm(e){const t=vm(e.mapValue.fields.__local_write_time__.timestampValue);return new qf(t.seconds,t.nanos)}class km{constructor(e,t,n,i,r,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class _m{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _m("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _m&&e.projectId===this.projectId&&e.database===this.database}}const Tm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cm={nullValue:"NULL_VALUE"};function Em(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wm(e)?4:zm(e)?9007199254740991:10:Ef()}function Im(e,t){if(e===t)return!0;const n=Em(e);if(n!==Em(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sm(e).isEqual(Sm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vm(e.timestampValue),i=vm(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bm(e.bytesValue).isEqual(bm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ym(e.geoPointValue.latitude)===ym(t.geoPointValue.latitude)&&ym(e.geoPointValue.longitude)===ym(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ym(e.integerValue)===ym(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ym(e.doubleValue),i=ym(t.doubleValue);return n===i?Cg(n)===Cg(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return Hf(e.arrayValue.values||[],t.arrayValue.values||[],Im);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(rm(n)!==rm(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Im(n[r],i[r])))return!1;return!0}(e,t);default:return Ef()}}function Am(e,t){return void 0!==(e.values||[]).find((e=>Im(e,t)))}function Pm(e,t){if(e===t)return 0;const n=Em(e),i=Em(t);if(n!==i)return Gf(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gf(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ym(e.integerValue||e.doubleValue),i=ym(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return Nm(e.timestampValue,t.timestampValue);case 4:return Nm(Sm(e),Sm(t));case 5:return Gf(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bm(e),i=bm(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=Gf(n[r],i[r]);if(0!==e)return e}return Gf(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Gf(ym(e.latitude),ym(t.latitude));return 0!==n?n:Gf(ym(e.longitude),ym(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=Pm(n[r],i[r]);if(e)return e}return Gf(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Tm.mapValue&&t===Tm.mapValue)return 0;if(e===Tm.mapValue)return 1;if(t===Tm.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const e=Gf(i[o],s[o]);if(0!==e)return e;const t=Pm(n[i[o]],r[s[o]]);if(0!==t)return t}return Gf(i.length,s.length)}(e.mapValue,t.mapValue);default:throw Ef()}}function Nm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gf(e,t);const n=vm(e),i=vm(t),r=Gf(n.seconds,i.seconds);return 0!==r?r:Gf(n.nanos,i.nanos)}function Mm(e){return Om(e)}function Om(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return bm(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return $f.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=Om(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+="".concat(r,":").concat(Om(e.fields[r]));return n+"}"}(e.mapValue):Ef()}function Lm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dm(e){return!!e&&"integerValue"in e}function Rm(e){return!!e&&"arrayValue"in e}function jm(e){return!!e&&"nullValue"in e}function Fm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Um(e){return!!e&&"mapValue"in e}function Bm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return sm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Bm(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bm(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Vm(e){return"nullValue"in e?Cm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Lm(_m.empty(),$f.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ef()}function Gm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Lm(_m.empty(),$f.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Tm:Ef()}function Hm(e,t){const n=Pm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Wm(e,t){const n=Pm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class qm{constructor(e){this.value=e}static empty(){return new qm({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Um(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bm(t)}setAll(e){let t=Jf.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=Bm(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());Um(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Im(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Um(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){sm(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new qm(Bm(this.value))}}function Xm(e){const t=[];return sm(e.fields,((e,n)=>{const i=new Jf([e]);if(Um(n)){const e=Xm(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new pm(t)}class Ym{constructor(e,t,n,i,r,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ym(e,0,Xf.min(),Xf.min(),Xf.min(),qm.empty(),0)}static newFoundDocument(e,t,n,i){return new Ym(e,1,t,Xf.min(),n,i,0)}static newNoDocument(e,t){return new Ym(e,2,t,Xf.min(),Xf.min(),qm.empty(),0)}static newUnknownDocument(e,t){return new Ym(e,3,t,Xf.min(),Xf.min(),qm.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qm.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qm.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xf.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ym&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ym(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Km{constructor(e,t){this.position=e,this.inclusive=t}}function Qm(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(i=s.field.isKeyField()?$f.comparator($f.fromName(o.referenceValue),n.key):Pm(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Jm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Im(e.position[n],t.position[n]))return!1;return!0}class $m{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Zm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ev{}class tv extends ev{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new uv(e,t,n):"array-contains"===t?new gv(e,n):"in"===t?new mv(e,n):"not-in"===t?new vv(e,n):"array-contains-any"===t?new yv(e,n):new tv(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new dv(e,n):new pv(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pm(t,this.value)):null!==t&&Em(this.value)===Em(t)&&this.matchesComparison(Pm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ef()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nv extends ev{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new nv(e,t)}matches(e){return iv(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iv(e){return"and"===e.op}function rv(e){return"or"===e.op}function sv(e){return ov(e)&&iv(e)}function ov(e){for(const t of e.filters)if(t instanceof nv)return!1;return!0}function av(e){if(e instanceof tv)return e.field.canonicalString()+e.op.toString()+Mm(e.value);if(sv(e))return e.filters.map((e=>av(e))).join(",");{const t=e.filters.map((e=>av(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function lv(e,t){return e instanceof tv?function(e,t){return t instanceof tv&&e.op===t.op&&e.field.isEqual(t.field)&&Im(e.value,t.value)}(e,t):e instanceof nv?function(e,t){return t instanceof nv&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&lv(n,t.filters[i])),!0)}(e,t):void Ef()}function cv(e,t){const n=e.filters.concat(t);return nv.create(n,e.op)}function hv(e){return e instanceof tv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Mm(e.value))}(e):e instanceof nv?function(e){return e.op.toString()+" {"+e.getFilters().map(hv).join(" ,")+"}"}(e):"Filter"}class uv extends tv{constructor(e,t,n){super(e,t,n),this.key=$f.fromName(n.referenceValue)}matches(e){const t=$f.comparator(e.key,this.key);return this.matchesComparison(t)}}class dv extends tv{constructor(e,t){super(e,"in",t),this.keys=fv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pv extends tv{constructor(e,t){super(e,"not-in",t),this.keys=fv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function fv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>$f.fromName(e.referenceValue)))}class gv extends tv{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rm(t)&&Am(t.arrayValue,this.value)}}class mv extends tv{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Am(this.value.arrayValue,t)}}class vv extends tv{constructor(e,t){super(e,"not-in",t)}matches(e){if(Am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Am(this.value.arrayValue,t)}}class yv extends tv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Am(this.value.arrayValue,e)))}}class bv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ue=null}}function wv(e){return new bv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function xv(e){const t=Af(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>av(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Tg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Mm(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Mm(e))).join(",")),t.ue=e}return t.ue}function Sv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Zm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!lv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jm(e.startAt,t.startAt)&&Jm(e.endAt,t.endAt)}function kv(e){return $f.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function _v(e,t){return e.filters.filter((e=>e instanceof tv&&e.field.isEqual(t)))}function Tv(e,t,n){let i=Cm,r=!0;for(const s of _v(e,t)){let e=Cm,t=!0;switch(s.op){case"<":case"<=":e=Vm(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Cm}Hm({value:i,inclusive:r},{value:e,inclusive:t})<0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Hm({value:i,inclusive:r},{value:e,inclusive:n.inclusive})<0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}function Cv(e,t,n){let i=Tm,r=!0;for(const s of _v(e,t)){let e=Tm,t=!0;switch(s.op){case">=":case">":e=Gm(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Tm}Wm({value:i,inclusive:r},{value:e,inclusive:t})>0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Wm({value:i,inclusive:r},{value:e,inclusive:n.inclusive})>0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}class Ev{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Iv(e,t,n,i,r,s,o,a){return new Ev(e,t,n,i,r,s,o,a)}function Av(e){return new Ev(e)}function Pv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Nv(e){return null!==e.collectionGroup}function Mv(e){const t=Af(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",i=function(e){let t=new hm(Jf.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);i.forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.ce.push(new $m(i,n))})),e.has(Jf.keyField().canonicalString())||t.ce.push(new $m(Jf.keyField(),n))}return t.ce}function Ov(e){const t=Af(e);return t.le||(t.le=Lv(t,Mv(e))),t.le}function Lv(e,t){if("F"===e.limitType)return wv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new $m(e.field,t)}));const n=e.endAt?new Km(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Km(e.startAt.position,e.startAt.inclusive):null;return wv(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Dv(e,t){const n=e.filters.concat([t]);return new Ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Rv(e,t,n){return new Ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jv(e,t){return Sv(Ov(e),Ov(t))&&e.limitType===t.limitType}function Fv(e){return"".concat(xv(Ov(e)),"|lt:").concat(e.limitType)}function Uv(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>hv(e))).join(", "),"]")),Tg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Mm(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Mm(e))).join(",")),"Target(".concat(t,")")}(Ov(e)),"; limitType=").concat(e.limitType,")")}function Bv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$f.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Mv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=Qm(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,Mv(e),t))&&!(e.endAt&&!function(e,t,n){const i=Qm(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,Mv(e),t))}(e,t)}function zv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Vv(e){return(t,n)=>{let i=!1;for(const r of Mv(e)){const e=Gv(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function Gv(e,t,n){const i=e.field.isKeyField()?$f.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?Pm(i,r):Ef()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ef()}}class Hv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sm(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return om(this.inner)}size(){return this.innerSize}}const Wv=new am($f.comparator);function qv(){return Wv}const Xv=new am($f.comparator);function Yv(){let e=Xv;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.insert(r.key,r);return e}function Kv(e){let t=Xv;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Qv(){return $v()}function Jv(){return $v()}function $v(){return new Hv((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Zv=new am($f.comparator),ey=new hm($f.comparator);function ty(){let e=ey;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.add(r);return e}const ny=new hm(Gf);function iy(){return ny}function ry(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cg(t)?"-0":t}}function sy(e){return{integerValue:""+e}}function oy(e,t){return Eg(t)?sy(t):ry(e,t)}class ay{constructor(){this._=void 0}}function ly(e,t,n){return e instanceof uy?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&wm(t)&&(t=xm(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dy?py(e,t):e instanceof fy?gy(e,t):function(e,t){const n=hy(e,t),i=vy(n)+vy(e.Pe);return Dm(n)&&Dm(e.Pe)?sy(i):ry(e.serializer,i)}(e,t)}function cy(e,t,n){return e instanceof dy?py(e,t):e instanceof fy?gy(e,t):n}function hy(e,t){return e instanceof my?function(e){return Dm(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class uy extends ay{}class dy extends ay{constructor(e){super(),this.elements=e}}function py(e,t){const n=yy(t);for(const i of e.elements)n.some((e=>Im(e,i)))||n.push(i);return{arrayValue:{values:n}}}class fy extends ay{constructor(e){super(),this.elements=e}}function gy(e,t){let n=yy(t);for(const i of e.elements)n=n.filter((e=>!Im(e,i)));return{arrayValue:{values:n}}}class my extends ay{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function vy(e){return ym(e.integerValue||e.doubleValue)}function yy(e){return Rm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class by{constructor(e,t){this.field=e,this.transform=t}}class wy{constructor(e,t){this.version=e,this.transformResults=t}}class xy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xy}static exists(e){return new xy(void 0,e)}static updateTime(e){return new xy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ky{}function _y(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ly(e.key,xy.none()):new Ay(e.key,e.data,xy.none());{const n=e.data,i=qm.empty();let r=new hm(Jf.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new Py(e.key,i,new pm(r.toArray()),xy.none())}}function Ty(e,t,n){e instanceof Ay?function(e,t,n){const i=e.value.clone(),r=My(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Py?function(e,t,n){if(!Sy(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=My(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Ny(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Cy(e,t,n,i){return e instanceof Ay?function(e,t,n,i){if(!Sy(e.precondition,t))return n;const r=e.value.clone(),s=Oy(e.fieldTransforms,i,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof Py?function(e,t,n,i){if(!Sy(e.precondition,t))return n;const r=Oy(e.fieldTransforms,i,t),s=t.data;return s.setAll(Ny(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return Sy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ey(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=hy(i.transform,e||null);null!=r&&(null===n&&(n=qm.empty()),n.set(i.field,r))}return n||null}function Iy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Hf(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dy&&t instanceof dy||e instanceof fy&&t instanceof fy?Hf(e.elements,t.elements,Im):e instanceof my&&t instanceof my?Im(e.Pe,t.Pe):e instanceof uy&&t instanceof uy}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ay extends ky{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Py extends ky{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Ny(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function My(e,t,n){const i=new Map;If(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,cy(o,a,n[r]))}return i}function Oy(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,ly(e,s,t))}return i}class Ly extends ky{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dy extends ky{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ry{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&Ty(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Cy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Cy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Jv();return this.mutations.forEach((i=>{const r=e.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=t.has(i.key)?null:o;const a=_y(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(Xf.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ty())}isEqual(e){return this.batchId===e.batchId&&Hf(this.mutations,e.mutations,((e,t)=>Iy(e,t)))&&Hf(this.baseMutations,e.baseMutations,((e,t)=>Iy(e,t)))}}class jy{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){If(e.mutations.length===n.length);let i=Zv;const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new jy(e,t,n,i)}}class Fy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Uy{constructor(e,t){this.count=e,this.unchangedNames=t}}var By,zy;function Vy(e){switch(e){default:return Ef();case Pf.CANCELLED:case Pf.UNKNOWN:case Pf.DEADLINE_EXCEEDED:case Pf.RESOURCE_EXHAUSTED:case Pf.INTERNAL:case Pf.UNAVAILABLE:case Pf.UNAUTHENTICATED:return!1;case Pf.INVALID_ARGUMENT:case Pf.NOT_FOUND:case Pf.ALREADY_EXISTS:case Pf.PERMISSION_DENIED:case Pf.FAILED_PRECONDITION:case Pf.ABORTED:case Pf.OUT_OF_RANGE:case Pf.UNIMPLEMENTED:case Pf.DATA_LOSS:return!0}}function Gy(e){if(void 0===e)return _f("GRPC error has no .code"),Pf.UNKNOWN;switch(e){case By.OK:return Pf.OK;case By.CANCELLED:return Pf.CANCELLED;case By.UNKNOWN:return Pf.UNKNOWN;case By.DEADLINE_EXCEEDED:return Pf.DEADLINE_EXCEEDED;case By.RESOURCE_EXHAUSTED:return Pf.RESOURCE_EXHAUSTED;case By.INTERNAL:return Pf.INTERNAL;case By.UNAVAILABLE:return Pf.UNAVAILABLE;case By.UNAUTHENTICATED:return Pf.UNAUTHENTICATED;case By.INVALID_ARGUMENT:return Pf.INVALID_ARGUMENT;case By.NOT_FOUND:return Pf.NOT_FOUND;case By.ALREADY_EXISTS:return Pf.ALREADY_EXISTS;case By.PERMISSION_DENIED:return Pf.PERMISSION_DENIED;case By.FAILED_PRECONDITION:return Pf.FAILED_PRECONDITION;case By.ABORTED:return Pf.ABORTED;case By.OUT_OF_RANGE:return Pf.OUT_OF_RANGE;case By.UNIMPLEMENTED:return Pf.UNIMPLEMENTED;case By.DATA_LOSS:return Pf.DATA_LOSS;default:return Ef()}}(zy=By||(By={}))[zy.OK=0]="OK",zy[zy.CANCELLED=1]="CANCELLED",zy[zy.UNKNOWN=2]="UNKNOWN",zy[zy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zy[zy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zy[zy.NOT_FOUND=5]="NOT_FOUND",zy[zy.ALREADY_EXISTS=6]="ALREADY_EXISTS",zy[zy.PERMISSION_DENIED=7]="PERMISSION_DENIED",zy[zy.UNAUTHENTICATED=16]="UNAUTHENTICATED",zy[zy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zy[zy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zy[zy.ABORTED=10]="ABORTED",zy[zy.OUT_OF_RANGE=11]="OUT_OF_RANGE",zy[zy.UNIMPLEMENTED=12]="UNIMPLEMENTED",zy[zy.INTERNAL=13]="INTERNAL",zy[zy.UNAVAILABLE=14]="UNAVAILABLE",zy[zy.DATA_LOSS=15]="DATA_LOSS";let Hy=null;function Wy(){return new TextEncoder}const qy=new nf([4294967295,4294967295],0);function Xy(e){const t=Wy().encode(e),n=new rf;return n.update(t),new Uint8Array(n.digest())}function Yy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new nf([n,i],0),new nf([r,s],0)]}class Ky{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Qy("Invalid padding: ".concat(t));if(n<0)throw new Qy("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Qy("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Qy("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=nf.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(nf.fromNumber(n)));return 1===i.compare(qy)&&(i=new nf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Xy(e),[n,i]=Yy(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(n,i,r);if(!this.de(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new Ky(r,i,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Xy(e),[n,i]=Yy(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(n,i,r);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Qy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jy{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,$y.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Jy(Xf.min(),i,new am(Gf),qv(),ty())}}class $y{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new $y(n,t,ty(),ty(),ty())}}class Zy{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class eb{constructor(e,t){this.targetId=e,this.me=t}}class tb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class nb{constructor(){this.fe=0,this.ge=sb(),this.pe=gm.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ty(),t=ty(),n=ty();return this.ge.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ef()}})),new $y(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=sb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,If(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ib{constructor(e){this.Le=e,this.Be=new Map,this.ke=qv(),this.qe=rb(),this.Qe=new am(Gf)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ef()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const r=i.target;if(kv(r))if(0===n){const e=new $f(r.path);this.Ue(t,e,Ym.newNoDocument(e,Xf.min()))}else If(1===n);else{const i=this.Ye(t);if(i!==n){const n=this.Ze(e),r=n?this.Xe(n,e,i):1;if(0!==r){this.je(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Hy||Hy.et(function(e,t,n,i,r){var s,o,a,l,c,h;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===r,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(h=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==h?h:0,mightContain:e=>{var t;return null!==(t=null==i?void 0:i.mightContain(e))&&void 0!==t&&t}}),u}(i,e.me,this.Le.tt(),n,r))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=t;let s,o;try{s=bm(n).toUint8Array()}catch(e){if(e instanceof fm)return Tf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Ky(s,i,r)}catch(e){return Tf(e instanceof Qy?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach((n=>{const r=this.Le.tt(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),i++)})),i}rt(e){const t=new Map;this.Be.forEach(((n,i)=>{const r=this.Je(i);if(r){if(n.current&&kv(r.target)){const t=new $f(r.target.path);null!==this.ke.get(t)||this.it(i,t)||this.Ue(i,t,Ym.newNoDocument(t,e))}n.be&&(t.set(i,n.Ce()),n.ve())}}));let n=ty();this.qe.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const i=new Jy(e,t,this.Qe,this.ke,n);return this.ke=qv(),this.qe=rb(),this.Qe=new am(Gf),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new nb,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new hm(Gf),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||kf("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nb),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function rb(){return new am($f.comparator)}function sb(){return new am($f.comparator)}const ob={asc:"ASCENDING",desc:"DESCENDING"},ab={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lb={and:"AND",or:"OR"};class cb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hb(e,t){return e.useProto3Json||Tg(t)?t:{value:t}}function ub(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function db(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pb(e,t){return ub(e,t.toTimestamp())}function fb(e){return If(!!e),Xf.fromTimestamp(function(e){const t=vm(e);return new qf(t.seconds,t.nanos)}(e))}function gb(e,t){return mb(e,t).canonicalString()}function mb(e,t){const n=function(e){return new Kf(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function vb(e){const t=Kf.fromString(e);return If(Ub(t)),t}function yb(e,t){return gb(e.databaseId,t.path)}function bb(e,t){const n=vb(t);if(n.get(1)!==e.databaseId.projectId)throw new Nf(Pf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nf(Pf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $f(kb(n))}function wb(e,t){return gb(e.databaseId,t)}function xb(e){const t=vb(e);return 4===t.length?Kf.emptyPath():kb(t)}function Sb(e){return new Kf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kb(e){return If(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _b(e,t,n){return{name:yb(e,t),fields:n.value.mapValue.fields}}function Tb(e,t,n){const i=bb(e,t.name),r=fb(t.updateTime),s=t.createTime?fb(t.createTime):Xf.min(),o=new qm({mapValue:{fields:t.fields}}),a=Ym.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Cb(e,t){let n;if(t instanceof Ay)n={update:_b(e,t.key,t.value)};else if(t instanceof Ly)n={delete:yb(e,t.key)};else if(t instanceof Py)n={update:_b(e,t.key,t.data),updateMask:Fb(t.fieldMask)};else{if(!(t instanceof Dy))return Ef();n={verify:yb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof uy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof my)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Ef()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ef()}(e,t.precondition)),n}function Eb(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?xy.updateTime(fb(e.updateTime)):void 0!==e.exists?xy.exists(e.exists):xy.none()}(t.currentDocument):xy.none(),i=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)If("REQUEST_TIME"===t.setToServerValue),n=new uy;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new dy(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new fy(e)}else"increment"in t?n=new my(e,t.increment):Ef();const i=Jf.fromServerFormat(t.fieldPath);return new by(i,n)}(e,t))):[];if(t.update){t.update.name;const r=bb(e,t.update.name),s=new qm({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new pm(t.map((e=>Jf.fromServerFormat(e))))}(t.updateMask);return new Py(r,s,e,n,i)}return new Ay(r,s,n,i)}if(t.delete){const i=bb(e,t.delete);return new Ly(i,n)}if(t.verify){const i=bb(e,t.verify);return new Dy(i,n)}return Ef()}function Ib(e,t){return{documents:[wb(e,t.path)]}}function Ab(e,t){const n={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=wb(e,r);const s=function(e){if(0!==e.length)return jb(nv.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Db(e.field),direction:Mb(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hb(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:r}}function Pb(e){let t=xb(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){If(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Nb(e);return t instanceof nv&&sv(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new $m(Rb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Tg(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Km(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Km(n,t)}(n.endAt)),Iv(t,r,o,s,a,"F",l,c)}function Nb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rb(e.unaryFilter.field);return tv.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rb(e.unaryFilter.field);return tv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Rb(e.unaryFilter.field);return tv.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Rb(e.unaryFilter.field);return tv.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ef()}}(e):void 0!==e.fieldFilter?function(e){return tv.create(Rb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ef()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return nv.create(e.compositeFilter.filters.map((e=>Nb(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ef()}}(e.compositeFilter.op))}(e):Ef()}function Mb(e){return ob[e]}function Ob(e){return ab[e]}function Lb(e){return lb[e]}function Db(e){return{fieldPath:e.canonicalString()}}function Rb(e){return Jf.fromServerFormat(e.fieldPath)}function jb(e){return e instanceof tv?function(e){if("=="===e.op){if(Fm(e.value))return{unaryFilter:{field:Db(e.field),op:"IS_NAN"}};if(jm(e.value))return{unaryFilter:{field:Db(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fm(e.value))return{unaryFilter:{field:Db(e.field),op:"IS_NOT_NAN"}};if(jm(e.value))return{unaryFilter:{field:Db(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Db(e.field),op:Ob(e.op),value:e.value}}}(e):e instanceof nv?function(e){const t=e.getFilters().map((e=>jb(e)));return 1===t.length?t[0]:{compositeFilter:{op:Lb(e.op),filters:t}}}(e):Ef()}function Fb(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ub(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bb{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xf.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xf.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gm.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Bb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zb{constructor(e){this.ct=e}}function Vb(e,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Gb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(e,t){return{name:yb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ub(e,t.version.toTimestamp()),createTime:ub(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Hb(t.version)};else{if(!t.isUnknownDocument())return Ef();i.unknownDocument={path:n.path.toArray(),version:Hb(t.version)}}return i}function Gb(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Hb(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Wb(e){const t=new qf(e.seconds,e.nanoseconds);return Xf.fromTimestamp(t)}function qb(e,t){const n=(t.baseMutations||[]).map((t=>Eb(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const i=t.mutations.map((t=>Eb(e.ct,t))),r=qf.fromMillis(t.localWriteTimeMs);return new Ry(t.batchId,r,n,i)}function Xb(e){const t=Wb(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Wb(e.lastLimboFreeSnapshotVersion):Xf.min();let i;return i=function(e){return void 0!==e.documents}(e.query)?function(e){return If(1===e.documents.length),Ov(Av(xb(e.documents[0])))}(e.query):function(e){return Ov(Pb(e))}(e.query),new Bb(i,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,gm.fromBase64String(e.resumeToken))}function Yb(e,t){const n=Hb(t.snapshotVersion),i=Hb(t.lastLimboFreeSnapshotVersion);let r;r=kv(t.target)?Ib(e.ct,t.target):Ab(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xv(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Kb(e){const t=Pb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rv(t,t.limit,"L"):t}function Qb(e,t){return new Fy(t.largestBatchId,Eb(e.ct,t.overlayMutation))}function Jb(e,t){const n=t.path.lastSegment();return[e,Ig(t.path.popLast()),n]}function $b(e,t,n,i){return{indexId:e,uid:t,sequenceNumber:n,readTime:Hb(i.readTime),documentKey:Ig(i.documentKey.path),largestBatchId:i.largestBatchId}}class Zb{getBundleMetadata(e,t){return ew(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Wb(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return ew(e).put(function(e){return{bundleId:e.id,createTime:Hb(fb(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return tw(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Kb(e.bundledQuery),readTime:Wb(e.readTime)}}(e)}))}saveNamedQuery(e,t){return tw(e).put(function(e){return{name:e.name,readTime:Hb(fb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function ew(e){return im(e,"bundles")}function tw(e){return im(e,"namedQueries")}class nw{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new nw(e,n)}getOverlay(e,t){return iw(e).get(Jb(this.userId,t)).next((e=>e?Qb(this.serializer,e):null))}getOverlays(e,t){const n=Qv();return ug.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const i=[];return n.forEach(((n,r)=>{const s=new Fy(t,r);i.push(this.ht(e,s))})),ug.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach((e=>i.add(Ig(e.getCollectionPath()))));const r=[];return i.forEach((t=>{const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);r.push(iw(e).j("collectionPathOverlayIndex",i))})),ug.waitFor(r)}getOverlaysForCollection(e,t,n){const i=Qv(),r=Ig(t),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return iw(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Qb(this.serializer,t);i.set(e.getKey(),e)}return i}))}getOverlaysForCollectionGroup(e,t,n,i){const r=Qv();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return iw(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Qb(this.serializer,t);r.size()<i||o.largestBatchId===s?(r.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>r))}ht(e,t){return iw(e).put(function(e,t,n){const[i,r,s]=Jb(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Cb(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function iw(e){return im(e,"documentOverlays")}class rw{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(ym(e.integerValue));else if("doubleValue"in e){const n=ym(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Cg(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=vm(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(bm(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?zm(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Ef()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const i of Object.keys(n))this.Rt(i,t),this.It(n[i],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const i of n)this.It(i,t)}gt(e,t){this.Et(t,37),$f.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function sw(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ow(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const i=sw(255&e[n]);if(t+=i,8!==i)break}return t}(e);return Math.ceil(t/8)}rw.bt=new rw;class aw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=ow(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}qt(e){const t=this.Bt(e),n=ow(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class lw{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class cw{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class hw{constructor(){this.Gt=new aw,this.zt=new lw(this.Gt),this.jt=new cw(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class uw{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new uw(this.indexId,this.documentKey,this.arrayValue,n)}}function dw(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=pw(e.arrayValue,t.arrayValue),0!==n?n:(n=pw(e.directionalValue,t.directionalValue),0!==n?n:$f.comparator(e.documentKey,t.documentKey)))}function pw(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(0!==i)return i}return e.length-t.length}class fw{constructor(e){this.Yt=new hm(((e,t)=>Jf.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(If(e.collectionGroup===this.collectionId),this.en)return!1;const t=eg(e);if(void 0!==t&&!this.nn(t))return!1;const n=tg(e);let i=new Set,r=0,s=0;for(;r<n.length&&this.nn(n[r]);++r)i=i.add(n[r].fieldPath.canonicalString());if(r===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!i.has(e.field.canonicalString())){const t=n[r];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++r}for(;r<n.length;++r){const e=n[r];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new hm(Jf.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new ng(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new ng(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new ng(n.field,"asc"===n.dir?0:1)));return new Zf(Zf.UNKNOWN_ID,this.collectionId,t,ig.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function gw(e){var t,n;if(If(e instanceof tv||e instanceof nv),e instanceof tv){if(e instanceof mv){const i=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>tv.create(e.field,"==",t))))||[];return nv.create(i,"or")}return e}const i=e.filters.map((e=>gw(e)));return nv.create(i,e.op)}function mw(e){if(0===e.getFilters().length)return[];const t=ww(gw(e));return If(bw(t)),vw(t)||yw(t)?[t]:t.getFilters()}function vw(e){return e instanceof tv}function yw(e){return e instanceof nv&&sv(e)}function bw(e){return vw(e)||yw(e)||function(e){if(e instanceof nv&&rv(e)){for(const t of e.getFilters())if(!vw(t)&&!yw(t))return!1;return!0}return!1}(e)}function ww(e){if(If(e instanceof tv||e instanceof nv),e instanceof tv)return e;if(1===e.filters.length)return ww(e.filters[0]);const t=e.filters.map((e=>ww(e)));let n=nv.create(t,e.op);return n=kw(n),bw(n)?n:(If(n instanceof nv),If(iv(n)),If(n.filters.length>1),n.filters.reduce(((e,t)=>xw(e,t))))}function xw(e,t){let n;return If(e instanceof tv||e instanceof nv),If(t instanceof tv||t instanceof nv),n=e instanceof tv?t instanceof tv?function(e,t){return nv.create([e,t],"and")}(e,t):Sw(e,t):t instanceof tv?Sw(t,e):function(e,t){if(If(e.filters.length>0&&t.filters.length>0),iv(e)&&iv(t))return cv(e,t.getFilters());const n=rv(e)?e:t,i=rv(e)?t:e,r=n.filters.map((e=>xw(e,i)));return nv.create(r,"or")}(e,t),kw(n)}function Sw(e,t){if(iv(t))return cv(t,e.getFilters());{const n=t.filters.map((t=>xw(e,t)));return nv.create(n,"or")}}function kw(e){if(If(e instanceof tv||e instanceof nv),e instanceof tv)return e;const t=e.getFilters();if(1===t.length)return kw(t[0]);if(ov(e))return e;const n=t.map((e=>kw(e))),i=[];return n.forEach((t=>{t instanceof tv?i.push(t):t instanceof nv&&(t.op===e.op?i.push(...t.filters):i.push(t))})),1===i.length?i[0]:nv.create(i,e.op)}class _w{constructor(){this._n=new Tw}addToCollectionParentIndex(e,t){return this._n.add(t),ug.resolve()}getCollectionParents(e,t){return ug.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ug.resolve()}deleteFieldIndex(e,t){return ug.resolve()}deleteAllFieldIndexes(e){return ug.resolve()}createTargetIndexes(e,t){return ug.resolve()}getDocumentsMatchingTarget(e,t){return ug.resolve(null)}getIndexType(e,t){return ug.resolve(0)}getFieldIndexes(e,t){return ug.resolve([])}getNextCollectionGroupToUpdate(e){return ug.resolve(null)}getMinOffset(e,t){return ug.resolve(og.min())}getMinOffsetFromCollectionGroup(e,t){return ug.resolve(og.min())}updateCollectionGroup(e,t,n){return ug.resolve()}updateIndexEntries(e,t){return ug.resolve()}}class Tw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new hm(Kf.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new hm(Kf.comparator)).toArray()}}const Cw=new Uint8Array(0);class Ew{constructor(e,t){this.databaseId=t,this.an=new Tw,this.un=new Hv((e=>xv(e)),((e,t)=>Sv(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const r={collectionId:n,parent:Ig(i)};return Iw(e).put(r)}return ug.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[Wf(t),""],!1,!0);return Iw(e).U(i).next((e=>{for(const i of e){if(i.collectionId!==t)break;n.push(Ng(i.parent))}return n}))}addFieldIndex(e,t){const n=Pw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete i.indexId;const r=n.add(i);if(t.indexState){const n=Nw(e);return r.next((e=>{n.put($b(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return r.next()}deleteFieldIndex(e,t){const n=Pw(e),i=Nw(e),r=Aw(e);return n.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Pw(e),n=Aw(e),i=Nw(e);return t.j().next((()=>n.j())).next((()=>i.j()))}createTargetIndexes(e,t){return ug.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new fw(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Aw(e);let i=!0;const r=new Map;return ug.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{i&&(i=!!e),r.set(t,e)})))).next((()=>{if(i){let e=ty();const i=[];return ug.forEach(r,((r,s)=>{kf("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(r)," to execute ").concat(xv(t)));const o=function(e,t){const n=eg(t);if(void 0===n)return null;for(const i of _v(e,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(s,r),a=function(e,t){const n=new Map;for(const i of tg(t))for(const t of _v(e,i.fieldPath))switch(t.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,r),l=function(e,t){const n=[];let i=!0;for(const r of tg(t)){const t=0===r.kind?Tv(e,r.fieldPath,e.startAt):Cv(e,r.fieldPath,e.startAt);n.push(t.value),i&&(i=t.inclusive)}return new Km(n,i)}(s,r),c=function(e,t){const n=[];let i=!0;for(const r of tg(t)){const t=0===r.kind?Cv(e,r.fieldPath,e.endAt):Tv(e,r.fieldPath,e.endAt);n.push(t.value),i&&(i=t.inclusive)}return new Km(n,i)}(s,r),h=this.hn(r,s,l),u=this.hn(r,s,c),d=this.Pn(r,s,a),p=this.In(r.indexId,o,h,l.inclusive,u,c.inclusive,d);return ug.forEach(p,(r=>n.G(r,t.limit).next((t=>{t.forEach((t=>{const n=$f.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),i.push(n))}))}))))})).next((()=>i))}return ug.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:mw(nv.create(e.filters,"and")).map((t=>wv(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,i,r,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,r.length),l=a/(null!=t?t.length:1),c=[];for(let h=0;h<a;++h){const a=t?this.Tn(t[h/l]):Cw,u=this.En(e,a,n[h%l],i),d=this.dn(e,a,r[h%l],s),p=o.map((t=>this.En(e,a,t,!0)));c.push(...this.createRange(u,d,p))}return c}En(e,t,n,i){const r=new uw(e,$f.empty(),t,n);return i?r:r.Jt()}dn(e,t,n,i){const r=new uw(e,$f.empty(),t,n);return i?r.Jt():r}ln(e,t){const n=new fw(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((e=>{let t=null;for(const i of e)n.tn(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t}))}getIndexType(e,t){let n=2;const i=this.cn(t);return ug.forEach(i,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new hm(Jf.comparator),n=!1;for(const i of e.filters)for(const e of i.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const i of e.orderBy)i.field.isKeyField()||(t=t.add(i.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&i.length>1&&2===n?1:n))}An(e,t){const n=new hw;for(const i of tg(e)){const e=t.data.field(i.fieldPath);if(null==e)return null;const r=n.Ht(i.kind);rw.bt.Pt(e,r)}return n.Wt()}Tn(e){const t=new hw;return rw.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new hw;return rw.bt.Pt(Lm(this.databaseId,t),n.Ht(function(e){const t=tg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let i=[];i.push(new hw);let r=0;for(const s of tg(e)){const e=n[r++];for(const n of i)if(this.Vn(t,s.fieldPath)&&Rm(e))i=this.mn(i,s,e);else{const t=n.Ht(s.kind);rw.bt.Pt(e,t)}}return this.fn(i)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const i=[...e],r=[];for(const s of n.arrayValue.values||[])for(const e of i){const n=new hw;n.seed(e.Wt()),rw.bt.Pt(s,n.Ht(t.kind)),r.push(n)}return r}Vn(e,t){return!!e.filters.find((e=>e instanceof tv&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Pw(e),i=Nw(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return ug.forEach(e,(e=>i.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ig(t.sequenceNumber,new og(Wb(t.readTime),new $f(Ng(t.documentKey)),t.largestBatchId)):ig.empty(),i=e.fields.map((e=>{let[t,n]=e;return new ng(Jf.fromServerFormat(t),n)}));return new Zf(e.indexId,e.collectionGroup,i,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Gf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const i=Pw(e),r=Nw(e);return this.gn(e).next((e=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ug.forEach(t,(t=>r.put($b(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ug.forEach(t,((t,i)=>{const r=n.get(t.collectionGroup);return(r?ug.resolve(r):this.getFieldIndexes(e,t.collectionGroup)).next((r=>(n.set(t.collectionGroup,r),ug.forEach(r,(n=>this.pn(e,t,n).next((t=>{const r=this.yn(i,n);return t.isEqual(r)?ug.resolve():this.wn(e,i,n,t,r)})))))))}))}Sn(e,t,n,i){return Aw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,i){return Aw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const i=Aw(e);let r=new hm(dw);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,i)=>{r=r.add(new uw(n.indexId,t,i.arrayValue,i.directionalValue))})).next((()=>r))}yn(e,t){let n=new hm(dw);const i=this.An(t,e);if(null==i)return n;const r=eg(t);if(null!=r){const s=e.data.field(r.fieldPath);if(Rm(s))for(const r of s.arrayValue.values||[])n=n.add(new uw(t.indexId,e.key,this.Tn(r),i))}else n=n.add(new uw(t.indexId,e.key,Cw,i));return n}wn(e,t,n,i,r){kf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,i,r){const s=e.getIterator(),o=t.getIterator();let a=dm(s),l=dm(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const i=n(a,l);i<0?t=!0:i>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(i(l),l=dm(o)):t?(r(a),a=dm(s)):(a=dm(s),l=dm(o))}}(i,r,dw,(i=>{s.push(this.Sn(e,t,n,i))}),(i=>{s.push(this.bn(e,t,n,i))})),ug.waitFor(s)}gn(e){let t=1;return Nw(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,i)=>{i.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>dw(e,t))).filter(((e,t,n)=>!t||0!==dw(e,n[t-1])));const i=[];i.push(e);for(const s of n){const n=dw(s,e),r=dw(s,t);if(0===n)i[0]=e.Jt();else if(n>0&&r<0)i.push(s),i.push(s.Jt());else if(r>0)break}i.push(t);const r=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];const e=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Cw,[]],t=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Cw,[]];r.push(IDBKeyRange.bound(e,t))}return r}Dn(e,t){return dw(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Mw)}getMinOffset(e,t){return ug.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Ef())))).next(Mw)}}function Iw(e){return im(e,"collectionParents")}function Aw(e){return im(e,"indexEntries")}function Pw(e){return im(e,"indexConfiguration")}function Nw(e){return im(e,"indexState")}function Mw(e){If(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let i=1;i<e.length;i++){const r=e[i].indexState.offset;ag(r,t)<0&&(t=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new og(t.readTime,t.documentKey,n)}const Ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lw{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Lw(e,Lw.DEFAULT_COLLECTION_PERCENTILE,Lw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dw(e,t,n){const i=e.store("mutations"),r=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{If(1===a)})));const c=[];for(const h of n.mutations){const e=Lg(t,h.key.path,n.batchId);s.push(r.delete(e)),c.push(h.key)}return ug.waitFor(s).next((()=>c))}function Rw(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ef();t=e.noDocument}return JSON.stringify(t).length}Lw.DEFAULT_COLLECTION_PERCENTILE=10,Lw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lw.DEFAULT=new Lw(41943040,Lw.DEFAULT_COLLECTION_PERCENTILE,Lw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lw.DISABLED=new Lw(-1,0,0);class jw{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Cn={}}static lt(e,t,n,i){If(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new jw(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uw(e).J({index:"userMutationsIndex",range:n},((e,n,i)=>{t=!1,i.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const r=Bw(e),s=Uw(e);return s.add({}).next((o=>{If("number"==typeof o);const a=new Ry(o,t,n,i),l=function(e,t,n){const i=n.baseMutations.map((t=>Cb(e.ct,t))),r=n.mutations.map((t=>Cb(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.serializer,this.userId,a),c=[];let h=new hm(((e,t)=>Gf(e.canonicalString(),t.canonicalString())));for(const e of i){const t=Lg(this.userId,e.key.path,o);h=h.add(e.key.path.popLast()),c.push(s.put(l)),c.push(r.put(t,Dg))}return h.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),ug.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Uw(e).get(t).next((e=>e?(If(e.userId===this.userId),qb(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?ug.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return Uw(e).J({index:"userMutationsIndex",range:i},((e,t,i)=>{t.userId===this.userId&&(If(t.batchId>=n),r=qb(this.serializer,t)),i.done()})).next((()=>r))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Uw(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,i)=>{n=t.batchId,i.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uw(e).U("userMutationsIndex",t).next((e=>e.map((e=>qb(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Og(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return Bw(e).J({range:i},((n,i,s)=>{const[o,a,l]=n,c=Ng(a);if(o===this.userId&&t.path.isEqual(c))return Uw(e).get(l).next((e=>{if(!e)throw Ef();If(e.userId===this.userId),r.push(qb(this.serializer,e))}));s.done()})).next((()=>r))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hm(Gf);const i=[];return t.forEach((t=>{const r=Og(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=Bw(e).J({range:s},((e,i,r)=>{const[s,o,a]=e,l=Ng(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):r.done()}));i.push(o)})),ug.waitFor(i).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=Og(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new hm(Gf);return Bw(e).J({range:s},((e,t,r)=>{const[s,a,l]=e,c=Ng(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(l)):r.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],i=[];return t.forEach((t=>{i.push(Uw(e).get(t).next((e=>{if(null===e)throw Ef();If(e.userId===this.userId),n.push(qb(this.serializer,e))})))})),ug.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return Dw(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),ug.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ug.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),i=[];return Bw(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ng(e[1]);i.push(t)}else n.done()})).next((()=>{If(0===i.length)}))}))}containsKey(e,t){return Fw(e,this.userId,t)}xn(e){return zw(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Fw(e,t,n){const i=Og(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Bw(e).J({range:s,H:!0},((e,n,i)=>{const[s,a,l]=e;s===t&&a===r&&(o=!0),i.done()})).next((()=>o))}function Uw(e){return im(e,"mutations")}function Bw(e){return im(e,"documentMutations")}function zw(e){return im(e,"mutationQueues")}class Vw{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Vw(0)}static Ln(){return new Vw(-1)}}class Gw{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new Vw(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Xf.fromTimestamp(new qf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.kn(e,i))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Hw(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(If(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let i=0;const r=[];return Hw(e).J(((s,o)=>{const a=Xb(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(e,a)))})).next((()=>ug.waitFor(r))).next((()=>i))}forEachTarget(e,t){return Hw(e).J(((e,n)=>{const i=Xb(n);t(i)}))}Bn(e){return Ww(e).get("targetGlobalKey").next((e=>(If(null!==e),e)))}kn(e,t){return Ww(e).put("targetGlobalKey",t)}qn(e,t){return Hw(e).put(Yb(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=xv(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return Hw(e).J({range:i,index:"queryTargetsIndex"},((e,n,i)=>{const s=Xb(n);Sv(t,s.target)&&(r=s,i.done())})).next((()=>r))}addMatchingKeys(e,t,n){const i=[],r=qw(e);return t.forEach((t=>{const s=Ig(t.path);i.push(r.put({targetId:n,path:s})),i.push(this.referenceDelegate.addReference(e,n,t))})),ug.waitFor(i)}removeMatchingKeys(e,t,n){const i=qw(e);return ug.forEach(t,(t=>{const r=Ig(t.path);return ug.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=qw(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=qw(e);let r=ty();return i.J({range:n,H:!0},((e,t,n)=>{const i=Ng(e[1]),s=new $f(i);r=r.add(s)})).next((()=>r))}containsKey(e,t){const n=Ig(t.path),i=IDBKeyRange.bound([n],[Wf(n)],!1,!0);let r=0;return qw(e).J({index:"documentTargetsIndex",H:!0,range:i},((e,t,n)=>{let[i,s]=e;0!==i&&(r++,n.done())})).next((()=>r>0))}ot(e,t){return Hw(e).get(t).next((e=>e?Xb(e):null))}}function Hw(e){return im(e,"targets")}function Ww(e){return im(e,"targetGlobal")}function qw(e){return im(e,"targetDocuments")}function Xw(e,t){let[n,i]=e,[r,s]=t;const o=Gf(n,r);return 0===o?Gf(i,s):o}class Yw{constructor(e){this.Kn=e,this.buffer=new hm(Xw),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Xw(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kw{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){kf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vg(e)?kf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await hg(e)}await this.zn(3e5)}))}}class Qw{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ug.resolve(_g.oe);const n=new Yw(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(kf("LruGarbageCollector","Garbage collection skipped; disabled"),ug.resolve(Ow)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(kf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ow):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(kf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i)))).next((i=>(n=i,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Sf()<=la.DEBUG&&kf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(i," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),ug.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e}))))}}function Jw(e,t){return new Qw(e,t)}class $w{constructor(e,t){this.db=e,this.garbageCollector=Jw(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Zw(e,n)}removeReference(e,t,n){return Zw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Zw(e,t)}er(e,t){return function(e,t){let n=!1;return zw(e).Y((i=>Fw(e,i,t).next((e=>(e&&(n=!0),ug.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return r++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Xf.min()),qw(e).delete(function(e){return[0,Ig(e.path)]}(s)))))}));i.push(t)}})).next((()=>ug.waitFor(i))).next((()=>n.apply(e))).next((()=>r))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Zw(e,t)}Xn(e,t){const n=qw(e);let i,r=_g.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(r!==_g.oe&&t(new $f(Ng(i)),r),r=l,i=a):r=_g.oe})).next((()=>{r!==_g.oe&&t(new $f(Ng(i)),r)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zw(e,t){return qw(e).put(function(e,t){return{targetId:0,path:Ig(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class ex{constructor(){this.changes=new Hv((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ym.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ug.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tx{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return sx(e).put(n)}removeEntry(e,t,n){return sx(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Gb(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Ym.newInvalidDocument(t);return sx(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ox(t))},((e,i)=>{n=this.nr(t,i)})).next((()=>n))}rr(e,t){let n={size:0,document:Ym.newInvalidDocument(t)};return sx(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ox(t))},((e,i)=>{n={document:this.nr(t,i),size:Rw(i)}})).next((()=>n))}getEntries(e,t){let n=qv();return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i)})).next((()=>n))}sr(e,t){let n=qv(),i=new am($f.comparator);return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r),i=i.insert(e,Rw(t))})).next((()=>({documents:n,_r:i})))}ir(e,t,n){if(t.isEmpty())return ug.resolve();let i=new hm(lx);t.forEach((e=>i=i.add(e)));const r=IDBKeyRange.bound(ox(i.first()),ox(i.last())),s=i.getIterator();let o=s.getNext();return sx(e).J({index:"documentKeyIndex",range:r},((e,t,i)=>{const r=$f.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&lx(o,r)<0;)n(o,null),o=s.getNext();o&&o.isEqual(r)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?i.$(ox(o)):i.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,i,r){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Gb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sx(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==r||r.incrementDocumentReadCount(e.length);let n=qv();for(const r of e){const e=this.nr($f.fromSegments(r.prefixPath.concat(r.collectionGroup,r.documentId)),r);e.isFoundDocument()&&(Bv(t,e)||i.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,i){let r=qv();const s=ax(t,n),o=ax(t,og.max());return sx(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr($f.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);r=r.insert(s.key,s),r.size===i&&n.done()})).next((()=>r))}newChangeBuffer(e){return new ix(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return rx(e).get("remoteDocumentGlobalKey").next((e=>(If(!!e),e)))}tr(e,t){return rx(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Tb(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=$f.fromSegments(t.noDocument.path),i=Wb(t.noDocument.readTime);n=Ym.newNoDocument(e,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ef();{const e=$f.fromSegments(t.unknownDocument.path),i=Wb(t.unknownDocument.version);n=Ym.newUnknownDocument(e,i)}}return t.readTime&&n.setReadTime(function(e){const t=new qf(e[0],e[1]);return Xf.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Xf.min()))return e}return Ym.newInvalidDocument(e)}}function nx(e){return new tx(e)}class ix extends ex{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Hv((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,i=new hm(((e,t)=>Gf(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((r,s)=>{const o=this.ur.get(r);if(t.push(this.ar.removeEntry(e,r,o.readTime)),s.isValidDocument()){const a=Vb(this.ar.serializer,s);i=i.add(r.path.popLast());const l=Rw(a);n+=l-o.size,t.push(this.ar.addEntry(e,r,a))}else if(n-=o.size,this.trackRemovals){const n=Vb(this.ar.serializer,s.convertToNoDocument(Xf.min()));t.push(this.ar.addEntry(e,r,n))}})),i.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),ug.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function rx(e){return im(e,"remoteDocumentGlobal")}function sx(e){return im(e,"remoteDocumentsV14")}function ox(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ax(e,t){const n=t.documentKey.path.toArray();return[e,Gb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lx(e,t){const n=e.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=Gf(n[s],i[s]),r)return r;return r=Gf(n.length,i.length),r||(r=Gf(n[n.length-2],i[i.length-2]),r||Gf(n[n.length-1],i[i.length-1]))}class cx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hx{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Cy(n.mutation,e,pm.empty(),qf.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ty()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ty();const i=Qv();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=Yv();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Qv();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ty())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let r=qv();const s=$v(),o=$v();return t.forEach(((e,t)=>{const o=n.get(t.key);i.has(t.key)&&(void 0===o||o.mutation instanceof Py)?r=r.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Cy(o.mutation,t,o.mutation.getFieldMask(),qf.now())):s.set(t.key,pm.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new cx(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=$v();let i=new am(((e,t)=>e-t)),r=ty();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||pm.empty();o=r.applyToLocalView(s,o),n.set(e,o);const a=(i.get(r.batchId)||ty()).add(e);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=Jv();l.forEach((e=>{if(!r.has(e)){const i=_y(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ug.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,i){return function(e){return $f.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):ug.resolve(Qv());let o=-1,a=r;return s.next((t=>ug.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(t)?ug.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,a,t,ty()))).next((e=>({batchId:o,changes:Kv(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $f(t)).next((e=>{let t=Yv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const r=t.collectionGroup;let s=Yv();return this.indexManager.getCollectionParents(e,r).next((o=>ug.forEach(o,(o=>{const a=function(e,t){return new Ev(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n,i).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,i)))).next((e=>{r.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,Ym.newInvalidDocument(i)))}));let n=Yv();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&Cy(s.mutation,i,pm.empty(),qf.now()),Bv(t,i)&&(n=n.insert(e,i))})),n}))}}class ux{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ug.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:fb(e.createTime)}}(t)),ug.resolve()}getNamedQuery(e,t){return ug.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Kb(e.bundledQuery),readTime:fb(e.readTime)}}(t)),ug.resolve()}}class dx{constructor(){this.overlays=new am($f.comparator),this.hr=new Map}getOverlay(e,t){return ug.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Qv();return ug.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.ht(e,t,i)})),ug.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.hr.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),ug.resolve()}getOverlaysForCollection(e,t,n){const i=Qv(),r=t.length+1,s=new $f(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return ug.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new am(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=Qv(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Qv(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=i)););return ug.resolve(o)}ht(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.hr.get(i.largestBatchId).delete(n.key);this.hr.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Fy(t,n));let r=this.hr.get(t);void 0===r&&(r=ty(),this.hr.set(t,r)),this.hr.set(t,r.add(n.key))}}class px{constructor(){this.Pr=new hm(fx.Ir),this.Tr=new hm(fx.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new fx(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new fx(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new $f(new Kf([])),n=new fx(t,e),i=new fx(t,e+1),r=[];return this.Tr.forEachInRange([n,i],(e=>{this.Ar(e),r.push(e.key)})),r}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new $f(new Kf([])),n=new fx(t,e),i=new fx(t,e+1);let r=ty();return this.Tr.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new fx(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fx{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return $f.comparator(e.key,t.key)||Gf(e.pr,t.pr)}static Er(e,t){return Gf(e.pr,t.pr)||$f.comparator(e.key,t.key)}}class gx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new hm(fx.Ir)}checkEmpty(e){return ug.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ry(r,t,n,i);this.mutationQueue.push(s);for(const o of i)this.wr=this.wr.add(new fx(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ug.resolve(s)}lookupMutationBatch(e,t){return ug.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.br(n),r=i<0?0:i;return ug.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return ug.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ug.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fx(t,0),i=new fx(t,Number.POSITIVE_INFINITY),r=[];return this.wr.forEachInRange([n,i],(e=>{const t=this.Sr(e.pr);r.push(t)})),ug.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hm(Gf);return t.forEach((e=>{const t=new fx(e,0),i=new fx(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,i],(e=>{n=n.add(e.pr)}))})),ug.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;$f.isDocumentKey(r)||(r=r.child(""));const s=new fx(new $f(r),0);let o=new hm(Gf);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.pr)),!0)}),s),ug.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){If(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ug.forEach(t.mutations,(i=>{const r=new fx(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new fx(t,0),i=this.wr.firstAfterOrEqual(n);return ug.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ug.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mx{constructor(e){this.vr=e,this.docs=new am($f.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ug.resolve(n?n.document.mutableCopy():Ym.newInvalidDocument(t))}getEntries(e,t){let n=qv();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ym.newInvalidDocument(e))})),ug.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=qv();const s=t.path,o=new $f(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ag(sg(o),n)<=0||(i.has(o.key)||Bv(t,o))&&(r=r.insert(o.key,o.mutableCopy()))}return ug.resolve(r)}getAllFromCollectionGroup(e,t,n,i){Ef()}Fr(e,t){return ug.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new vx(this)}getSize(e){return ug.resolve(this.size)}}class vx extends ex{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(n)})),ug.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class yx{constructor(e){this.persistence=e,this.Mr=new Hv((e=>xv(e)),Sv),this.lastRemoteSnapshotVersion=Xf.min(),this.highestTargetId=0,this.Or=0,this.Nr=new px,this.targetCount=0,this.Lr=Vw.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),ug.resolve()}getLastRemoteSnapshotVersion(e){return ug.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ug.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ug.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ug.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Vw(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ug.resolve()}updateTargetData(e,t){return this.qn(t),ug.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ug.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ug.waitFor(r).next((()=>i))}getTargetCount(e){return ug.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ug.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ug.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),ug.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ug.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ug.resolve(n)}containsKey(e,t){return ug.resolve(this.Nr.containsKey(t))}}class bx{constructor(e,t){this.Br={},this.overlays={},this.kr=new _g(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new yx(this),this.indexManager=new _w,this.remoteDocumentCache=function(e){return new mx(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new zb(t),this.$r=new ux(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new gx(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){kf("MemoryPersistence","Starting transaction:",e);const i=new wx(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((e=>this.referenceDelegate.Wr(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Gr(e,t){return ug.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class wx extends cg{constructor(e){super(),this.currentSequenceNumber=e}}class xx{constructor(e){this.persistence=e,this.zr=new px,this.jr=null}static Hr(e){return new xx(e)}get Jr(){if(this.jr)return this.jr;throw Ef()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ug.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ug.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ug.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ug.forEach(this.Jr,(n=>{const i=$f.fromPath(n);return this.Yr(e,i).next((e=>{e||t.removeEntry(i,Xf.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return ug.or([()=>ug.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Sx{constructor(e){this.serializer=e}O(e,t,n,i){const r=new dg("createOrUpgrade",t);n<1&&i>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mg,{unique:!0}),e.createObjectStore("documentMutations")}(e),kx(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=ug.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),kx(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(r)))),n<4&&i>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mg,{unique:!0});const i=t.store("mutations"),r=n.map((e=>i.put(e)));return ug.waitFor(r)}))}(e,r)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&i>=5&&(s=s.next((()=>this.Xr(r)))),n<6&&i>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(r))))),n<7&&i>=7&&(s=s.next((()=>this.ti(r)))),n<8&&i>=8&&(s=s.next((()=>this.ni(e,r)))),n<9&&i>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&i>=10&&(s=s.next((()=>this.ri(r)))),n<11&&i>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&i>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Xg});t.createIndex("collectionPathOverlayIndex",Yg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Kg,{unique:!1})}(e)}))),n<13&&i>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Rg});t.createIndex("documentKeyIndex",jg),t.createIndex("collectionGroupIndex",Fg)}(e))).next((()=>this.ii(e,r))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(s=s.next((()=>this.si(e,r)))),n<15&&i>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Gg}).createIndex("sequenceNumberIndex",Hg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Wg}).createIndex("documentKeyIndex",qg,{unique:!1})}(e)))),n<16&&i>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),s}ei(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Rw(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>ug.forEach(t,(t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",i).next((n=>ug.forEach(n,(n=>{If(n.userId===t.userId);const i=qb(this.serializer,n);return Dw(e,t.userId,i).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const i=[];return n.J(((n,r)=>{const s=new Kf(n),o=function(e){return[0,Ig(e)]}(s);i.push(t.get(o).next((n=>n?ug.resolve():(n=>t.put({targetId:0,path:Ig(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>ug.waitFor(i)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Vg});const n=t.store("collectionParents"),i=new Tw,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ig(i)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new Kf(e);return r(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,i,s]=e;const o=Ng(i);return r(o.popLast())}))))}ri(e){const t=e.store("targets");return t.J(((e,n)=>{const i=Xb(n),r=Yb(this.serializer,i);return t.put(r)}))}ii(e,t){const n=t.store("remoteDocuments"),i=[];return n.J(((e,n)=>{const r=t.store("remoteDocumentsV14"),s=function(e){return e.document?new $f(Kf.fromString(e.document.name).popFirst(5)):e.noDocument?$f.fromSegments(e.noDocument.path):e.unknownDocument?$f.fromSegments(e.unknownDocument.path):Ef()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(o))})).next((()=>ug.waitFor(i)))}si(e,t){const n=t.store("mutations"),i=nx(this.serializer),r=new bx(xx.Hr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let i=null!==(t=n.get(e.userId))&&void 0!==t?t:ty();qb(this.serializer,e).keys().forEach((e=>i=i.add(e))),n.set(e.userId,i)})),ug.forEach(n,((e,n)=>{const s=new bf(n),o=nw.lt(this.serializer,s),a=r.getIndexManager(s),l=jw.lt(s,this.serializer,a,r.referenceDelegate);return new hx(i,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new nm(t,_g.oe),e).next()}))}))}}function kx(e){e.createObjectStore("targetDocuments",{keyPath:Bg}).createIndex("documentTargetsIndex",zg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ug,{unique:!0}),e.createObjectStore("targetGlobal")}const _x="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tx{constructor(e,t,n,i,r,s,o,a,l,c){let h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=r,this.window=s,this.document=o,this._i=l,this.ai=c,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Tx.D())throw new Nf(Pf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $w(this,i),this.Ti=t+"main",this.serializer=new zb(a),this.Ei=new pg(this.Ti,this.ui,new Sx(this.serializer)),this.Qr=new Gw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nx(this.serializer),this.$r=new Zb,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&_f("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nf(Pf.FAILED_PRECONDITION,_x);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new _g(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ex(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(vg(e))return kf("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return kf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Cx(e).get("owner").next((e=>ug.resolve(this.Si(e))))}bi(e){return Ex(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=im(e,"clientMetadata");return t.U().next((e=>{const n=this.vi(e,18e5),i=e.filter((e=>-1===n.indexOf(e)));return ug.forEach(i,(e=>t.delete(e.clientId))).next((()=>i))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ug.resolve(!0):Cx(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Nf(Pf.FAILED_PRECONDITION,_x);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ex(e).U().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&kf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new nm(e,_g.oe);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Ex(e).U().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return jw.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ew(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return nw.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){kf("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",r=function(e){return 16===e?tm:15===e?em:14===e?Zg:13===e?$g:12===e?Jg:11===e?Qg:void Ef()}(this.ui);let s;return this.Ei.runTransaction(e,i,r,(i=>(s=new nm(i,this.kr?this.kr.next():_g.oe),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw _f("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Nf(Pf.FAILED_PRECONDITION,lg);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return Cx(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Nf(Pf.FAILED_PRECONDITION,_x)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cx(e).put("owner",t)}static D(){return pg.D()}yi(e){const t=Cx(e);return t.get("owner").next((e=>this.Si(e)?(kf("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ug.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(_f("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Vo()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return kf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return _f("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(NL){_f("Failed to set zombie client id.",NL)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(NL){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Cx(e){return im(e,"owner")}function Ex(e){return im(e,"clientMetadata")}function Ix(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Ax{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=i}static Ki(e,t){let n=ty(),i=ty();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Ax(e,t.fromCache,n,i)}}class Px{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Nx{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Vo()?8:fg(Do())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,i){const r={result:null};return this.ji(e,t).next((e=>{r.result=e})).next((()=>{if(!r.result)return this.Hi(e,t,i,n).next((e=>{r.result=e}))})).next((()=>{if(r.result)return;const n=new Px;return this.Ji(e,t,n).next((i=>{if(r.result=i,this.Ui)return this.Yi(e,t,n,i.size)}))})).next((()=>r.result))}Yi(e,t,n,i){return n.documentReadCount<this.Wi?(Sf()<=la.DEBUG&&kf("QueryEngine","SDK will not create cache indexes for query:",Uv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ug.resolve()):(Sf()<=la.DEBUG&&kf("QueryEngine","Query:",Uv(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Gi*i?(Sf()<=la.DEBUG&&kf("QueryEngine","The SDK decides to create cache indexes for query:",Uv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ov(t))):ug.resolve())}ji(e,t){if(Pv(t))return ug.resolve(null);let n=Ov(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=Rv(t,null,"F"),n=Ov(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const r=ty(...i);return this.zi.getDocuments(e,r).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,i);return this.Xi(t,s,r,n.readTime)?this.ji(e,Rv(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,i){return Pv(t)||i.isEqual(Xf.min())?ug.resolve(null):this.zi.getDocuments(e,n).next((r=>{const s=this.Zi(t,r);return this.Xi(t,s,n,i)?ug.resolve(null):(Sf()<=la.DEBUG&&kf("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uv(t)),this.es(e,s,t,rg(i,-1)).next((e=>e)))}))}Zi(e,t){let n=new hm(Vv(e));return t.forEach(((t,i)=>{Bv(e,i)&&(n=n.add(i))})),n}Xi(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ji(e,t,n){return Sf()<=la.DEBUG&&kf("QueryEngine","Using full collection scan to execute query:",Uv(t)),this.zi.getDocumentsMatchingQuery(e,t,og.min(),n)}es(e,t,n,i){return this.zi.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Mx{constructor(e,t,n,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new am(Gf),this.rs=new Hv((e=>xv(e)),Sv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hx(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Ox(e,t,n,i){return new Mx(e,t,n,i)}async function Lx(e,t){const n=Af(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((r=>(i=r,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],s=[];let o=ty();for(const e of i){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:r,addedBatchIds:s})))}))}))}function Dx(e){const t=Af(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Rx(e,t,n){let i=ty(),r=ty();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=qv();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(Xf.min())?(t.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),i=i.insert(n,s)):kf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:i,ls:r}}))}function jx(e,t){const n=Af(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Fx(e,t){const n=Af(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.Qr.getTargetData(e,t).next((r=>r?(i=r,ug.resolve(i)):n.Qr.allocateTargetId(e).next((r=>(i=new Bb(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.ns.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Ux(e,t,n){const i=Af(e),r=i.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!vg(e))throw e;kf("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}i.ns=i.ns.remove(t),i.rs.delete(r.target)}function Bx(e,t,n){const i=Af(e);let r=Xf.min(),s=ty();return i.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const i=Af(e),r=i.rs.get(n);return void 0!==r?ug.resolve(i.ns.get(r)):i.Qr.getTargetData(t,n)}(i,e,Ov(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i.ts.getDocumentsMatchingQuery(e,t,n?r:Xf.min(),n?s:ty()))).next((e=>(Gx(i,zv(t),e),{documents:e,hs:s})))))}function zx(e,t){const n=Af(e),i=Af(n.Qr),r=n.ns.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(e=>i.ot(e,t).next((e=>e?e.target:null))))}function Vx(e,t){const n=Af(e),i=n.ss.get(t)||Xf.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,rg(i,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Gx(n,t,e),e)))}function Gx(e,t,n){let i=e.ss.get(t)||Xf.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.ss.set(t,i)}async function Hx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ty();const i=await Fx(e,Ov(Kb(t.bundledQuery))),r=Af(e);return r.persistence.runTransaction("Save named query","readwrite",(e=>{const s=fb(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.$r.saveNamedQuery(e,t);const o=i.withResumeToken(gm.EMPTY_BYTE_STRING,s);return r.ns=r.ns.insert(o.targetId,o),r.Qr.updateTargetData(e,o).next((()=>r.Qr.removeMatchingKeysForTargetId(e,i.targetId))).next((()=>r.Qr.addMatchingKeys(e,n,i.targetId))).next((()=>r.$r.saveNamedQuery(e,t)))}))}function Wx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function qx(e,t,n){let i="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(i+="_".concat(t.uid)),i}function Xx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Yx{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static Es(e,t,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Nf(i.error.code,i.error.message))),s?new Yx(e,t,i.state,r):(_f("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kx{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new Nf(n.error.code,n.error.message))),r?new Kx(e,n.state,i):(_f("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qx{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=iy();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=Eg(n.activeTargetIds[s]),r=r.add(n.activeTargetIds[s]);return i?new Qx(e,r):(_f("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Jx{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Jx(t.clientId,t.onlineState):(_f("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class $x{constructor(){this.activeTargetIds=iy()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zx{constructor(e,t,n,i,r){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new am(Gf),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.ws=Wx(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new $x),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Wx(this.persistenceKey,n));if(e){const t=Qx.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Xx(this.persistenceKey,e));if(n){const i=Kx.Es(e,n);i&&(t=i.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xx(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return kf("SharedClientState","READ",e,t),t}setItem(e,t){kf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){kf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(kf("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void _f("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=_g.oe;if(null!=e)try{const n=JSON.parse(e);If("number"==typeof n),t=n}catch(e){_f("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==_g.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const i=new Yx(this.currentUser,e,t,n),r=qx(this.persistenceKey,this.currentUser,e);this.setItem(r,i.ds())}Bs(e){const t=qx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const i=Xx(this.persistenceKey,e),r=new Kx(e,t,n);this.setItem(i,r.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Qx.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return Yx.Es(new bf(r),i,t)}js(e,t){const n=this.Cs.exec(e),i=Number(n[1]);return Kx.Es(i,t)}xs(e){return Jx.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);kf("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),r=this.Ns(n),s=[],o=[];return r.forEach((e=>{i.has(e)||s.push(e)})),i.forEach((e=>{r.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=iy();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class eS{constructor(){this.no=new $x,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new $x,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tS{io(e){}shutdown(){}}class nS{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){kf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){kf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let iS=null;function rS(){return null===iS?iS=268435456+Math.round(2147483648*Math.random()):iS++,"0x"+iS.toString(16)}const sS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oS{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const aS="WebChannelConnection";class lS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(i),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}get Do(){return!1}Co(e,t,n,i,r){const s=rS(),o=this.vo(e,t.toUriEncodedString());kf("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,i,r),this.Mo(e,o,a,n).then((t=>(kf("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Tf("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}xo(e,t,n,i,r,s){return this.Co(e,t,n,i,r)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=sS[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,i){const r=rS();return new Promise(((s,o)=>{const a=new af;a.setWithCredentials(!0),a.listenOnce(hf.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case uf.NO_ERROR:const t=a.getResponseJson();kf(aS,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),s(t);break;case uf.TIMEOUT:kf(aS,"RPC '".concat(e,"' ").concat(r," timed out")),o(new Nf(Pf.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const n=a.getStatus();if(kf(aS,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pf).indexOf(t)>=0?t:Pf.UNKNOWN}(t.status);o(new Nf(e,t.message))}else o(new Nf(Pf.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Nf(Pf.UNAVAILABLE,"Connection failed."));break;default:Ef()}}finally{kf(aS,"RPC '".concat(e,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);kf(aS,"RPC '".concat(e,"' ").concat(r," sending request:"),i),a.send(t,"POST",l,n,15)}))}Oo(e,t,n){const i=rS(),r=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gf(),o=ff(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new lf({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=r.join("");kf(aS,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(c),a);const h=s.createWebChannel(c,a);let u=!1,d=!1;const p=new oS({lo:t=>{d?kf(aS,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),t):(u||(kf(aS,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),h.open(),u=!0),kf(aS,"RPC '".concat(e,"' stream ").concat(i," sending:"),t),h.send(t))},ho:()=>h.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(h,cf.EventType.OPEN,(()=>{d||(kf(aS,"RPC '".concat(e,"' stream ").concat(i," transport opened.")),p.mo())})),f(h,cf.EventType.CLOSE,(()=>{d||(d=!0,kf(aS,"RPC '".concat(e,"' stream ").concat(i," transport closed")),p.po())})),f(h,cf.EventType.ERROR,(t=>{d||(d=!0,Tf(aS,"RPC '".concat(e,"' stream ").concat(i," transport errored:"),t),p.po(new Nf(Pf.UNAVAILABLE,"The operation could not be completed")))})),f(h,cf.EventType.MESSAGE,(t=>{var n;if(!d){const r=t.data[0];If(!!r);const s=r,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){kf(aS,"RPC '".concat(e,"' stream ").concat(i," received error:"),o);const t=o.status;let n=function(e){const t=By[e];if(void 0!==t)return Gy(t)}(t),r=o.message;void 0===n&&(n=Pf.INTERNAL,r="Unknown error status: "+t+" with message "+o.message),d=!0,p.po(new Nf(n,r)),h.close()}else kf(aS,"RPC '".concat(e,"' stream ").concat(i," received:"),r),p.yo(r)}})),f(o,pf.STAT_EVENT,(t=>{t.stat===df.PROXY?kf(aS,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):t.stat===df.NOPROXY&&kf(aS,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{p.fo()}),0),p}}function cS(){return"undefined"!=typeof window?window:null}function hS(){return"undefined"!=typeof document?document:null}function uS(e){return new cb(e,!0)}class dS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=i,this.Bo=r,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-n);i>0&&kf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class pS{constructor(e,t,n,i,r,s,o,a){this.oi=e,this.Go=n,this.zo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new dS(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===Pf.RESOURCE_EXHAUSTED?(_f(t.toString()),_f("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===Pf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,i]=e;this.jo===t&&this.u_(n,i)}),(t=>{e((()=>{const e=new Nf(Pf.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return kf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(kf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fS extends pS{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ef()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(If(void 0===t||"string"==typeof t),gm.fromBase64String(t||"")):(If(void 0===t||t instanceof Buffer||t instanceof Uint8Array),gm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Pf.UNKNOWN:Gy(e.code);return new Nf(t,e.message||"")}(o);n=new tb(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=bb(e,i.document.name),s=fb(i.document.updateTime),o=i.document.createTime?fb(i.document.createTime):Xf.min(),a=new qm({mapValue:{fields:i.document.fields}}),l=Ym.newFoundDocument(r,s,o,a),c=i.targetIds||[],h=i.removedTargetIds||[];n=new Zy(c,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=bb(e,i.document),s=i.readTime?fb(i.readTime):Xf.min(),o=Ym.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Zy([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=bb(e,i.document),s=i.removedTargetIds||[];n=new Zy([],s,r,null)}else{if(!("filter"in t))return Ef();{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,s=new Uy(i,r),o=e.targetId;n=new eb(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Xf.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Xf.min():t.readTime?fb(t.readTime):Xf.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=Sb(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=kv(i)?{documents:Ib(e,i)}:{query:Ab(e,i)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=db(e,t.resumeToken);const i=hb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Xf.min())>0){n.readTime=ub(e,t.snapshotVersion.toTimestamp());const i=hb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ef()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=Sb(this.serializer),t.removeTarget=e,this.i_(t)}}class gS extends pS{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(If(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(If(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?fb(e.updateTime):fb(t);return n.isEqual(Xf.min())&&(n=fb(t)),new wy(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=fb(e.commitTime);return this.listener.A_(n,t)}return If(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Sb(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Cb(this.serializer,e)))};this.i_(t)}}class mS extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Nf(Pf.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,o]=r;return this.connection.Co(e,mb(t,n),i,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nf(Pf.UNKNOWN,e.toString())}))}xo(e,t,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.xo(e,mb(t,n),i,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nf(Pf.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class vS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(_f(t),this.y_=!1):kf("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class yS{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=r,this.O_.io((e=>{n.enqueueAndForget((async()=>{ES(this)&&(kf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Af(e);t.M_.add(4),await wS(t),t.N_.set("Unknown"),t.M_.delete(4),await bS(t)}(this))}))})),this.N_=new vS(n,i)}}async function bS(e){if(ES(e))for(const t of e.x_)await t(!0)}async function wS(e){for(const t of e.x_)await t(!1)}function xS(e,t){const n=Af(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),CS(n)?TS(n):qS(n).Xo()&&kS(n,t))}function SS(e,t){const n=Af(e),i=qS(n);n.F_.delete(t),i.Xo()&&_S(n,t),0===n.F_.size&&(i.Xo()?i.n_():ES(n)&&n.N_.set("Unknown"))}function kS(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xf.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qS(e).P_(t)}function _S(e,t){e.L_.xe(t),qS(e).I_(t)}function TS(e){e.L_=new ib({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),qS(e).start(),e.N_.w_()}function CS(e){return ES(e)&&!qS(e).Zo()&&e.F_.size>0}function ES(e){return 0===Af(e).M_.size}function IS(e){e.L_=void 0}async function AS(e){e.N_.set("Online")}async function PS(e){e.F_.forEach(((t,n)=>{kS(e,t)}))}async function NS(e,t){IS(e),CS(e)?(e.N_.D_(t),TS(e)):e.N_.set("Unknown")}async function MS(e,t,n){if(e.N_.set("Online"),t instanceof tb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.F_.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.F_.delete(i),e.L_.removeTarget(i))}(e,t)}catch(n){kf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await OS(e,n)}else if(t instanceof Zy?e.L_.Ke(t):t instanceof eb?e.L_.He(t):e.L_.We(t),!n.isEqual(Xf.min()))try{const t=await Dx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.F_.get(i);r&&e.F_.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const i=e.F_.get(t);if(!i)return;e.F_.set(t,i.withResumeToken(gm.EMPTY_BYTE_STRING,i.snapshotVersion)),_S(e,t);const r=new Bb(i.target,t,n,i.sequenceNumber);kS(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){kf("RemoteStore","Failed to raise snapshot:",t),await OS(e,t)}}async function OS(e,t,n){if(!vg(t))throw t;e.M_.add(1),await wS(e),e.N_.set("Offline"),n||(n=()=>Dx(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{kf("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await bS(e)}))}function LS(e,t){return t().catch((n=>OS(e,n,t)))}async function DS(e){const t=Af(e),n=XS(t);let i=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;RS(t);)try{const e=await jx(t.localStore,i);if(null===e){0===t.v_.length&&n.n_();break}i=e.batchId,jS(t,e)}catch(e){await OS(t,e)}FS(t)&&US(t)}function RS(e){return ES(e)&&e.v_.length<10}function jS(e,t){e.v_.push(t);const n=XS(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function FS(e){return ES(e)&&!XS(e).Zo()&&e.v_.length>0}function US(e){XS(e).start()}async function BS(e){XS(e).V_()}async function zS(e){const t=XS(e);for(const n of e.v_)t.d_(n.mutations)}async function VS(e,t,n){const i=e.v_.shift(),r=jy.from(i,t,n);await LS(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await DS(e)}async function GS(e,t){t&&XS(e).E_&&await async function(e,t){if(function(e){return Vy(e)&&e!==Pf.ABORTED}(t.code)){const n=e.v_.shift();XS(e).t_(),await LS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await DS(e)}}(e,t),FS(e)&&US(e)}async function HS(e,t){const n=Af(e);n.asyncQueue.verifyOperationInProgress(),kf("RemoteStore","RemoteStore received new credentials");const i=ES(n);n.M_.add(3),await wS(n),i&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await bS(n)}async function WS(e,t){const n=Af(e);t?(n.M_.delete(2),await bS(n)):t||(n.M_.add(2),await wS(n),n.N_.set("Unknown"))}function qS(e){return e.B_||(e.B_=function(e,t,n){const i=Af(e);return i.f_(),new fS(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Po:AS.bind(null,e),To:PS.bind(null,e),Ao:NS.bind(null,e),h_:MS.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),CS(e)?TS(e):e.N_.set("Unknown")):(await e.B_.stop(),IS(e))}))),e.B_}function XS(e){return e.k_||(e.k_=function(e,t,n){const i=Af(e);return i.f_(),new gS(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:BS.bind(null,e),Ao:GS.bind(null,e),R_:zS.bind(null,e),A_:VS.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await DS(e)):(await e.k_.stop(),e.v_.length>0&&(kf("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class YS{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Mf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new YS(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nf(Pf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KS(e,t){if(_f("AsyncQueue","".concat(t,": ").concat(e)),vg(e))return new Nf(Pf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class QS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||$f.comparator(t.key,n.key):(e,t)=>$f.comparator(e.key,t.key),this.keyedMap=Yv(),this.sortedSet=new am(this.comparator)}static emptySet(e){return new QS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof QS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new QS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class JS{constructor(){this.q_=new am($f.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Ef():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class $S{constructor(e,t,n,i,r,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new $S(e,t,QS.emptySet(t),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class ZS{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class ek{constructor(){this.queries=new Hv((e=>Fv(e)),jv),this.onlineState="Unknown",this.z_=new Set}}async function tk(e,t){const n=Af(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.W_()&&t.G_()&&(i=2):(s=new ZS,i=t.G_()?0:1);try{switch(i){case 0:s.K_=await n.onListen(r,!0);break;case 1:s.K_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(e){const n=KS(e,"Initialization of query '".concat(Uv(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&sk(n)}async function nk(e,t){const n=Af(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?r=t.G_()?0:1:!s.W_()&&t.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ik(e,t){const n=Af(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(r)&&(i=!0);t.K_=r}}i&&sk(n)}function rk(e,t,n){const i=Af(e),r=i.queries.get(t);if(r)for(const s of r.U_)s.onError(n);i.queries.delete(t)}function sk(e){e.z_.forEach((e=>{e.next()}))}var ok,ak;(ak=ok||(ok={})).J_="default",ak.Cache="cache";class lk{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new $S(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=$S.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ok.Cache}}class ck{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class hk{constructor(e){this.serializer=e}Ps(e){return bb(this.serializer,e)}Is(e){return e.metadata.exists?Tb(this.serializer,e.document,!1):Ym.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return fb(e)}}class uk{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dk(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=Kf.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new hk(this.serializer);for(const i of e)if(i.metadata.queries){const e=n.Ps(i.metadata.name);for(const n of i.metadata.queries){const i=(t.get(n)||ty()).add(e);t.set(n,i)}}return t}async complete(){const e=await async function(e,t,n,i){const r=Af(e);let s=ty(),o=qv();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(s=s.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),o=o.insert(e,n)}const a=r.os.newChangeBuffer({trackRemovals:!0}),l=await Fx(r,function(e){return Ov(Av(Kf.fromString("__bundle__/docs/".concat(e))))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Rx(e,a,o).next((t=>(a.apply(e),t))).next((t=>r.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>r.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>r.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new hk(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const n of this.queries)await Hx(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function dk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class pk{constructor(e){this.key=e}}class fk{constructor(e){this.key=e}}class gk{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ty(),this.mutatedKeys=ty(),this.Ia=Vv(e),this.Ta=new QS(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new JS,i=t?t.Ta:this.Ta;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),h=Bv(this.query,t)?t:null,u=!!c&&this.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let p=!1;c&&h?c.data.isEqual(h.data)?u!==d&&(n.track({type:3,doc:h}),p=!0):this.Ra(c,h)||(n.track({type:2,doc:h}),p=!0,(a&&this.Ia(h,a)>0||l&&this.Ia(h,l)<0)&&(o=!0)):!c&&h?(n.track({type:0,doc:h}),p=!0):c&&!h&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(h?(s=s.add(h),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:r}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const r=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ef()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),i=null!=i&&i;const o=t&&!i?this.ma():[],a=0===this.Pa.size&&this.current&&!i?1:0,l=a!==this.ha;return this.ha=a,0!==s.length||l?{snapshot:new $S(this.query,e.Ta,r,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new JS,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ty(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new fk(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new pk(n))})),t}pa(e){this.la=e.hs,this.Pa=ty();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return $S.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class mk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class vk{constructor(e){this.key=e,this.wa=!1}}class yk{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Hv((e=>Fv(e)),jv),this.Da=new Map,this.Ca=new Set,this.va=new am($f.comparator),this.Fa=new Map,this.Ma=new px,this.xa={},this.Oa=new Map,this.Na=Vw.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function bk(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=Yk(e);let r;const s=i.ba.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=await xk(i,t,n,!0),r}async function wk(e,t){const n=Yk(e);await xk(n,t,!0,!1)}async function xk(e,t,n,i){const r=await Fx(e.localStore,Ov(t)),s=r.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return i&&(a=await Sk(e,t,s,"current"===o,r.resumeToken)),e.isPrimaryClient&&n&&xS(e.remoteStore,r),a}async function Sk(e,t,n,i,r){e.Ba=(t,n,i)=>async function(e,t,n,i){let r=t.view.da(n);r.Xi&&(r=await Bx(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,r)})));const s=i&&i.targetChanges.get(t.targetId),o=i&&null!=i.targetMismatches.get(t.targetId),a=t.view.applyChanges(r,e.isPrimaryClient,s,o);return Lk(e,t.targetId,a.fa),a.snapshot}(e,t,n,i);const s=await Bx(e.localStore,t,!0),o=new gk(t,s.hs),a=o.da(s.documents),l=$y.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=o.applyChanges(a,e.isPrimaryClient,l);Lk(e,n,c.fa);const h=new mk(t,n,o);return e.ba.set(t,h),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function kk(e,t,n){const i=Af(e),r=i.ba.get(t),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter((e=>!jv(e,t)))),void i.ba.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ux(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&SS(i.remoteStore,r.targetId),Mk(i,r.targetId)})).catch(hg)):(Mk(i,r.targetId),await Ux(i.localStore,r.targetId,!0))}async function _k(e,t){const n=Af(e),i=n.ba.get(t),r=n.Da.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),SS(n.remoteStore,i.targetId))}async function Tk(e,t){const n=Af(e);try{const e=await function(e,t){const n=Af(e),i=t.snapshotVersion;let r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(gm.EMPTY_BYTE_STRING,Xf.min()).withLastLimboFreeSnapshotVersion(Xf.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=qv(),l=ty();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),o.push(Rx(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!i.isEqual(Xf.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,i)));o.push(t)}return ug.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.Fa.get(t);i&&(If(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.wa=!0:e.modifiedDocuments.size>0?If(i.wa):e.removedDocuments.size>0&&(If(i.wa),i.wa=!1))})),await jk(n,e,t)}catch(e){await hg(e)}}function Ck(e,t,n){const i=Af(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.ba.forEach(((n,i)=>{const r=i.view.j_(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Af(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.U_)r.j_(t)&&(i=!0)})),i&&sk(n)}(i.eventManager,t),e.length&&i.Sa.h_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Ek(e,t,n){const i=Af(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Fa.get(t),s=r&&r.key;if(s){let e=new am($f.comparator);e=e.insert(s,Ym.newNoDocument(s,Xf.min()));const n=ty().add(s),r=new Jy(Xf.min(),new Map,new am(Gf),e,n);await Tk(i,r),i.va=i.va.remove(s),i.Fa.delete(t),Rk(i)}else await Ux(i.localStore,t,!1).then((()=>Mk(i,t,n))).catch(hg)}async function Ik(e,t){const n=Af(e),i=t.batch.batchId;try{const e=await function(e,t){const n=Af(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let o=ug.resolve();return s.forEach((e=>{o=o.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);If(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ty();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);Nk(n,i,null),Pk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await jk(n,e)}catch(e){await hg(e)}}async function Ak(e,t,n){const i=Af(e);try{const e=await function(e,t){const n=Af(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(If(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);Nk(i,t,n),Pk(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await jk(i,e)}catch(n){await hg(n)}}function Pk(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Nk(e,t,n){const i=Af(e);let r=i.xa[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.xa[i.currentUser.toKey()]=r}}function Mk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Da.get(t))e.ba.delete(i),n&&e.Sa.ka(i,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||Ok(e,t)}))}function Ok(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(SS(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Rk(e))}function Lk(e,t,n){for(const i of n)i instanceof pk?(e.Ma.addReference(i.key,t),Dk(e,i)):i instanceof fk?(kf("SyncEngine","Document no longer in limbo: "+i.key),e.Ma.removeReference(i.key,t),e.Ma.containsKey(i.key)||Ok(e,i.key)):Ef()}function Dk(e,t){const n=t.key,i=n.path.canonicalString();e.va.get(n)||e.Ca.has(i)||(kf("SyncEngine","New document in limbo: "+n),e.Ca.add(i),Rk(e))}function Rk(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new $f(Kf.fromString(t)),i=e.Na.next();e.Fa.set(i,new vk(n)),e.va=e.va.insert(n,i),xS(e.remoteStore,new Bb(Ov(Av(n.path)),i,"TargetPurposeLimboResolution",_g.oe))}}async function jk(e,t,n){const i=Af(e),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach(((e,a)=>{o.push(i.Ba(a,t,n).then((e=>{var t;if((e||n)&&i.isPrimaryClient){const r=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;i.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(e){r.push(e);const t=Ax.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),i.Sa.h_(r),await async function(e,t){const n=Af(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ug.forEach(t,(t=>ug.forEach(t.qi,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>ug.forEach(t.Qi,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!vg(e))throw e;kf("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.ns.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.ns=n.ns.insert(e,r)}}}(i.localStore,s))}async function Fk(e,t){const n=Af(e);if(!n.currentUser.isEqual(t)){kf("SyncEngine","User change. New user:",t.toKey());const e=await Lx(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Nf(Pf.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jk(n,e.us)}}function Uk(e,t){const n=Af(e),i=n.Fa.get(t);if(i&&i.wa)return ty().add(i.key);{let e=ty();const i=n.Da.get(t);if(!i)return e;for(const t of i){const i=n.ba.get(t);e=e.unionWith(i.view.Ea)}return e}}async function Bk(e,t){const n=Af(e),i=await Bx(n.localStore,t.query,!0),r=t.view.pa(i);return n.isPrimaryClient&&Lk(n,t.targetId,r.fa),r}async function zk(e,t){const n=Af(e);return Vx(n.localStore,t).then((e=>jk(n,e)))}async function Vk(e,t,n,i){const r=Af(e),s=await function(e,t){const n=Af(e),i=Af(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>i.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):ug.resolve(null)))))}(r.localStore,t);null!==s?("pending"===n?await DS(r.remoteStore):"acknowledged"===n||"rejected"===n?(Nk(r,t,i||null),Pk(r,t),function(e,t){Af(Af(e).mutationQueue).Mn(t)}(r.localStore,t)):Ef(),await jk(r,s)):kf("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Gk(e,t,n){const i=Af(e),r=[],s=[];for(const o of t){let e;const t=i.Da.get(o);if(t&&0!==t.length){e=await Fx(i.localStore,Ov(t[0]));for(const e of t){const t=i.ba.get(e),n=await Bk(i,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await zx(i.localStore,o);e=await Fx(i.localStore,t),await Sk(i,Hk(t),o,!1,e.resumeToken)}r.push(e)}return i.Sa.h_(s),r}function Hk(e){return Iv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Wk(e){return function(e){return Af(Af(e).persistence).Bi()}(Af(e).localStore)}async function qk(e,t,n,i){const r=Af(e);if(r.La)return void kf("SyncEngine","Ignoring unexpected query state notification.");const s=r.Da.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Vx(r.localStore,zv(s[0])),i=Jy.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,gm.EMPTY_BYTE_STRING);await jk(r,e,i);break}case"rejected":await Ux(r.localStore,t,!0),Mk(r,t,i);break;default:Ef()}}async function Xk(e,t,n){const i=Yk(e);if(i.La){for(const e of t){if(i.Da.has(e)&&i.sharedClientState.isActiveQueryTarget(e)){kf("SyncEngine","Adding an already active target "+e);continue}const t=await zx(i.localStore,e),n=await Fx(i.localStore,t);await Sk(i,Hk(t),n.targetId,!1,n.resumeToken),xS(i.remoteStore,n)}for(const e of n)i.Da.has(e)&&await Ux(i.localStore,e,!1).then((()=>{SS(i.remoteStore,e),Mk(i,e)})).catch(hg)}}function Yk(e){const t=Af(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ek.bind(null,t),t.Sa.h_=ik.bind(null,t.eventManager),t.Sa.ka=rk.bind(null,t.eventManager),t}function Kk(e){const t=Af(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ik.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ak.bind(null,t),t}class Qk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=uS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ox(this.persistence,new Nx,e.initialUser,this.serializer)}createPersistence(e){return new bx(xx.Hr,this.serializer)}createSharedClientState(e){return new eS}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Jk extends Qk{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await Kk(this.Qa.syncEngine),await DS(this.Qa.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Ox(this.persistence,new Nx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Kw(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new kg(t,this.persistence);return new Sg(e.asyncQueue,n)}createPersistence(e){const t=Ix(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Lw.withCacheSize(this.cacheSizeBytes):Lw.DEFAULT;return new Tx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,cS(),hS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new eS}}class $k extends Jk{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof Zx&&(this.sharedClientState.syncEngine={Zs:Vk.bind(null,t),Xs:qk.bind(null,t),eo:Xk.bind(null,t),Bi:Wk.bind(null,t),Ys:zk.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Af(e);if(Yk(n),Kk(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Gk(n,e.toArray());n.La=!0,await WS(n.remoteStore,!0);for(const i of t)xS(n.remoteStore,i)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?e.push(r):t=t.then((()=>(Mk(n,r),Ux(n.localStore,r,!0)))),SS(n.remoteStore,r)})),await t,await Gk(n,e),function(e){const t=Af(e);t.Fa.forEach(((e,n)=>{SS(t.remoteStore,n)})),t.Ma.mr(),t.Fa=new Map,t.va=new am($f.comparator)}(n),n.La=!1,await WS(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=cS();if(!Zx.D(t))throw new Nf(Pf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ix(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Zk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ck(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fk.bind(null,this.syncEngine),await WS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ek}createDatastore(e){const t=uS(e.databaseInfo.databaseId),n=function(e){return new lS(e)}(e.databaseInfo);return function(e,t,n,i){return new mS(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,i,r){return new yS(e,t,n,i,r)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ck(this.syncEngine,e,0)),nS.D()?new nS:new tS)}createSyncEngine(e,t){return function(e,t,n,i,r,s,o){const a=new yk(e,t,n,i,r,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Af(e);kf("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await wS(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function e_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const i={value:e.slice(n,n+t),done:!1};return n+=t,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class t_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):_f("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class n_{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new Mf,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ia))))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja("length string (".concat(t,") is not valid number"));const i=await this.Ha(n);return new ck(JSON.parse(i),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class i_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Nf(Pf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Af(e),i={documents:t.map((e=>yb(n.serializer,e)))},r=await n.xo("BatchGetDocuments",n.serializer.databaseId,Kf.emptyPath(),i,t.length),s=new Map;r.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){If(!!t.found),t.found.name,t.found.updateTime;const n=bb(e,t.found.name),i=fb(t.found.updateTime),r=t.found.createTime?fb(t.found.createTime):Xf.min(),s=new qm({mapValue:{fields:t.found.fields}});return Ym.newFoundDocument(n,i,r,s)}(e,t):"missing"in t?function(e,t){If(!!t.missing),If(!!t.readTime);const n=bb(e,t.missing),i=fb(t.readTime);return Ym.newNoDocument(n,i)}(e,t):Ef()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());If(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ly(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=$f.fromPath(t);this.mutations.push(new Dy(n,this.precondition(n)))})),await async function(e,t){const n=Af(e),i={writes:t.map((e=>Cb(n.serializer,e)))};await n.Co("Commit",n.serializer.databaseId,Kf.emptyPath(),i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ef();t=Xf.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nf(Pf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Xf.min())?xy.exists(!1):xy.updateTime(t):xy.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xf.min()))throw new Nf(Pf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xy.updateTime(t)}return xy.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class r_{constructor(e,t,n,i,r){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=r,this.Za=n.maxAttempts,this.Yo=new dS(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o((async()=>{const e=new i_(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!Tg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Vy(t)}return!1}}class s_{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=bf.UNAUTHENTICATED,this.clientId=Vf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{kf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(kf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nf(Pf.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=KS(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function o_(e,t){e.asyncQueue.verifyOperationInProgress(),kf("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await Lx(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function a_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await c_(e);kf("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>HS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>HS(t.remoteStore,n))),e._onlineComponents=t}function l_(e){return"FirebaseError"===e.name?e.code===Pf.FAILED_PRECONDITION||e.code===Pf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function c_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){kf("FirestoreClient","Using user provided OfflineComponentProvider");try{await o_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!l_(n))throw n;Tf("Error using user provided cache. Falling back to memory cache: "+n),await o_(e,new Qk)}}else kf("FirestoreClient","Using default OfflineComponentProvider"),await o_(e,new Qk);return e._offlineComponents}async function h_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(kf("FirestoreClient","Using user provided OnlineComponentProvider"),await a_(e,e._uninitializedComponentsProvider._online)):(kf("FirestoreClient","Using default OnlineComponentProvider"),await a_(e,new Zk))),e._onlineComponents}function u_(e){return c_(e).then((e=>e.persistence))}function d_(e){return c_(e).then((e=>e.localStore))}function p_(e){return h_(e).then((e=>e.remoteStore))}function f_(e){return h_(e).then((e=>e.syncEngine))}function g_(e){return h_(e).then((e=>e.datastore))}async function m_(e){const t=await h_(e),n=t.eventManager;return n.onListen=bk.bind(null,t.syncEngine),n.onUnlisten=kk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=_k.bind(null,t.syncEngine),n}function v_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Mf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new t_({next:s=>{t.enqueueAndForget((()=>nk(e,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new Nf(Pf.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new Nf(Pf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),o=new lk(Av(n.path),s,{includeMetadataChanges:!0,ra:!0});return tk(e,o)}(await m_(e),e.asyncQueue,t,n,i))),i.promise}function y_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Mf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new t_({next:n=>{t.enqueueAndForget((()=>nk(e,o))),n.fromCache&&"server"===i.source?r.reject(new Nf(Pf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),o=new lk(n,s,{includeMetadataChanges:!0,ra:!0});return tk(e,o)}(await m_(e),e.asyncQueue,t,n,i))),i.promise}function b_(e,t,n,i){const r=function(e,t){let n;return n="string"==typeof e?Wy().encode(e):e,function(e,t){return new n_(e,t)}(function(e,t){if(e instanceof Uint8Array)return e_(e,t);if(e instanceof ArrayBuffer)return e_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,uS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const i=Af(e);(async function(e,t,n){try{const i=await t.getMetadata();if(await function(e,t){const n=Af(e),i=fb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(i)>=0))}(e.localStore,i))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(dk(i));const r=new uk(i,e.localStore,t.serializer);let s=await t.qa();for(;s;){const e=await r._a(s);e&&n._updateProgress(e),s=await t.qa()}const o=await r.complete();return await jk(e,o.ca,void 0),await function(e,t){const n=Af(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,i),n._completeWith(o.progress),Promise.resolve(o.ua)}catch(e){return Tf("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(i,t,n).then((e=>{i.sharedClientState.notifyBundleLoaded(e)}))}(await f_(e),r,i)}))}function w_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const x_=new Map;function S_(e,t,n){if(!n)throw new Nf(Pf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function k_(e,t,n,i){if(!0===t&&!0===i)throw new Nf(Pf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function __(e){if(!$f.isDocumentKey(e))throw new Nf(Pf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function T_(e){if($f.isDocumentKey(e))throw new Nf(Pf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function C_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ef()}function E_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nf(Pf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C_(e);throw new Nf(Pf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function I_(e,t){if(t<=0)throw new Nf(Pf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class A_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Nf(Pf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nf(Pf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Nf(Pf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Nf(Pf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Nf(Pf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P_{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nf(Pf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nf(Pf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Lf;switch(e.type){case"firstParty":return new Ff(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Nf(Pf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=x_.get(e);t&&(kf("ComponentProvider","Removing Datastore"),x_.delete(e),t.terminate())}(this),Promise.resolve()}}function N_(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(e=E_(e,P_))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Tf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=bf.MOCK_USER;else{t=Lo(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Nf(Pf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new bf(s)}e._authCredentials=new Df(new Of(t,n))}}class M_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new M_(this.firestore,e,this._query)}}class O_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new L_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new O_(this.firestore,e,this._key)}}class L_ extends M_{constructor(e,t,n){super(e,t,Av(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new O_(this.firestore,null,new $f(e))}withConverter(e){return new L_(this.firestore,e,this._path)}}function D_(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=na(e),S_("collection","path",t),e instanceof P_){const n=Kf.fromString(t,...i);return T_(n),new L_(e,null,n)}{if(!(e instanceof O_||e instanceof L_))throw new Nf(Pf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Kf.fromString(t,...i));return T_(n),new L_(e.firestore,null,n)}}function R_(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=na(e),1===arguments.length&&(t=Vf.newId()),S_("doc","path",t),e instanceof P_){const n=Kf.fromString(t,...i);return __(n),new O_(e,null,new $f(n))}{if(!(e instanceof O_||e instanceof L_))throw new Nf(Pf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Kf.fromString(t,...i));return __(n),new O_(e.firestore,e instanceof L_?e.converter:null,new $f(n))}}function j_(e,t){return e=na(e),t=na(t),(e instanceof O_||e instanceof L_)&&(t instanceof O_||t instanceof L_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function F_(e,t){return e=na(e),t=na(t),e instanceof M_&&t instanceof M_&&e.firestore===t.firestore&&jv(e._query,t._query)&&e.converter===t.converter}class U_{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new dS(this,"async_queue_retry"),this.hu=()=>{const e=hS();e&&kf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=hS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=hS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new Mf;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(NL){if(!vg(NL))throw NL;kf("AsyncQueue","Operation failed with retryable error: "+NL)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw _f("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=YS.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(i),i}Pu(){this.au&&Ef()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function B_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"==typeof n[i])return!0;return!1}(e,["next","error","complete"])}class z_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class V_ extends P_{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new U_,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||H_(this),this._firestoreClient.terminate()}}function G_(e){return e._firestoreClient||H_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function H_(e){var t,n,i;const r=e._freezeSettings(),s=function(e,t,n,i){return new km(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,w_(i.experimentalLongPollingOptions),i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new s_(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function W_(e,t,n){const i=new Mf;return e.asyncQueue.enqueue((async()=>{try{await o_(e,n),await a_(e,t),i.resolve()}catch(e){const n=e;if(!l_(n))throw n;Tf("Error enabling indexeddb cache. Falling back to memory cache: "+n),i.reject(n)}})).then((()=>i.promise))}function q_(e){return function(e){const t=new Mf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Af(e);ES(n.remoteStore)||kf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Af(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const i=n.Oa.get(e)||[];i.push(t),n.Oa.set(e,i)}catch(e){const n=KS(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await f_(e),t))),t.promise}(G_(e=E_(e,V_)))}function X_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await u_(e),n=await p_(e);return t.setNetworkEnabled(!0),function(e){const t=Af(e);return t.M_.delete(0),bS(t)}(n)}))}(G_(e=E_(e,V_)))}function Y_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await u_(e),n=await p_(e);return t.setNetworkEnabled(!1),async function(e){const t=Af(e);t.M_.add(0),await wS(t),t.N_.set("Offline")}(n)}))}(G_(e=E_(e,V_)))}function K_(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Af(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await d_(e),t)))}(G_(e=E_(e,V_)),t).then((t=>t?new M_(e,null,t.query):null))}function Q_(e){if(e._initialized||e._terminated)throw new Nf(Pf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class J_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new J_(gm.fromBase64String(e))}catch(e){throw new Nf(Pf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new J_(gm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jf(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Z_{constructor(e){this._methodName=e}}class eT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nf(Pf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nf(Pf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gf(this._lat,e._lat)||Gf(this._long,e._long)}}const tT=/^__.*__$/;class nT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Py(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ay(e,this.data,t,this.fieldTransforms)}}class iT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Py(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ef()}}class sT{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.mu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new sT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:n,yu:!1});return i.wu(e),i}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:n,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return TT(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(rT(this.fu)&&tT.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class oT{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||uS(e)}Fu(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sT({fu:e,methodName:t,vu:n,path:Jf.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aT(e){const t=e._freezeSettings(),n=uS(e._databaseId);return new oT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lT(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,r);xT("Data must be an object, but it was:",o,i);const a=bT(i,o);let l,c;if(s.merge)l=new pm(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=ST(t,i,n);if(!o.contains(r))throw new Nf(Pf.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));CT(e,r)||e.push(r)}l=new pm(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new nT(new qm(a),l,c)}class cT extends Z_{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cT}}function hT(e,t,n){return new sT({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class uT extends Z_{_toFieldTransform(e){return new by(e.path,new uy)}isEqual(e){return e instanceof uT}}class dT extends Z_{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=hT(this,e,!0),n=this.Mu.map((e=>yT(e,t))),i=new dy(n);return new by(e.path,i)}isEqual(e){return e instanceof dT&&Yo(this.Mu,e.Mu)}}class pT extends Z_{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=hT(this,e,!0),n=this.Mu.map((e=>yT(e,t))),i=new fy(n);return new by(e.path,i)}isEqual(e){return e instanceof pT&&Yo(this.Mu,e.Mu)}}class fT extends Z_{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new my(e.serializer,oy(e.serializer,this.xu));return new by(e.path,t)}isEqual(e){return e instanceof fT&&this.xu===e.xu}}function gT(e,t,n,i){const r=e.Fu(1,t,n);xT("Data must be an object, but it was:",r,i);const s=[],o=qm.empty();sm(i,((e,i)=>{const a=_T(t,e,n);i=na(i);const l=r.Su(a);if(i instanceof cT)s.push(a);else{const e=yT(i,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new pm(s);return new iT(o,a,r.fieldTransforms)}function mT(e,t,n,i,r,s){const o=e.Fu(1,t,n),a=[ST(t,i,n)],l=[r];if(s.length%2!=0)throw new Nf(Pf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(ST(t,s[d])),l.push(s[d+1]);const c=[],h=qm.empty();for(let d=a.length-1;d>=0;--d)if(!CT(c,a[d])){const e=a[d];let t=l[d];t=na(t);const n=o.Su(e);if(t instanceof cT)c.push(e);else{const i=yT(t,n);null!=i&&(c.push(e),h.set(e,i))}}const u=new pm(c);return new iT(h,u,o.fieldTransforms)}function vT(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yT(n,e.Fu(i?4:3,t))}function yT(e,t){if(wT(e=na(e)))return xT("Unsupported field value:",t,e),bT(e,t);if(e instanceof Z_)return function(e,t){if(!rT(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=yT(r,t.bu(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=na(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return oy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=qf.fromDate(e);return{timestampValue:ub(t.serializer,n)}}if(e instanceof qf){const n=new qf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ub(t.serializer,n)}}if(e instanceof eT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof J_)return{bytesValue:db(t.serializer,e._byteString)};if(e instanceof O_){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.Du("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:gb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(C_(e)))}(e,t)}function bT(e,t){const n={};return om(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sm(e,((e,i)=>{const r=yT(i,t.pu(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function wT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qf||e instanceof eT||e instanceof J_||e instanceof O_||e instanceof Z_)}function xT(e,t,n){if(!wT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=C_(n);throw"an object"===i?t.Du(e+" a custom object"):t.Du(e+" "+i)}}function ST(e,t,n){if((t=na(t))instanceof $_)return t._internalPath;if("string"==typeof t)return _T(e,t);throw TT("Field path arguments must be of type string or ",e,!1,void 0,n)}const kT=new RegExp("[~\\*/\\[\\]]");function _T(e,t,n){if(t.search(kT)>=0)throw TT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new $_(...t.split("."))._internalPath}catch(Wn){throw TT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TT(e,t,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new Nf(Pf.INVALID_ARGUMENT,a+e+l)}function CT(e,t){return e.some((e=>e.isEqual(t)))}class ET{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new O_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new IT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class IT extends ET{data(){return super.data()}}function AT(e,t){return"string"==typeof t?_T(e,t):t instanceof $_?t._internalPath:t._delegate._internalPath}function PT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Nf(Pf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NT{}class MT extends NT{}function OT(e,t){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];t instanceof NT&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof DT)).length,n=e.filter((e=>e instanceof LT)).length;if(t>1||t>0&&n>0)throw new Nf(Pf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class LT extends MT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new LT(e,t,n)}_apply(e){const t=this._parse(e);return GT(e._query,t),new M_(e.firestore,e.converter,Dv(e._query,t))}_parse(e){const t=aT(e.firestore),n=function(e,t,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){VT(o,s);const t=[];for(const n of o)t.push(zT(i,e,n));a={arrayValue:{values:t}}}else a=zT(i,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||VT(o,s),a=vT(n,t,o,"in"===s||"not-in"===s);return tv.create(r,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class DT extends NT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new DT(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:nv.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)GT(n,r),n=Dv(n,r)}(e._query,t),new M_(e.firestore,e.converter,Dv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RT extends MT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new RT(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $m(t,n)}(e._query,this._field,this._direction);return new M_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ev(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class jT extends MT{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new jT(e,t,n)}_apply(e){return new M_(e.firestore,e.converter,Rv(e._query,this._limit,this._limitType))}}class FT extends MT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new FT(e,t,n)}_apply(e){const t=BT(e,this.type,this._docOrFields,this._inclusive);return new M_(e.firestore,e.converter,function(e,t){return new Ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class UT extends MT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new UT(e,t,n)}_apply(e){const t=BT(e,this.type,this._docOrFields,this._inclusive);return new M_(e.firestore,e.converter,function(e,t){return new Ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function BT(e,t,n,i){if(n[0]=na(n[0]),n[0]instanceof ET)return function(e,t,n,i,r){if(!i)throw new Nf(Pf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Mv(e))if(o.field.isKeyField())s.push(Lm(t,i.key));else{const e=i.data.field(o.field);if(wm(e))throw new Nf(Pf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Km(s,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=aT(e.firestore);return function(e,t,n,i,r,s){const o=e.explicitOrderBy;if(r.length>o.length)throw new Nf(Pf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(i,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<r.length;l++){const s=r[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(i,"(), but got a ").concat(typeof s));if(!Nv(e)&&-1!==s.indexOf("/"))throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(i,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Kf.fromString(s));if(!$f.isDocumentKey(n))throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(i,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const r=new $f(n);a.push(Lm(t,r))}else{const e=vT(n,i,s);a.push(e)}}return new Km(a,s)}(e._query,e.firestore._databaseId,r,t,n,i)}}function zT(e,t,n){if("string"==typeof(n=na(n))){if(""===n)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nv(t)&&-1!==n.indexOf("/"))throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=t.path.child(Kf.fromString(n));if(!$f.isDocumentKey(i))throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return Lm(e,new $f(i))}if(n instanceof O_)return Lm(e,n._key);throw new Nf(Pf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(C_(n),"."))}function VT(e,t){if(!Array.isArray(e)||0===e.length)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function GT(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Nf(Pf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Nf(Pf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class HT{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Em(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ym(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ef()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return sm(e,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new eT(ym(e.latitude),ym(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sm(e));default:return null}}convertTimestamp(e){const t=vm(e);return new qf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Kf.fromString(e);If(Ub(n));const i=new _m(n.get(1),n.get(3)),r=new $f(n.popFirst(5));return i.isEqual(t)||_f("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function WT(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class qT extends HT{constructor(e){super(),this.firestore=e}convertBytes(e){return new J_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new O_(this.firestore,null,t)}}class XT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YT extends ET{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new KT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(AT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class KT extends YT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class QT{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new XT(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new KT(this._firestore,this._userDataWriter,n.key,n,new XT(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nf(Pf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const i=new KT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new XT(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new KT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:JT(t.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function JT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ef()}}function $T(e,t){return e instanceof YT&&t instanceof YT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof QT&&t instanceof QT&&e._firestore===t._firestore&&F_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class ZT extends HT{constructor(e){super(),this.firestore=e}convertBytes(e){return new J_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new O_(this.firestore,null,t)}}function eC(e){e=E_(e,O_);const t=E_(e.firestore,V_),n=G_(t),i=new ZT(t);return function(e,t){const n=new Mf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await function(e,t){const n=Af(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Nf(Pf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const i=KS(e,"Failed to get document '".concat(t," from cache"));n.reject(i)}}(await d_(e),t,n))),n.promise}(n,e._key).then((n=>new YT(t,i,e._key,n,new XT(null!==n&&n.hasLocalMutations,!0),e.converter)))}function tC(e){e=E_(e,M_);const t=E_(e.firestore,V_),n=G_(t),i=new ZT(t);return function(e,t){const n=new Mf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await Bx(e,t,!0),r=new gk(t,i.hs),s=r.da(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const i=KS(e,"Failed to execute query '".concat(t," against cache"));n.reject(i)}}(await d_(e),t,n))),n.promise}(n,e._query).then((n=>new QT(t,i,e,n)))}function nC(e,t,n){e=E_(e,O_);const i=E_(e.firestore,V_),r=WT(e.converter,t,n);return oC(i,[lT(aT(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,xy.none())])}function iC(e,t,n){e=E_(e,O_);const i=E_(e.firestore,V_),r=aT(i);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=na(t))||t instanceof $_?mT(r,"updateDoc",e._key,t,n,a):gT(r,"updateDoc",e._key,t),oC(i,[s.toMutation(e._key,xy.exists(!0))])}function rC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,s,o;e=na(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||B_(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(B_(n[l])){const e=n[l];n[l]=null===(r=e.next)||void 0===r?void 0:r.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let h,u,d;if(e instanceof O_)u=E_(e.firestore,V_),d=Av(e._key.path),h={next:t=>{n[l]&&n[l](aC(u,e,t))},error:n[l+1],complete:n[l+2]};else{const t=E_(e,M_);u=E_(t.firestore,V_),d=t._query;const i=new ZT(u);h={next:e=>{n[l]&&n[l](new QT(u,i,t,e))},error:n[l+1],complete:n[l+2]},PT(e._query)}return function(e,t,n,i){const r=new t_(i),s=new lk(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>tk(await m_(e),s))),()=>{r.$a(),e.asyncQueue.enqueueAndForget((async()=>nk(await m_(e),s)))}}(G_(u),d,c,h)}function sC(e,t){return function(e,t){const n=new t_(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Af(e).z_.add(t),t.next()}(await m_(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Af(e).z_.delete(t)}(await m_(e),n)))}}(G_(e=E_(e,V_)),B_(t)?t:{next:t})}function oC(e,t){return function(e,t){const n=new Mf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=Kk(e);try{const e=await function(e,t){const n=Af(e),i=qf.now(),r=t.reduce(((e,t)=>e.add(t.key)),ty());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=qv(),l=ty();return n.os.getEntries(e,r).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((r=>{s=r;const o=[];for(const e of t){const t=Ey(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Py(e.key,t,Xm(t.value.mapValue),xy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,o,t)})).next((t=>{o=t;const i=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:Kv(s)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.xa[e.currentUser.toKey()];i||(i=new am(Gf)),i=i.insert(t,n),e.xa[e.currentUser.toKey()]=i}(i,e.batchId,n),await jk(i,e.changes),await DS(i.remoteStore)}catch(e){const t=KS(e,"Failed to persist write");n.reject(t)}}(await f_(e),t,n))),n.promise}(G_(e),t)}function aC(e,t,n){const i=n.docs.get(t._key),r=new ZT(e);return new YT(e,r,t._key,i,new XT(n.hasPendingWrites,n.fromCache),t.converter)}const lC={maxAttempts:5};class cC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=aT(e)}set(e,t,n){this._verifyNotCommitted();const i=hC(e,this._firestore),r=WT(i.converter,t,n),s=lT(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,xy.none())),this}update(e,t,n){this._verifyNotCommitted();const i=hC(e,this._firestore);let r;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return r="string"==typeof(t=na(t))||t instanceof $_?mT(this._dataReader,"WriteBatch.update",i._key,t,n,o):gT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,xy.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hC(e,this._firestore);return this._mutations=this._mutations.concat(new Ly(t._key,xy.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nf(Pf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hC(e,t){if((e=na(e)).firestore!==t)throw new Nf(Pf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class uC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=aT(e)}get(e){const t=hC(e,this._firestore),n=new qT(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Ef();const i=e[0];if(i.isFoundDocument())return new ET(this._firestore,n,i.key,i,t.converter);if(i.isNoDocument())return new ET(this._firestore,n,t._key,null,t.converter);throw Ef()}))}set(e,t,n){const i=hC(e,this._firestore),r=WT(i.converter,t,n),s=lT(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(e,t,n){const i=hC(e,this._firestore);let r;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return r="string"==typeof(t=na(t))||t instanceof $_?mT(this._dataReader,"Transaction.update",i._key,t,n,o):gT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}delete(e){const t=hC(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hC(e,this._firestore),n=new ZT(this._firestore);return super.get(e).then((e=>new YT(this._firestore,n,t._key,e._document,new XT(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wf=e}(Sl),pl(new ia("firestore",((e,n)=>{let{instanceIdentifier:i,options:r}=n;const s=e.getProvider("app").getImmediate(),o=new V_(new Rf(e.getProvider("auth-internal")),new Bf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nf(Pf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _m(e.options.projectId,t)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),Il(yf,"4.6.4",e),Il(yf,"4.6.4","esm2017")}();function dC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function pC(){if("undefined"===typeof Uint8Array)throw new Nf("unimplemented","Uint8Arrays are not available in this environment.")}function fC(){if("undefined"==typeof atob)throw new Nf("unimplemented","Blobs are unavailable in Firestore in this environment.")}class gC{constructor(e){this._delegate=e}static fromBase64String(e){return fC(),new gC(J_.fromBase64String(e))}static fromUint8Array(e){return pC(),new gC(J_.fromUint8Array(e))}toBase64(){return fC(),this._delegate.toBase64()}toUint8Array(){return pC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"===typeof n[i])return!0;return!1}(e,["next","error","complete"])}class vC{enableIndexedDbPersistence(e,t){return function(e,t){Q_(e=E_(e,V_));const n=G_(e);if(n._uninitializedComponentsProvider)throw new Nf(Pf.FAILED_PRECONDITION,"SDK cache is already specified.");Tf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=e._freezeSettings(),r=new Zk;return W_(n,r,new Jk(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Q_(e=E_(e,V_));const t=G_(e);if(t._uninitializedComponentsProvider)throw new Nf(Pf.FAILED_PRECONDITION,"SDK cache is already specified.");Tf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),i=new Zk;return W_(t,i,new $k(i,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Nf(Pf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Mf;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!pg.D())return Promise.resolve();const t=e+"main";await pg.delete(t)}(Ix(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class yC{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof _m||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Tf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};N_(this._delegate,e,t,n)}enableNetwork(){return X_(this._delegate)}disableNetwork(){return Y_(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,k_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return q_(this._delegate)}onSnapshotsInSync(e){return sC(this._delegate,e)}get app(){if(!this._appCompat)throw new Nf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new MC(this,D_(this._delegate,e))}catch(NL){throw _C(NL,"collection()","Firestore.collection()")}}doc(e){try{return new kC(this,R_(this._delegate,e))}catch(NL){throw _C(NL,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new AC(this,function(e,t){if(e=E_(e,P_),S_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nf(Pf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new M_(e,null,function(e){return new Ev(Kf.emptyPath(),e)}(t))}(this._delegate,e))}catch(NL){throw _C(NL,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=E_(e,V_);const i=Object.assign(Object.assign({},lC),n);return function(e){if(e.maxAttempts<1)throw new Nf(Pf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(e,t,n){const i=new Mf;return e.asyncQueue.enqueueAndForget((async()=>{const r=await g_(e);new r_(e.asyncQueue,r,n,t,i).Xa()})),i.promise}(G_(e),(n=>t(new uC(e,n))),i)}(this._delegate,(t=>e(new wC(this,t))))}batch(){return G_(this._delegate),new xC(new cC(this._delegate,(e=>oC(this._delegate,e))))}loadBundle(e){return function(e,t){const n=G_(e=E_(e,V_)),i=new z_;return b_(n,e._databaseId,t,i),i}(this._delegate,e)}namedQuery(e){return K_(this._delegate,e).then((e=>e?new AC(this,e):null))}}class bC extends HT{constructor(e){super(),this.firestore=e}convertBytes(e){return new gC(new J_(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return kC.forKey(t,this.firestore,null)}}class wC{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new bC(e)}get(e){const t=OC(e);return this._delegate.get(t).then((e=>new EC(this._firestore,new YT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const i=OC(e);return n?(dC("Transaction.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];const o=OC(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=OC(e);return this._delegate.delete(t),this}}class xC{constructor(e){this._delegate=e}set(e,t,n){const i=OC(e);return n?(dC("WriteBatch.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];const o=OC(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=OC(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class SC{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new KT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new IC(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=SC.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let r=i.get(t);return r||(r=new SC(e,new bC(e),t),i.set(t,r)),r}}SC.INSTANCES=new WeakMap;class kC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bC(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Nf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new kC(t,new O_(t._delegate,n,new $f(e)))}static forKey(e,t,n){return new kC(t,new O_(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new MC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new MC(this.firestore,D_(this._delegate,e))}catch(NL){throw _C(NL,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=na(e))instanceof O_&&j_(this._delegate,e)}set(e,t){t=dC("DocumentReference.set",t);try{return t?nC(this._delegate,e,t):nC(this._delegate,e)}catch(NL){throw _C(NL,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];try{return 1===arguments.length?iC(this._delegate,e):iC(this._delegate,e,t,...i)}catch(NL){throw _C(NL,"updateDoc()","DocumentReference.update()")}}delete(){return oC(E_((e=this._delegate).firestore,V_),[new Ly(e._key,xy.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=TC(t),r=CC(t,(e=>new EC(this.firestore,new YT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return rC(this._delegate,i,r)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?eC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=E_(e,O_);const t=E_(e.firestore,V_);return v_(G_(t),e._key,{source:"server"}).then((n=>aC(t,e,n)))}(this._delegate):function(e){e=E_(e,O_);const t=E_(e.firestore,V_);return v_(G_(t),e._key).then((n=>aC(t,e,n)))}(this._delegate),t.then((e=>new EC(this.firestore,new YT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new kC(this.firestore,e?this._delegate.withConverter(SC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function _C(e,t,n){return e.message=e.message.replace(t,n),e}function TC(e){for(const t of e)if("object"===typeof t&&!mC(t))return t;return{}}function CC(e,t){var n,i;let r;return r=mC(e[0])?e[0]:mC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{r.next&&r.next(t(e))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class EC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new kC(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $T(this._delegate,e._delegate)}}class IC extends EC{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Ef(),t}}class AC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bC(e)}where(e,t,n){try{return new AC(this.firestore,OT(this._delegate,function(e,t,n){const i=t,r=AT("where",e);return LT._create(r,i,n)}(e,t,n)))}catch(NL){throw _C(NL,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new AC(this.firestore,OT(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=AT("orderBy",e);return RT._create(n,t)}(e,t)))}catch(NL){throw _C(NL,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new AC(this.firestore,OT(this._delegate,(I_("limit",t=e),jT._create("limit",t,"F"))))}catch(t){throw _C(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new AC(this.firestore,OT(this._delegate,(I_("limitToLast",t=e),jT._create("limitToLast",t,"L"))))}catch(t){throw _C(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new AC(this.firestore,OT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FT._create("startAt",t,!0)}(...arguments)))}catch(NL){throw _C(NL,"startAt()","Query.startAt()")}}startAfter(){try{return new AC(this.firestore,OT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FT._create("startAfter",t,!1)}(...arguments)))}catch(NL){throw _C(NL,"startAfter()","Query.startAfter()")}}endBefore(){try{return new AC(this.firestore,OT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UT._create("endBefore",t,!1)}(...arguments)))}catch(NL){throw _C(NL,"endBefore()","Query.endBefore()")}}endAt(){try{return new AC(this.firestore,OT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UT._create("endAt",t,!0)}(...arguments)))}catch(NL){throw _C(NL,"endAt()","Query.endAt()")}}isEqual(e){return F_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?tC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=E_(e,M_);const t=E_(e.firestore,V_),n=G_(t),i=new ZT(t);return y_(n,e._query,{source:"server"}).then((n=>new QT(t,i,e,n)))}(this._delegate):function(e){e=E_(e,M_);const t=E_(e.firestore,V_),n=G_(t),i=new ZT(t);return PT(e._query),y_(n,e._query).then((n=>new QT(t,i,e,n)))}(this._delegate),t.then((e=>new NC(this.firestore,new QT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=TC(t),r=CC(t,(e=>new NC(this.firestore,new QT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return rC(this._delegate,i,r)}withConverter(e){return new AC(this.firestore,e?this._delegate.withConverter(SC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class PC{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new IC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new AC(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new IC(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new PC(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new IC(this._firestore,n))}))}isEqual(e){return $T(this._delegate,e._delegate)}}class MC extends AC{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new kC(this.firestore,e):null}doc(e){try{return new kC(this.firestore,void 0===e?R_(this._delegate):R_(this._delegate,e))}catch(NL){throw _C(NL,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=E_(e.firestore,V_),i=R_(e),r=WT(e.converter,t);return oC(n,[lT(aT(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,xy.exists(!1))]).then((()=>i))}(this._delegate,e).then((e=>new kC(this.firestore,e)))}isEqual(e){return j_(this._delegate,e._delegate)}withConverter(e){return new MC(this.firestore,e?this._delegate.withConverter(SC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function OC(e){return E_(e,O_)}class LC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new $_(...t)}static documentId(){return new LC(Jf.keyField().canonicalString())}isEqual(e){return(e=na(e))instanceof $_&&this._delegate._internalPath.isEqual(e._internalPath)}}class DC{constructor(e){this._delegate=e}static serverTimestamp(){const e=new uT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new DC(e)}static delete(){const e=new cT("deleteField");return e._methodName="FieldValue.delete",new DC(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dT("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new DC(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pT("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new DC(e)}static increment(e){const t=new fT("increment",e);return t._methodName="FieldValue.increment",new DC(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RC={Firestore:yC,GeoPoint:eT,Timestamp:qf,Blob:gC,Transaction:wC,WriteBatch:xC,DocumentReference:kC,DocumentSnapshot:EC,Query:AC,QueryDocumentSnapshot:IC,QuerySnapshot:NC,CollectionReference:MC,FieldPath:LC,FieldValue:DC,setLogLevel:function(e){var t;t=e,xf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ia("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(n,i)}),"PUBLIC").setServiceProps(Object.assign({},RC)))}(e,((e,t)=>new yC(e,t,new vC))),e.registerVersion("@firebase/firestore-compat","0.3.33")}(Xl);const jC="firebasestorage.googleapis.com",FC="storageBucket";class UC extends Ho{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(VC(e),"Firebase Storage: ".concat(t," (").concat(VC(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,UC.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return VC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var BC,zC;function VC(e){return"storage/"+e}function GC(){return new UC(BC.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function HC(){return new UC(BC.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WC(){return new UC(BC.CANCELED,"User canceled the upload/download.")}function qC(){return new UC(BC.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function XC(e){return new UC(BC.INVALID_ARGUMENT,e)}function YC(){return new UC(BC.APP_DELETED,"The Firebase app was deleted.")}function KC(e){return new UC(BC.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function QC(e,t){return new UC(BC.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function JC(e){throw new UC(BC.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(BC||(BC={}));class $C{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=$C.makeFromUrl(e,t)}catch(NL){return new $C(e,"")}if(""===n.path)return n;throw i=e,new UC(BC.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===jC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],i=t.regex.exec(e);if(i){const e=i[t.indices.bucket];let r=i[t.indices.path];r||(r=""),n=new $C(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new UC(BC.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class ZC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function eE(e){return"string"===typeof e||e instanceof String}function tE(e){return nE()&&e instanceof Blob}function nE(){return"undefined"!==typeof Blob}function iE(e,t,n,i){if(i<t)throw XC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(i>n)throw XC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function rE(e,t,n){let i=t;return null==n&&(i="https://".concat(t)),"".concat(n,"://").concat(i,"/v0").concat(e)}function sE(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){n=n+(t(i)+"="+t(e[i]))+"&"}return n=n.slice(0,-1),n}function oE(e,t){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||i||r}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(zC||(zC={}));class aE{constructor(e,t,n,i,r,s,o,a,l,c,h){let u=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new lE(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const t=n.getErrorCode()===zC.NO_ERROR,r=n.getStatus();if(!t||oE(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===zC.ABORT;return void e(!1,new lE(!1,null,t))}const s=-1!==this.successCodes_.indexOf(r);e(!0,new lE(s,n))}))},t=(e,t)=>{const n=this.resolve_,i=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(NL){i(NL)}else if(null!==r){const e=GC();e.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,e)):i(e)}else if(t.canceled){i(this.appDelete_?YC():WC())}else{i(HC())}};this.canceled_?t(0,new lE(!1,null,!0)):this.backoffId_=function(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function h(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(null,n)}}function u(t){r=setTimeout((()=>{r=null,e(p,l())}),t)}function d(){s&&clearTimeout(s)}function p(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)return d(),void h.call(null,e,...n);if(l()||o)return d(),void h.call(null,e,...n);let s;i<64&&(i*=2),1===a?(a=2,s=0):s=1e3*(i+Math.random()),u(s)}let f=!1;function g(e){f||(f=!0,d(),c||(null!==r?(e||(a=2),clearTimeout(r),u(0)):e||(a=1)))}return u(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class lE{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function cE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function hE(){const e=cE();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(nE())return new Blob(n);throw new UC(BC.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function uE(e){if("undefined"===typeof atob)throw t="base-64",new UC(BC.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const dE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pE{constructor(e,t){this.data=e,this.contentType=t||null}}function fE(e,t){switch(e){case dE.RAW:return new pE(gE(t));case dE.BASE64:case dE.BASE64URL:return new pE(mE(e,t));case dE.DATA_URL:return new pE(function(e){const t=new vE(e);return t.base64?mE(dE.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(NL){throw QC(dE.DATA_URL,"Malformed data URL.")}return gE(t)}(t.rest)}(t),new vE(t).contentType)}throw GC()}function gE(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296===(64512&i)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else t.push(239,191,189)}else 56320===(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function mE(e,t){switch(e){case dE.BASE64:{const n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i){throw QC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case dE.BASE64URL:{const n=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(n||i){throw QC(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=uE(t)}catch(NL){if(NL.message.includes("polyfill"))throw NL;throw QC(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class vE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw QC(dE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class yE{constructor(e,t){let n=0,i="";tE(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(tE(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new yE(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new yE(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(nE()){const e=t.map((e=>e instanceof yE?e.data_:e));return new yE(hE.apply(null,e))}{const e=t.map((e=>eE(e)?fE(dE.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const i=new Uint8Array(n);let r=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)i[r++]=e[t]})),new yE(i,!0)}}uploadData(){return this.data_}}function bE(e){let t;try{t=JSON.parse(e)}catch(NL){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function wE(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function xE(e,t){return t}class SE{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||xE}}let kE=null;function _E(){if(kE)return kE;const e=[];e.push(new SE("bucket")),e.push(new SE("generation")),e.push(new SE("metageneration")),e.push(new SE("name","fullPath",!0));const t=new SE("name");t.xform=function(e,t){return function(e){return!eE(e)||e.length<2?e:wE(e)}(t)},e.push(t);const n=new SE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new SE("timeCreated")),e.push(new SE("updated")),e.push(new SE("md5Hash",null,!0)),e.push(new SE("cacheControl",null,!0)),e.push(new SE("contentDisposition",null,!0)),e.push(new SE("contentEncoding",null,!0)),e.push(new SE("contentLanguage",null,!0)),e.push(new SE("contentType",null,!0)),e.push(new SE("metadata","customMetadata",!0)),kE=e,kE}function TE(e,t,n){const i={type:"file"},r=n.length;for(let s=0;s<r;s++){const e=n[s];i[e.local]=e.xform(i,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,i=e.fullPath,r=new $C(n,i);return t._makeStorageReference(r)}})}(i,e),i}function CE(e,t,n){const i=bE(t);if(null===i)return null;return TE(e,i,n)}function EE(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const i=t[r];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}const IE="prefixes",AE="items";function PE(e,t,n){const i=bE(n);if(null===i)return null;return function(e,t,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[IE])for(const r of n[IE]){const n=r.replace(/\/$/,""),s=e._makeStorageReference(new $C(t,n));i.prefixes.push(s)}if(n[AE])for(const r of n[AE]){const n=e._makeStorageReference(new $C(t,r.name));i.items.push(n)}return i}(e,t,i)}class NE{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ME(e){if(!e)throw GC()}function OE(e,t){return function(n,i){const r=CE(e,i,t);return ME(null!==r),r}}function LE(e,t){return function(n,i){const r=CE(e,i,t);return ME(null!==r),function(e,t,n,i){const r=bE(t);if(null===r)return null;if(!eE(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const r=e.bucket,s=e.fullPath;return rE("/b/"+o(r)+"/o/"+o(s),n,i)+sE({alt:"media",token:t})}))[0]}(r,i,e.host,e._protocol)}}function DE(e){return function(t,n){let i;var r,s;return 401===t.getStatus()?i=t.getErrorText().includes("Firebase App Check token is invalid")?new UC(BC.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new UC(BC.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,i=new UC(BC.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,i=new UC(BC.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}}function RE(e){const t=DE(e);return function(n,i){let r=t(n,i);var s;return 404===n.getStatus()&&(s=e.path,r=new UC(BC.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function jE(e,t,n){const i=rE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new NE(i,"GET",OE(e,n),r);return s.errorHandler=RE(t),s}function FE(e,t,n,i,r){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);const o=rE(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new NE(o,"GET",function(e,t){return function(n,i){const r=PE(e,t,i);return ME(null!==r),r}}(e,t.bucket),a);return l.urlParams=s,l.errorHandler=DE(t),l}function UE(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}function BE(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=UE(t,i,r),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+EE(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",h="\r\n--"+a+"--",u=yE.getBlob(c,i,h);if(null===u)throw qC();const d={name:l.fullPath},p=rE(s,e.host,e._protocol),f=e.maxUploadRetryTime,g=new NE(p,"POST",OE(e,n),f);return g.urlParams=d,g.headers=o,g.body=u.uploadData(),g.errorHandler=DE(t),g}class zE{constructor(e,t,n,i){this.current=e,this.total=t,this.finalized=!!n,this.metadata=i||null}}function VE(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(NL){ME(!1)}return ME(!!n&&-1!==(t||["active"]).indexOf(n)),n}const GE=262144;function HE(e,t,n,i,r,s,o,a){const l=new zE(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw new UC(BC.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let h=c;r>0&&(h=Math.min(h,r));const u=l.current,d=u+h;let p="";p=0===h?"finalize":c===h?"upload, finalize":"upload";const f={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":"".concat(l.current)},g=i.slice(u,d);if(null===g)throw qC();const m=t.maxUploadRetryTime,v=new NE(n,"POST",(function(e,n){const r=VE(e,["active","final"]),o=l.current+h,a=i.size();let c;return c="final"===r?OE(t,s)(e,n):null,new zE(o,a,"final"===r,c)}),m);return v.headers=f,v.body=g.uploadData(),v.progressCallback=a||null,v.errorHandler=DE(e),v}const WE={STATE_CHANGED:"state_changed"},qE={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function XE(e){switch(e){case"running":case"pausing":case"canceling":return qE.RUNNING;case"paused":return qE.PAUSED;case"success":return qE.SUCCESS;case"canceled":return qE.CANCELED;default:return qE.ERROR}}class YE{constructor(e,t,n){const i=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(i)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function KE(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Promise.resolve().then((()=>e(...n)))}}let QE=null;class JE{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zC.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=zC.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=zC.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,i){if(this.sent_)throw JC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw JC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw JC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(NL){return-1}}getResponse(){if(!this.sent_)throw JC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw JC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class $E extends JE{initXhr(){this.xhr_.responseType="text"}}function ZE(){return QE?QE():new $E}class eI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=_E(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(BC.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(oE(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=HC()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(BC.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,i]=t;switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),o=UE(t,i,r),a={name:o.fullPath},l=rE(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(i.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=EE(o,n),u=e.maxUploadRetryTime,d=new NE(l,"POST",(function(e){let t;VE(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(NL){ME(!1)}return ME(eE(t)),t}),u);return d.urlParams=a,d.headers=c,d.body=h,d.errorHandler=DE(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,ZE,e,t);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const i=function(e,t,n,i){const r=e.maxUploadRetryTime,s=new NE(n,"POST",(function(e){const t=VE(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(NL){ME(!1)}n||ME(!1);const r=Number(n);return ME(!isNaN(r)),new zE(r,i.size(),"final"===t)}),r);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=DE(t),s}(this._ref.storage,this._ref._location,e,this._blob),r=this._ref.storage._makeRequest(i,ZE,t,n);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=GE*this._chunkMultiplier,t=new zE(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((i,r)=>{let s;try{s=HE(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(NL){return this._error=NL,void this._transition("error")}const o=this._ref.storage._makeRequest(s,ZE,i,r,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(GE*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=jE(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,ZE,e,t);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=BE(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,ZE,e,t);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=WC(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=XE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,i){const r=new YE(t||void 0,n||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(XE(this._state)){case qE.SUCCESS:KE(this._resolve.bind(null,this.snapshot))();break;case qE.CANCELED:case qE.ERROR:KE(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(XE(this._state)){case qE.RUNNING:case qE.PAUSED:e.next&&KE(e.next.bind(e,this.snapshot))();break;case qE.SUCCESS:e.complete&&KE(e.complete.bind(e))();break;default:e.error&&KE(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class tI{constructor(e,t){this._service=e,this._location=t instanceof $C?t:$C.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new tI(e,t)}get root(){const e=new $C(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wE(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new $C(this._location.bucket,e);return new tI(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw KC(e)}}function nI(e){const t={prefixes:[],items:[]};return iI(e,t).then((()=>t))}async function iI(e,t,n){const i={pageToken:n},r=await rI(e,i);t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&await iI(e,t,r.nextPageToken)}function rI(e,t){null!=t&&"number"===typeof t.maxResults&&iE("options.maxResults",1,1e3,t.maxResults);const n=t||{},i=FE(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(i,ZE)}function sI(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,i){const r=rE(t.fullServerUrl(),e.host,e._protocol),s=EE(n,i),o=e.maxOperationRetryTime,a=new NE(r,"PATCH",OE(e,i),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=RE(t),a}(e.storage,e._location,t,_E());return e.storage.makeRequestWithTokens(n,ZE)}function oI(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const i=rE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new NE(i,"GET",LE(e,n),r);return s.errorHandler=RE(t),s}(e.storage,e._location,_E());return e.storage.makeRequestWithTokens(t,ZE).then((e=>{if(null===e)throw new UC(BC.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function aI(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=rE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,r=new NE(n,"DELETE",(function(e,t){}),i);return r.successCodes=[200,204],r.errorHandler=RE(t),r}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ZE)}function lI(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),i=new $C(e._location.bucket,n);return new tI(e.storage,i)}function cI(e,t){if(e instanceof dI){const n=e;if(null==n._bucket)throw new UC(BC.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FC+"' property when initializing the app?");const i=new tI(n,n._bucket);return null!=t?cI(i,t):i}return void 0!==t?lI(e,t):e}function hI(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof dI)return new tI(e,t);throw XC("To use ref(service, url), the first argument must be a Storage instance.")}return cI(e,t)}function uI(e,t){const n=null===t||void 0===t?void 0:t[FC];return null==n?null:$C.makeFromBucketSpec(n,e)}class dI{constructor(e,t,n,i,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=jC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?$C.makeFromBucketSpec(i,this._host):uI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=$C.makeFromBucketSpec(this._url,e):this._bucket=uI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tI(this,e)}_makeRequest(e,t,n,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new ZC(YC());{const s=function(e,t,n,i,r,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=sE(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,i),new aE(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,o)}(e,this._appId,n,i,t,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const pI="@firebase/storage",fI="0.12.6",gI="storage";function mI(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new eI(e,new yE(t),n)}(e=na(e),t,n)}function vI(e){return function(e){e._throwIfRoot("getMetadata");const t=jE(e.storage,e._location,_E());return e.storage.makeRequestWithTokens(t,ZE)}(e=na(e))}function yI(e,t){return hI(e=na(e),t)}function bI(e,t,n){!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:r}=i;r&&(e._overrideAuthToken="string"===typeof r?r:Lo(r,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function wI(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new dI(i,r,s,n,Sl)}pl(new ia(gI,wI,"PUBLIC").setMultipleInstances(!0)),Il(pI,fI,""),Il(pI,fI,"esm2017");class xI{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class SI{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new xI(t,this,this._ref))}),t)}on(e,t,n,i){let r;return t&&(r="function"===typeof t?e=>t(new xI(e,this,this._ref)):{next:t.next?e=>t.next(new xI(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,r,n||void 0,i||void 0)}}class kI{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new _I(e,this._service)))}get items(){return this._delegate.items.map((e=>new _I(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class _I{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return lI(e,t)}(this._delegate,e);return new _I(t,this.storage)}get root(){return new _I(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new _I(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new SI(mI(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dE.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const i=fE(t,e),r=Object.assign({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new SI(new eI(this._delegate,new yE(i.data,!0),r),this)}listAll(){return function(e){return nI(e=na(e))}(this._delegate).then((e=>new kI(e,this.storage)))}list(e){return function(e,t){return rI(e=na(e),t)}(this._delegate,e||void 0).then((e=>new kI(e,this.storage)))}getMetadata(){return vI(this._delegate)}updateMetadata(e){return function(e,t){return sI(e=na(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return oI(e=na(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return aI(e=na(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw KC(e)}}class TI{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(CI(e))throw XC("ref() expected a child path but got a URL, use refFromURL instead.");return new _I(yI(this._delegate,e),this)}refFromURL(e){if(!CI(e))throw XC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$C.makeFromUrl(e,this._delegate.host)}catch(NL){throw XC("refFromUrl() expected a valid full URL but got an invalid one.")}return new _I(yI(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};bI(this._delegate,e,t,n)}}function CI(e){return/^[A-Za-z]+:\/\//.test(e)}function EI(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:n});return new TI(i,r)}!function(e){const t={TaskState:qE,TaskEvent:WE,StringFormat:dE,Storage:TI,Reference:_I};e.INTERNAL.registerComponent(new ia("storage-compat",EI,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.9")}(Xl);Xl.initializeApp({apiKey:"AIzaSyA2GHgPlH8jTli_7HGe9nLySebPPgv_n2M",authDomain:"cool-6f593.firebaseapp.com",projectId:"cool-6f593",storageBucket:"cool-6f593.appspot.com",messagingSenderId:"554312178402",appId:"1:554312178402:web:cf8965d66e306da8111cbb"});const II=Xl,AI=n.p+"static/media/logo-white.4cc9c100d9b1dfec59e0.png";var PI=n(579);const NI=function(e){let{user:n}=e;const i=(0,t.useRef)(null),r=()=>{i.current&&(i.current.checked=!1)};return(0,PI.jsxs)(PI.Fragment,{children:[n?(0,PI.jsxs)("div",{className:"navigation",children:[(0,PI.jsx)("input",{type:"checkbox",className:"navigation__checkbox",id:"navi-toggle",ref:i}),(0,PI.jsx)("label",{htmlFor:"navi-toggle",className:"navigation__button",children:(0,PI.jsx)("span",{className:"navigation__icon",children:"\xa0"})}),(0,PI.jsx)("div",{className:"navigation__background",children:"\xa0"}),(0,PI.jsx)("nav",{className:"navigation__nav",children:(0,PI.jsxs)("ul",{className:"navigation__list",children:[(0,PI.jsx)("li",{className:"navigation__item",children:(0,PI.jsx)(xo,{to:"/posts",className:"navigation__link",onClick:r,children:"\u60c5\u7dd2\u7559\u8a00\u677f"})}),(0,PI.jsx)("li",{className:"navigation__item",children:(0,PI.jsx)(xo,{to:"/new-post",className:"navigation__link",onClick:r,children:"\u767c\u8868\u60c5\u7dd2"})}),(0,PI.jsx)("li",{className:"navigation__item",children:(0,PI.jsx)(xo,{to:"/my/posts",className:"navigation__link",onClick:r,children:"\u6703\u54e1\u5c08\u5340"})}),(0,PI.jsx)("li",{className:"navigation__item",onClick:()=>II.auth().signOut(),children:(0,PI.jsx)(xo,{to:"/",className:"navigation__link",onClick:r,children:"\u767b\u51fa"})})]})})]}):(0,PI.jsxs)("div",{className:"navigation",children:[(0,PI.jsx)("input",{type:"checkbox",className:"navigation__checkbox",id:"navi-toggle",ref:i}),(0,PI.jsx)("label",{htmlFor:"navi-toggle",className:"navigation__button",children:(0,PI.jsx)("span",{className:"navigation__icon",children:"\xa0"})}),(0,PI.jsx)("div",{className:"navigation__background",children:"\xa0"}),(0,PI.jsx)("nav",{className:"navigation__nav",children:(0,PI.jsxs)("ul",{className:"navigation__list",children:[(0,PI.jsx)("li",{className:"navigation__item",children:(0,PI.jsx)(xo,{to:"/posts",className:"navigation__link",onClick:r,children:"\u60c5\u7dd2\u7559\u8a00\u677f"})}),(0,PI.jsx)(Kr.Item,{className:"navigation__item",children:(0,PI.jsx)(xo,{to:"/signin",className:"navigation__link",onClick:r,children:"\u8a3b\u518a/\u767b\u5165"})})]})})]}),(0,PI.jsx)("header",{children:(0,PI.jsx)(Kr.Item,{className:"logo-box",as:xo,to:"/",children:(0,PI.jsx)("img",{src:AI,alt:"Logo",className:"logo"})})})]})};function MI(){return(0,PI.jsx)(PI.Fragment,{children:(0,PI.jsxs)("footer",{className:"footer",children:[(0,PI.jsx)("div",{className:"footer__logo-box",children:(0,PI.jsx)("img",{src:AI,alt:"full logo",className:"footer__logo"})}),(0,PI.jsx)("div",{className:"row",children:(0,PI.jsx)("div",{className:"col-1-of-1",children:(0,PI.jsx)("div",{className:"footer__navigation",children:(0,PI.jsxs)("ul",{className:"footer__list",children:[(0,PI.jsx)("li",{className:"footer__item",children:(0,PI.jsx)("a",{href:"#",className:"footer__link",children:"\u516c\u53f8"})}),(0,PI.jsx)("li",{className:"footer__item",children:(0,PI.jsx)("a",{href:"#",className:"footer__link",children:"\u806f\u7d61\u6211\u5011"})}),(0,PI.jsx)("li",{className:"footer__item",children:(0,PI.jsx)("a",{href:"#",className:"footer__link",children:"\u8077\u7f3a"})}),(0,PI.jsx)("li",{className:"footer__item",children:(0,PI.jsx)("a",{href:"#",className:"footer__link",children:"\u96b1\u79c1\u6b0a\u653f\u7b56"})}),(0,PI.jsx)("li",{className:"footer__item",children:(0,PI.jsx)("a",{href:"#",className:"footer__link",children:"\u689d\u6b3e"})})]})})})})]})})}n.p,n.p,n.p;const OI=n.p+"static/media/nat-1-large.d3b7d4bd559a906eb3ad.jpg",LI=n.p+"static/media/nat-2-large.9ecbd6e8c5f7c4147f3f.jpg",DI=n.p+"static/media/nat-3-large.c112b4d343cfc813ab49.jpg",RI=n.p+"static/media/nat-8.6c131216267cab46ac4f.jpg",jI=n.p+"static/media/nat-9.03ef521ab2888e3c610f.jpg",FI=n.p+"static/media/video.99cb34c69e01a76bcb45.mp4",UI=n.p+"static/media/video.defbf1bb518f0f6e94cf.webm";function BI(e){let{displayed:n,height:i}=e;const r=(0,t.useRef)(null),[s,o]=(0,t.useState)("0px"),a=(0,t.useRef)(null),[l,c]=(0,t.useState)(0),[h,u]=(0,t.useState)(0);(0,t.useEffect)((()=>{o(i||"".concat(innerHeight*r.current.offsetWidth/innerWidth,"px")),u(r.current.offsetWidth)}),[i]);const d=()=>{const{scrollTop:e}=document.documentElement,t=100*(e-a.current.offsetTop)/(a.current.offsetHeight-innerHeight);c(t)};return(0,t.useEffect)((()=>(d(),addEventListener("scroll",d),()=>removeEventListener("scroll",d))),[]),(0,PI.jsx)("div",{style:{height:s,overflow:"hidden",position:"relative"},ref:a,children:(0,PI.jsx)("div",{style:{display:"inline-block",height:"100vh",transform:l>=0?"translateX(-".concat(l>100?100*(h-innerWidth)/h:l*((h-innerWidth)/h),"%)"):"translateX(0%)",position:l<=100?l>=0?"fixed":"static":"absolute",bottom:0},ref:r,children:n})})}const zI=n.p+"static/media/io_joy10.0a5f6d9b74bf50e3c9ca.jpg",VI=n.p+"static/media/io_sad11.11963076d5080484b3a9.jpg",GI=n.p+"static/media/io_anger10.833c33b5b5993713e2e8.jpg",HI=n.p+"static/media/io_disgust9.d95a8f947bceec307759.jpg",WI=n.p+"static/media/io_fear8.a093e333c9d9393c07d7.jpg";function qI(){return(0,PI.jsxs)("div",{className:"container",children:[(0,PI.jsx)("div",{className:"joy",children:(0,PI.jsx)("img",{src:zI,alt:"joy"})}),(0,PI.jsx)("div",{className:"sad",children:(0,PI.jsx)("img",{src:VI,alt:"sad"})}),(0,PI.jsx)("div",{className:"anger",children:(0,PI.jsx)("img",{src:GI,alt:"anger"})}),(0,PI.jsx)("div",{className:"disgust",children:(0,PI.jsx)("img",{src:HI,alt:"disgust"})}),(0,PI.jsx)("div",{className:"fear",children:(0,PI.jsx)("img",{src:WI,alt:"fear"})})]})}var XI=n(488),YI=n.n(XI),KI=n(48);n.n(KI)()(YI());const QI=function(){const[e,n]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=(await II.firestore().collection("posts").get()).docs.map((e=>({topic:e.data().topic,level:parseFloat(e.data().level)})));n(e)}catch(e){console.error("Error fetching posts:",e)}})()}),[]);const i={"\u6a02\u6a02":0,"\u6182\u6182":1,"\u6012\u6012":2,"\u53ad\u53ad":3,"\u9a5a\u9a5a":4},r={"\u6a02\u6a02":"#FFD700","\u6182\u6182":"#1E90FF","\u6012\u6012":"#FF4500","\u53ad\u53ad":"#32CD32","\u9a5a\u9a5a":"#9370DB"},s={};e.forEach((e=>{const t="".concat(e.topic,"-").concat(e.level);s[t]?s[t]++:s[t]=1}));const o=e.map((e=>({x:i[e.topic],y:e.level,z:s["".concat(e.topic,"-").concat(e.level)],color:r[e.topic]})));function a(e){const t=e.length;let n=0,i=0,r=0,s=0;for(let u=0;u<t;u++){const{x:t,y:o}=e[u];n+=t,i+=o,r+=t*o,s+=t**2}const o=(t*r-n*i)/(t*s-n**2),a=(i-o*n)/t,l=[],c=Math.min(...e.map((e=>{let{x:t}=e;return t}))),h=Math.max(...e.map((e=>{let{x:t}=e;return t})));return l.push([c,c*o+a]),l.push([h,h*o+a]),l}return(0,t.useEffect)((()=>{o.length>0&&YI().chart("scatter",{chart:{type:"bubble",marginLeft:150,marginRight:100,marginBottom:110,marginTop:100},title:{text:"\u7559\u8a00\u677f\u60c5\u7dd2\u5206\u5e03\u5716",style:{fontSize:"2rem",color:"#ef870c"}},xAxis:{min:-.2,max:4,title:{text:"\u60c5\u7dd2\u89d2\u8272",style:{fontSize:"2rem",fontWeight:"bold"}},categories:["\u6a02\u6a02","\u6182\u6182","\u6012\u6012","\u53ad\u53ad","\u9a5a\u9a5a"],labels:{style:{fontSize:"1.5rem"}}},yAxis:{min:0,max:5.1,tickInterval:1,title:{text:"\u60c5\u7dd2\u7a0b\u5ea6",style:{fontSize:"2rem",fontWeight:"bold"}},labels:{style:{fontSize:"1.5rem"}}},tooltip:{style:{fontSize:"1.5rem"}},series:[{type:"line",name:"\u8da8\u52e2\u7dda",data:a(o),marker:{enabled:!1},states:{hover:{lineWidth:0}},enableMouseTracking:!1},{type:"bubble",name:"\u5206\u5e03\u9ede",data:o,marker:{radius:8}}]})}),[o]),(0,PI.jsx)("div",{id:"scatter"})};function JI(e){let{user:t}=e;return(0,PI.jsxs)(PI.Fragment,{children:[(0,PI.jsx)("div",{className:"index",children:(0,PI.jsxs)("div",{className:"index__text-box",children:[(0,PI.jsxs)("h1",{className:"heading-primary",children:[(0,PI.jsx)("span",{className:"heading-primary--main",children:"\u4f60\u6703\u8a8d\u77e5\u60c5\u7dd2\u55ce?"}),(0,PI.jsx)("span",{className:"heading-primary--sub",children:"\u5e6b\u52a9\u60c5\u7dd2\u7ba1\u7406\u7684\u597d\u5e6b\u624b"})]}),(0,PI.jsx)("a",{href:"#section-tours",className:"btn btn--white btn--animated",children:"\u63a2\u7d22\u60c5\u7dd2"})]})}),(0,PI.jsxs)("main",{children:[(0,PI.jsxs)("section",{className:"section-about",children:[(0,PI.jsx)("div",{className:"u-center-text u-margin-bottom-big",children:(0,PI.jsx)("h2",{className:"heading-secondary",children:"\u5206\u4eab\u4f60\u7684\u5fc3\u60c5\uff0c\u7ba1\u7406\u4f60\u7684\u60c5\u7dd2"})}),(0,PI.jsxs)("div",{className:"row",children:[(0,PI.jsxs)("div",{className:"col-1-of-2",children:[(0,PI.jsx)("h3",{className:"heading-tertiary u-margin-bottom-small",children:"\u63a2\u7d22\u4f60\u7684\u5167\u5fc3\u60c5\u611f\uff0c\u63d0\u5347\u60c5\u7dd2\u89ba\u5bdf\u529b"}),(0,PI.jsx)("p",{className:"paragraph",children:"\u4f60\u77e5\u9053\u60c5\u7dd2\u662f\u5982\u4f55\u5f71\u97ff\u4f60\u7684\u751f\u6d3b\u55ce\uff1f\u900f\u904e\u60c5\u7dd2\u5206\u6790\uff0c\u4f60\u5c07\u6e05\u695a\u770b\u5230\u81ea\u5df1\u7684\u60c5\u7dd2\u8b8a\u5316\uff0c\u9019\u4e0d\u50c5\u80fd\u5e6b\u52a9\u66f4\u6df1\u5165\u4e86\u89e3\u81ea\u5df1\uff0c\u9084\u80fd\u63d0\u5347\u60c5\u7dd2\u7ba1\u7406\u7684\u80fd\u529b\u3002\u7121\u8ad6\u662f\u9762\u5c0d\u58d3\u529b\u6216\u6311\u6230\uff0c\u89ba\u5bdf\u60c5\u7dd2\u662f\u9081\u5411\u5fc3\u7406\u5065\u5eb7\u7684\u91cd\u8981\u4e00\u6b65\u3002"}),(0,PI.jsx)("h3",{className:"heading-tertiary u-margin-bottom-small",children:"\u60c5\u7dd2\u7559\u8a00\u677f\u2014\u8212\u58d3\u8207\u60c5\u7dd2\u7ba1\u7406\u7684\u6700\u4f73\u5de5\u5177"}),(0,PI.jsxs)("p",{className:"paragraph",children:["\u751f\u6d3b\u58d3\u529b\u7121\u8655\u4e0d\u5728\uff0c\u6211\u5011\u63d0\u4f9b\u4e86\u4e00\u500b\u5e73\u53f0",(0,PI.jsx)("span",{className:"highlight",children:"\u53ea\u8981\u8a3b\u518a/\u767b\u5165\u6703\u54e1"}),"\uff0c\u8b93\u4f60\u53ef\u4ee5\u5728\u6b64\u6292\u767c\u58d3\u529b\u3001\u91cb\u653e\u60c5\u7dd2\u3002\u5e6b\u52a9\u5206\u985e\u8207\u8b58\u5225\u81ea\u5df1\u7684\u60c5\u7dd2\u72c0\u614b\uff0c\u5f9e\u800c\u66f4\u6709\u91dd\u5c0d\u6027\u5730\u9032\u884c\u81ea\u6211\u8abf\u6574\u3002"]}),t?(0,PI.jsx)(xo,{to:"/posts",className:"btn-text",children:"\u60c5\u7dd2\u7559\u8a00\u677f \u2192"}):(0,PI.jsx)(xo,{to:"/signin",className:"btn-text",children:"\u767b\u5165\u5206\u4eab\u60c5\u7dd2 \u2192"})]}),(0,PI.jsx)("div",{className:"col-1-of-2",children:(0,PI.jsxs)("div",{className:"composition",children:[(0,PI.jsx)("img",{sizes:"(max-width: 56.25em) 20vw, (max-width: 37.5em) 30vw, 300px",alt:"Photo 1",className:"composition__photo composition__photo--p1",src:OI}),(0,PI.jsx)("img",{sizes:"(max-width: 56.25em) 20vw, (max-width: 37.5em) 30vw, 300px",alt:"Photo 2",className:"composition__photo composition__photo--p2",src:LI}),(0,PI.jsx)("img",{sizes:"(max-width: 56.25em) 20vw, (max-width: 37.5em) 30vw, 300px",alt:"Photo 3",className:"composition__photo composition__photo--p3",src:DI})]})})]})]}),(0,PI.jsx)(BI,{displayed:(0,PI.jsx)(qI,{})}),(0,PI.jsx)("div",{className:"u-center-text u-margin-bottom-big",children:(0,PI.jsx)("h2",{className:"heading-secondary heading-secondary__insideout",children:"\u8a8d\u8b58\u4f60\u7684\u5fc3\u60c5\u5c0f\u968a\uff0c\u548c\u60c5\u7dd2\u4e00\u8d77\u5192\u96aa"})}),(0,PI.jsx)("div",{className:"row",children:(0,PI.jsxs)("div",{className:"col-1-of-1",children:[(0,PI.jsx)("h3",{className:"heading-tertiary u-margin-bottom-small heading-tertiary__insideout",children:"\u63a2\u7d22\u4f60\u7684\u5167\u5fc3\u60c5\u611f\uff0c\u63d0\u5347\u60c5\u7dd2\u89ba\u5bdf\u529b"}),(0,PI.jsx)("p",{className:"paragraph",children:"\u5728\u6bcf\u500b\u4eba\u7684\u5927\u8166\u88e1\uff0c\u90fd\u6709\u4e00\u652f\u60c5\u7dd2\u5c0f\u968a\uff0c\u5c31\u50cf\u300a\u8166\u7b4b\u6025\u8f49\u5f4e\u300b\u88e1\u7684\u90a3\u4e9b\u89d2\u8272\u4e00\u6a23\uff1a\u6a02\u6a02\u5e36\u4f86\u5feb\u6a02\u3001\u6012\u6012\u5f15\u767c\u61a4\u6012\u3001\u53ad\u53ad\u544a\u8a34\u6211\u5011\u8a72\u907f\u958b\u4ec0\u9ebc\u3001\u9a5a\u9a5a\u8b93\u6211\u5011\u611f\u5230\u5bb3\u6015\u3001\u6182\u6182\u8b93\u6211\u5011\u63a5\u53d7\u75db\u82e6\u3002\u900f\u904e\u6211\u5011\u7684\u5e73\u53f0\uff0c\u53ef\u4ee5\u548c\u9019\u4e9b\u60c5\u7dd2\u5c0f\u968a\u4e00\u8d77\u63a2\u7d22\u5167\u5fc3\u7684\u611f\u53d7\uff0c\u4e26\u627e\u5230\u60c5\u7dd2\u7684\u5e73\u8861\u9ede\u3002\u5206\u4eab\u4f60\u7684\u5fc3\u60c5\uff0c\u5e6b\u52a9\u8fa8\u5225\u9019\u4e9b\u60c5\u7dd2\u89d2\u8272\u4f55\u6642\u51fa\u73fe\uff0c\u5f9e\u800c\u66f4\u597d\u5730\u7ba1\u7406\u60c5\u7dd2\u3002"})]})}),(0,PI.jsx)(QI,{}),(0,PI.jsxs)("section",{className:"section-tours",id:"section-tours",children:[(0,PI.jsx)("div",{className:"u-center-text u-margin-bottom-big",children:(0,PI.jsx)("h2",{className:"heading-secondary",children:"\u71b1\u9580\u8b1b\u5ea7\u8ab2\u7a0b"})}),(0,PI.jsxs)("div",{className:"row",children:[(0,PI.jsx)("div",{className:"col-1-of-3",children:(0,PI.jsxs)("div",{className:"card",children:[(0,PI.jsxs)("div",{className:"card__side card__side--front",children:[(0,PI.jsx)("div",{className:"card__picture card__picture--1",children:"\xa0"}),(0,PI.jsx)("h4",{className:"card__heading",children:(0,PI.jsx)("span",{className:"card__heading-span card__heading-span--1",children:"\u60c5\u7dd2\u7ba1\u7406\u8207\u58d3\u529b\u7d13\u89e3\u6280\u5de7"})}),(0,PI.jsx)("div",{className:"card__details",children:(0,PI.jsxs)("ul",{children:[(0,PI.jsx)("li",{children:"2024/11/15 14:00-17:00"}),(0,PI.jsx)("li",{children:"\u4eba\u6578\u9650\u5236\uff1a30 \u4eba"}),(0,PI.jsx)("li",{children:"\u8b1b\u5ea7\u7279\u8272\uff1a\u8b1b\u5ea7\u5c07\u5305\u62ec\u51a5\u60f3\u3001\u6df1\u547c\u5438\u7df4\u7fd2\u548c\u884c\u70ba\u8a8d\u77e5\u8abf\u6574"}),(0,PI.jsx)("li",{children:"\u9069\u5408\u5c0d\u8c61\uff1a\u9069\u5408\u6240\u6709\u56e0\u5de5\u4f5c\u6216\u751f\u6d3b\u58d3\u529b\u611f\u5230\u7126\u616e\u3001\u7169\u8e81\u7684\u4eba"})]})})]}),(0,PI.jsx)("div",{className:"card__side card__side--back card__side--back-1",children:(0,PI.jsxs)("div",{className:"card__cta",children:[(0,PI.jsxs)("div",{className:"card__price-box",children:[(0,PI.jsx)("p",{className:"card__price-only",children:"Only"}),(0,PI.jsx)("p",{className:"card__price-value",children:"$200"})]}),(0,PI.jsx)("a",{href:"#popup",className:"btn btn--white",children:"\u7acb\u5373\u5831\u540d!"})]})})]})}),(0,PI.jsx)("div",{className:"col-1-of-3",children:(0,PI.jsxs)("div",{className:"card",children:[(0,PI.jsxs)("div",{className:"card__side card__side--front",children:[(0,PI.jsx)("div",{className:"card__picture card__picture--2",children:"\xa0"}),(0,PI.jsx)("h4",{className:"card__heading",children:(0,PI.jsx)("span",{className:"card__heading-span card__heading-span--2",children:"\u60c5\u7dd2\u667a\u5546\u63d0\u5347\u5de5\u4f5c\u574a"})}),(0,PI.jsx)("div",{className:"card__details",children:(0,PI.jsxs)("ul",{children:[(0,PI.jsx)("li",{children:"2024/12/2 10:00-16:00"}),(0,PI.jsx)("li",{children:"\u4eba\u6578\u9650\u5236\uff1a20\u4eba"}),(0,PI.jsx)("li",{children:"\u8b1b\u5ea7\u7279\u8272\uff1a\u900f\u904e\u60c5\u5883\u6a21\u64ec\uff0c\u66f4\u597d\u5730\u8655\u7406\u885d\u7a81\u548c\u5efa\u7acb\u4eba\u969b\u95dc\u4fc2"}),(0,PI.jsx)("li",{children:"\u9069\u5408\u5c0d\u8c61\uff1a\u9069\u5408\u5e0c\u671b\u589e\u9032\u60c5\u7dd2\u7406\u89e3\u548c\u4eba\u969b\u4e92\u52d5\u80fd\u529b\u7684\u4eba\u58eb"})]})})]}),(0,PI.jsx)("div",{className:"card__side card__side--back card__side--back-2",children:(0,PI.jsxs)("div",{className:"card__cta",children:[(0,PI.jsxs)("div",{className:"card__price-box",children:[(0,PI.jsx)("p",{className:"card__price-only",children:"Only"}),(0,PI.jsx)("p",{className:"card__price-value",children:"$400"})]}),(0,PI.jsx)("a",{href:"#popup",className:"btn btn--white",children:"\u7acb\u5373\u5831\u540d!"})]})})]})}),(0,PI.jsx)("div",{className:"col-1-of-3",children:(0,PI.jsxs)("div",{className:"card",children:[(0,PI.jsxs)("div",{className:"card__side card__side--front",children:[(0,PI.jsx)("div",{className:"card__picture card__picture--3",children:"\xa0"}),(0,PI.jsx)("h4",{className:"card__heading",children:(0,PI.jsx)("span",{className:"card__heading-span card__heading-span--3",children:"\u5152\u7ae5\u8207\u9752\u5c11\u5e74\u7684\u60c5\u7dd2\u7ba1\u7406"})}),(0,PI.jsx)("div",{className:"card__details",children:(0,PI.jsxs)("ul",{children:[(0,PI.jsx)("li",{children:"2024/12/10 13:00-16:00"}),(0,PI.jsx)("li",{children:"\u4eba\u6578\u9650\u5236\uff1a25\u4eba"}),(0,PI.jsx)("li",{children:"\u8b1b\u5ea7\u7279\u8272\uff1a\u5e6b\u52a9\u5b69\u5b50\u8b58\u5225\u3001\u8868\u9054\u53ca\u7ba1\u7406\u60c5\u7dd2\uff0c\u4fc3\u9032\u5fc3\u7406\u5065\u5eb7"}),(0,PI.jsx)("li",{children:"\u9069\u5408\u5c0d\u8c61\uff1a\u9069\u5408\u5bb6\u9577\u3001\u8001\u5e2b\u53ca\u5fc3\u7406\u5065\u5eb7\u5de5\u4f5c\u7684\u5c08\u696d\u4eba\u58eb\u3002"})]})})]}),(0,PI.jsx)("div",{className:"card__side card__side--back card__side--back-3",children:(0,PI.jsxs)("div",{className:"card__cta",children:[(0,PI.jsxs)("div",{className:"card__price-box",children:[(0,PI.jsx)("p",{className:"card__price-only",children:"Only"}),(0,PI.jsx)("p",{className:"card__price-value",children:"$600"})]}),(0,PI.jsx)("a",{href:"#popup",className:"btn btn--white",children:"\u7acb\u5373\u5831\u540d!"})]})})]})})]})]}),(0,PI.jsxs)("section",{className:"section-stories",children:[(0,PI.jsx)("div",{className:"bg-video",children:(0,PI.jsxs)("video",{className:"bg-video__content",autoPlay:!0,muted:!0,loop:!0,children:[(0,PI.jsx)("source",{src:FI,type:"video/mp4"}),(0,PI.jsx)("source",{src:UI,type:"video/webm"}),"Your browser is not supported!"]})}),(0,PI.jsx)("div",{className:"u-center-text u-margin-bottom-big",children:(0,PI.jsx)("h2",{className:"heading-secondary",children:"\u5275\u8fa6\u4eba\u7684\u6545\u4e8b"})}),(0,PI.jsx)("div",{className:"row",children:(0,PI.jsxs)("div",{className:"story",children:[(0,PI.jsxs)("figure",{className:"story__shape",children:[(0,PI.jsx)("img",{src:RI,alt:"Person on a tour",className:"story__img"}),(0,PI.jsx)("figcaption",{className:"story__caption",children:"Mary"})]}),(0,PI.jsxs)("div",{className:"story__text",children:[(0,PI.jsx)("h3",{className:"heading-tertiary u-margin-bottom-small",children:"\u64c1\u62b1\u60c5\u7dd2\uff0c\u5275\u9020\u7f8e\u597d\u751f\u6d3b"}),(0,PI.jsx)("p",{children:"\u4e00\u4f4d\u5fc3\u7406\u5b78\u5c08\u5bb6\uff0c\u64c1\u6709\u8d85\u904e\u5341\u4e94\u5e74\u7684\u81e8\u5e8a\u7d93\u9a57\u3002\u5728\u7f8e\u570b\u5b8c\u6210\u5fc3\u7406\u5b78\u78a9\u58eb\u5b78\u4f4d\u3002\u591a\u5e74\u7684\u5f9e\u696d\u7d93\u9a57\u8b93\u5979\u6df1\u523b\u7406\u89e3\u60c5\u7dd2\u7ba1\u7406\u7684\u91cd\u8981\u6027\u3002\u6c7a\u5fc3\u5275\u5efa\u9019\u500b\u7db2\u7ad9\uff0c\u662f\u5e0c\u671b\u63d0\u4f9b\u4e00\u500b\u5e73\u53f0\uff0c\u8b93\u5927\u5bb6\u80fd\u5920\u5206\u4eab\u81ea\u5df1\u7684\u60c5\u7dd2\uff0c\u9032\u800c\u5bdf\u89ba\u548c\u7ba1\u7406\u60c5\u7dd2\u3002\u4e00\u76f4\u81f4\u529b\u65bc\u63a8\u5ee3\u5fc3\u7406\u5065\u5eb7\u6559\u80b2\uff0c\u4e26\u5728\u591a\u500b\u570b\u969b\u6703\u8b70\u4e0a\u767c\u8868\u4e86\u76f8\u95dc\u8ad6\u6587\u3002"})]})]})}),(0,PI.jsx)("div",{className:"row",children:(0,PI.jsxs)("div",{className:"story",children:[(0,PI.jsxs)("figure",{className:"story__shape",children:[(0,PI.jsx)("img",{src:jI,alt:"Person on a tour",className:"story__img"}),(0,PI.jsx)("figcaption",{className:"story__caption",children:"Jack "})]}),(0,PI.jsxs)("div",{className:"story__text",children:[(0,PI.jsx)("h3",{className:"heading-tertiary u-margin-bottom-small",children:"\u7528\u79d1\u6280\u6210\u5c31\u5fc3\u9748\u7684\u81ea\u7531"}),(0,PI.jsx)("p",{children:"\u64c1\u6709\u8cc7\u6df1\u7684\u6280\u8853\u80cc\u666f\uff0c\u662f\u4e00\u4f4d\u5bcc\u6709\u5275\u65b0\u7cbe\u795e\u7684\u8edf\u9ad4\u5de5\u7a0b\u5e2b\u3002\u5c08\u696d\u6d89\u53ca\u5927\u6578\u64da\u5206\u6790\u548c\u4eba\u5de5\u667a\u6167\uff0c\u66fe\u5728\u570b\u969b\u9802\u5c16\u79d1\u6280\u516c\u53f8\u5de5\u4f5c\u6578\u5e74\u3002\u5728\u8a8d\u8b58\u5230\u60c5\u7dd2\u7ba1\u7406\u548c\u5fc3\u7406\u5065\u5eb7\u5728\u73fe\u4ee3\u751f\u6d3b\u4e2d\u7684\u91cd\u8981\u6027\u5f8c\uff0c\u6c7a\u5b9a\u5229\u7528\u81ea\u5df1\u7684\u6280\u8853\u5c08\u9577\uff0c\u5275\u5efa\u4e00\u500b\u5e6b\u52a9\u5927\u5bb6\u7ba1\u7406\u548c\u5206\u4eab\u60c5\u7dd2\u7684\u5e73\u53f0\u3002\u76f8\u4fe1\u79d1\u6280\u4e0d\u50c5\u53ef\u4ee5\u6539\u8b8a\u751f\u6d3b\uff0c\u9084\u80fd\u6539\u5584\u4eba\u5011\u7684\u5fc3\u7406\u5065\u5eb7\u3002"})]})]})})]})]})]})}function $I(e){var n=e.children,i=e.className,r=e.content,o=e.fluid,a=e.text,l=e.textAlign,c=qn("ui",Kn(a,"text"),Kn(o,"fluid"),Zn(l),"container",i),h=ni($I,e),u=ii($I,e);return t.createElement(u,s({},h,{className:c}),ai(n)?r:n)}$I.handledProps=["as","children","className","content","fluid","text","textAlign"],$I.propTypes={};const ZI=$I;function eA(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}var tA=n(904),nA=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},iA=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")};var rA=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).prevNode=void 0,t}a(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Jr.findDOMNode(this);this.prevNode=e,nA(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=Jr.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,nA(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&nA(this.props.innerRef,t)},n.componentWillUnmount=function(){nA(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(t.Component),sA=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,i=n.children,r=n.innerRef;nA(i.ref,e),nA(r,e),t.currentNode=e},t}a(n,e);var i=n.prototype;return i.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&nA(this.props.innerRef,this.currentNode)},i.componentWillUnmount=function(){delete this.currentNode},i.render=function(){var e=this.props.children;return t.cloneElement(e,{ref:this.handleRefOverride})},n}(t.Component),oA=["children","innerRef"],aA=function(e){var n=e.children,i=e.innerRef,r=eA(e,oA),s=t.Children.only(n),o=tA.isForwardRef(s)?sA:rA,a=s&&r&&Object.keys(r).length>0?t.cloneElement(s,r):s;return t.createElement(o,{innerRef:i},a)},lA=/\s/;const cA=function(e){for(var t=e.length;t--&&lA.test(e.charAt(t)););return t};var hA=/^\s+/;const uA=function(e){return e?e.slice(0,cA(e)+1).replace(hA,""):e};var dA=/^[-+]0x[0-9a-f]+$/i,pA=/^0b[01]+$/i,fA=/^0o[0-7]+$/i,gA=parseInt;const mA=function(e){if("number"==typeof e)return e;if($t(e))return NaN;if(R(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=R(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=uA(e);var n=pA.test(e);return n||fA.test(e)?gA(e.slice(2),n?2:8):dA.test(e)?NaN:+e};var vA=1/0;const yA=function(e){return e?(e=mA(e))===vA||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};const bA=function(e){var t=yA(e),n=t%1;return t===t?n?t-n:t:0};const wA=function(e,t){return l(t,(function(t){return e[t]}))};const xA=function(e){return null==e?[]:wA(e,xt(e))};var SA=Math.max;const kA=function(e,t,n,i){e=wt(e)?e:xA(e),n=n&&!i?bA(n):0;var r=e.length;return n<0&&(n=SA(r+n,0)),Ai(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&pi(e,t,n)>-1};const _A=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e};const TA=function(e){return"function"==typeof e?e:wn};const CA=function(e,t){return(De(e)?_A:En)(e,TA(t))};var EA=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],IA=[].concat(EA,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),AA=["alt","height","src","srcSet","width","loading"],PA=function(e,t){void 0===t&&(t={});var n=t,i=n.htmlProps,r=void 0===i?IA:i,s=n.includeAria,o=void 0===s||s,a={},l={};return CA(e,(function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(kA(r,t)||n?a:l)[t]=e})),[a,l]},NA="object"===typeof document&&null!==document,MA="object"===typeof window&&null!==window&&window.self===window;const OA=function e(){return Ni(e.override)?NA&&MA:e.override};var LA=n(173),DA=n.n(LA),RA=n(90),jA=n.n(RA),FA=Math.max,UA=Math.min;const BA=function(e,t,n){return e>=UA(t,n)&&e<FA(t,n)};const zA=function(e,t,n){return t=yA(t),void 0===n?(n=t,t=0):n=yA(n),e=mA(e),BA(e,t,n)};const VA=function(e){return e&&e.length?e[0]:void 0};const GA=function(e,t){if(oi([t,e],Ni))return!1;if(t.target&&(Hn(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return Hn(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,i=t.clientY;if(oi([n,i],Ni))return!1;var r=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!r||!r.length)return!1;var s=VA(r),o=s.top,a=s.bottom,l=s.left,c=s.right;return!oi([o,a,l,c],Ni)&&(zA(i,o,a+.001)&&zA(n,l,c+.001))};var HA=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleRef=function(e){nA(t.props.innerRef,e)},t}a(n,e);var i=n.prototype;return i.componentDidMount=function(){Hn(this.props,"onMount",null,this.props)},i.componentWillUnmount=function(){Hn(this.props,"onUnmount",null,this.props)},i.render=function(){if(!OA())return null;var e=this.props,n=e.children,i=e.mountNode,r=void 0===i?document.body:i;return(0,Jr.createPortal)(t.createElement(aA,{innerRef:this.handleRef},n),r)},n}(t.Component);HA.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],HA.propTypes={};const WA=HA;var qA=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).contentRef=t.createRef(),n.triggerRef=t.createRef(),n.latestDocumentMouseDownEvent=null,n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDocumentClick,i=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!n.contentRef.current||GA(n.triggerRef.current,e)||i&&GA(n.contentRef.current,i)||GA(n.contentRef.current,e)||t&&n.close(e)},n.handleEscape=function(e){n.props.closeOnEscape&&jA().getCode(e)===jA().Escape&&n.close(e)},n.handlePortalMouseLeave=function(e){var t=n.props,i=t.closeOnPortalMouseLeave,r=t.mouseLeaveDelay;i&&e.target===n.contentRef.current&&(n.mouseLeaveTimer=n.closeWithTimeout(e,r))},n.handlePortalMouseEnter=function(){n.props.closeOnPortalMouseLeave&&clearTimeout(n.mouseLeaveTimer)},n.handleTriggerBlur=function(e){for(var t=n.props,i=t.trigger,r=t.closeOnTriggerBlur,s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];Hn.apply(void 0,[i,"props.onBlur",e].concat(o));var l=e.relatedTarget||document.activeElement,c=Hn(n.contentRef.current,"contains",l);r&&!c&&n.close(e)},n.handleTriggerClick=function(e){for(var t=n.props,i=t.trigger,r=t.closeOnTriggerClick,s=t.openOnTriggerClick,o=n.state.open,a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];Hn.apply(void 0,[i,"props.onClick",e].concat(l)),o&&r?n.close(e):!o&&s&&n.open(e)},n.handleTriggerFocus=function(e){for(var t=n.props,i=t.trigger,r=t.openOnTriggerFocus,s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];Hn.apply(void 0,[i,"props.onFocus",e].concat(o)),r&&n.open(e)},n.handleTriggerMouseLeave=function(e){clearTimeout(n.mouseEnterTimer);for(var t=n.props,i=t.trigger,r=t.closeOnTriggerMouseLeave,s=t.mouseLeaveDelay,o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];Hn.apply(void 0,[i,"props.onMouseLeave",e].concat(a)),r&&(n.mouseLeaveTimer=n.closeWithTimeout(e,s))},n.handleTriggerMouseEnter=function(e){clearTimeout(n.mouseLeaveTimer);for(var t=n.props,i=t.trigger,r=t.mouseEnterDelay,s=t.openOnTriggerMouseEnter,o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];Hn.apply(void 0,[i,"props.onMouseEnter",e].concat(a)),s&&(n.mouseEnterTimer=n.openWithTimeout(e,r))},n.open=function(e){Hn(n.props,"onOpen",e,s({},n.props,{open:!0})),n.setState({open:!0})},n.openWithTimeout=function(e,t){var i=s({},e);return setTimeout((function(){return n.open(i)}),t||0)},n.close=function(e){n.setState({open:!1}),Hn(n.props,"onClose",e,s({},n.props,{open:!1}))},n.closeWithTimeout=function(e,t){var i=s({},e);return setTimeout((function(){return n.close(i)}),t||0)},n.handleMount=function(){Hn(n.props,"onMount",null,n.props)},n.handleUnmount=function(){Hn(n.props,"onUnmount",null,n.props)},n.handleTriggerRef=function(e){n.triggerRef.current=e,nA(n.props.triggerRef,e)},n}a(n,e);var i=n.prototype;return i.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},i.render=function(){var e=this.props,n=e.children,i=e.eventPool,r=e.mountNode,s=e.trigger,o=this.state.open;return t.createElement(t.Fragment,null,o&&t.createElement(t.Fragment,null,t.createElement(WA,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},n),t.createElement(DA(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:i,target:this.contentRef}),t.createElement(DA(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:i,target:this.contentRef}),t.createElement(DA(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:i}),t.createElement(DA(),{name:"click",on:this.handleDocumentClick,pool:i}),t.createElement(DA(),{name:"keydown",on:this.handleEscape,pool:i})),s&&t.createElement(aA,{innerRef:this.handleTriggerRef},t.cloneElement(s,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},n}(ci);qA.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],qA.propTypes={},qA.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},qA.autoControlledProps=["open"],qA.Inner=WA;const XA=qA;function YA(e){var n=e.blurring,i=e.className,r=e.children,o=e.content,a=e.dimmed,l=qn(Kn(n,"blurring"),Kn(a,"dimmed"),"dimmable",i),c=ni(YA,e),h=ii(YA,e);return t.createElement(h,s({},c,{className:l}),ai(r)?o:r)}YA.handledProps=["as","blurring","children","className","content","dimmed"],YA.propTypes={};const KA=YA;var QA=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(n=e.call.apply(e,[this].concat(r))||this).containerRef=(0,t.createRef)(),n.contentRef=(0,t.createRef)(),n.handleClick=function(e){var t=n.contentRef.current;Hn(n.props,"onClick",e,n.props),t&&t!==e.target&&GA(t,e)||Hn(n.props,"onClickOutside",e,n.props)},n}a(n,e);var i=n.prototype;return i.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},i.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},i.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},i.render=function(){var e=this.props,i=e.active,r=e.children,o=e.className,a=e.content,l=e.disabled,c=e.inverted,h=e.page,u=e.simple,d=e.verticalAlign,p=qn("ui",Kn(i,"active transition visible"),Kn(l,"disabled"),Kn(c,"inverted"),Kn(h,"page"),Kn(u,"simple"),ei(d),"dimmer",o),f=ni(n,this.props),g=ii(n,this.props),m=ai(r)?a:r;return t.createElement(aA,{innerRef:this.containerRef},t.createElement(g,s({},f,{className:p,onClick:this.handleClick}),m&&t.createElement("div",{className:"content",ref:this.contentRef},m)))},n}(t.Component);QA.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],QA.propTypes={};var JA=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handlePortalMount=function(){OA()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){OA()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.active,r=e.page,o=ni(n,this.props);return r?t.createElement(XA,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:i,openOnTriggerClick:!1},t.createElement(QA,s({},o,{active:i,page:r}))):t.createElement(QA,s({},o,{active:i,page:r}))},n}(t.Component);function $A(e){var n=e.children,i=e.className,r=e.content,o=e.size,a=qn("ui",o,i,"images"),l=ni($A,e),c=ii($A,e);return t.createElement(c,s({},l,{className:a}),ai(n)?r:n)}JA.handledProps=["active","page"],JA.propTypes={},JA.Dimmable=KA,JA.Inner=QA,JA.create=Oi(JA,(function(e){return{content:e}})),$A.handledProps=["as","children","className","content","size"],$A.propTypes={};const ZA=$A;function eP(e){var n=e.avatar,i=e.bordered,r=e.centered,o=e.children,a=e.circular,l=e.className,c=e.content,h=e.dimmer,u=e.disabled,d=e.floated,p=e.fluid,f=e.hidden,g=e.href,m=e.inline,v=e.label,y=e.rounded,b=e.size,w=e.spaced,x=e.verticalAlign,S=e.wrapped,k=e.ui,_=qn(Kn(k,"ui"),b,Kn(n,"avatar"),Kn(i,"bordered"),Kn(a,"circular"),Kn(r,"centered"),Kn(u,"disabled"),Kn(p,"fluid"),Kn(f,"hidden"),Kn(m,"inline"),Kn(y,"rounded"),Jn(w,"spaced"),Qn(d,"floated"),ei(x),"image",l),T=ni(eP,e),C=PA(T,{htmlProps:AA}),E=C[0],I=C[1],A=ii(eP,e,(function(){if(!Ni(h)||!Ni(v)||!Ni(S)||!ai(o))return"div"}));return ai(o)?ai(c)?"img"===A?t.createElement(A,s({},I,E,{className:_})):t.createElement(A,s({},I,{className:_,href:g}),JA.create(h,{autoGenerateKey:!1}),oP.create(v,{autoGenerateKey:!1}),t.createElement("img",E)):t.createElement(A,s({},T,{className:_}),c):t.createElement(A,s({},T,{className:_}),o)}eP.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],eP.Group=ZA,eP.propTypes={},eP.defaultProps={as:"img",ui:!0},eP.create=Oi(eP,(function(e){return{src:e}}));const tP=eP;function nP(e){var n=e.children,i=e.className,r=e.content,o=qn("detail",i),a=ni(nP,e),l=ii(nP,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}nP.handledProps=["as","children","className","content"],nP.propTypes={},nP.create=Oi(nP,(function(e){return{content:e}}));const iP=nP;function rP(e){var n=e.children,i=e.circular,r=e.className,o=e.color,a=e.content,l=e.size,c=e.tag,h=qn("ui",o,l,Kn(i,"circular"),Kn(c,"tag"),"labels",r),u=ni(rP,e),d=ii(rP,e);return t.createElement(d,s({},u,{className:h}),ai(n)?a:n)}rP.handledProps=["as","children","circular","className","color","content","size","tag"],rP.propTypes={};const sP=rP;var oP=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){Hn(e,"onClick",n),Hn(t.props,"onRemove",n,t.props)}}},t}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.active,r=e.attached,o=e.basic,a=e.children,l=e.circular,c=e.className,h=e.color,u=e.content,d=e.corner,p=e.detail,f=e.empty,g=e.floating,m=e.horizontal,v=e.icon,y=e.image,b=e.onRemove,w=e.pointing,x=e.prompt,S=e.removeIcon,k=e.ribbon,_=e.size,T=e.tag,C=qn("ui",h,(!0===w?"pointing":("left"===w||"right"===w)&&w+" pointing")||("above"===w||"below"===w)&&"pointing "+w,_,Kn(i,"active"),Kn(o,"basic"),Kn(l,"circular"),Kn(f,"empty"),Kn(g,"floating"),Kn(m,"horizontal"),Kn(!0===y,"image"),Kn(x,"prompt"),Kn(T,"tag"),Jn(d,"corner"),Jn(k,"ribbon"),Qn(r,"attached"),"label",c),E=ni(n,this.props),I=ii(n,this.props);if(!ai(a))return t.createElement(I,s({},E,{className:C,onClick:this.handleClick}),a);var A=li(S)?"delete":S;return t.createElement(I,s({className:C,onClick:this.handleClick},E),Hr.create(v,{autoGenerateKey:!1}),"boolean"!==typeof y&&tP.create(y,{autoGenerateKey:!1}),u,iP.create(p,{autoGenerateKey:!1}),b&&Hr.create(A,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},n}(t.Component);function aP(e){var n=e.children,i=e.className,r=e.content,o=e.hidden,a=e.visible,l=qn(Kn(a,"visible"),Kn(o,"hidden"),"content",i),c=ni(aP,e),h=ii(aP,e);return t.createElement(h,s({},c,{className:l}),ai(n)?r:n)}oP.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],oP.propTypes={},oP.Detail=iP,oP.Group=sP,oP.create=Oi(oP,(function(e){return{content:e}})),aP.handledProps=["as","children","className","content","hidden","visible"],aP.propTypes={};const lP=aP;function cP(e){var n=e.attached,i=e.basic,r=e.buttons,o=e.children,a=e.className,l=e.color,c=e.compact,h=e.content,u=e.floated,d=e.fluid,p=e.icon,f=e.inverted,g=e.labeled,m=e.negative,v=e.positive,y=e.primary,b=e.secondary,w=e.size,x=e.toggle,S=e.vertical,k=e.widths,_=qn("ui",l,w,Kn(i,"basic"),Kn(c,"compact"),Kn(d,"fluid"),Kn(p,"icon"),Kn(f,"inverted"),Kn(g,"labeled"),Kn(m,"negative"),Kn(v,"positive"),Kn(y,"primary"),Kn(b,"secondary"),Kn(x,"toggle"),Kn(S,"vertical"),Jn(n,"attached"),Qn(u,"floated"),ti(k),"buttons",a),T=ni(cP,e),C=ii(cP,e);return Ni(r)?t.createElement(C,s({},T,{className:_}),ai(o)?h:o):t.createElement(C,s({},T,{className:_}),An(r,(function(e){return fP.create(e)})))}cP.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],cP.propTypes={};const hP=cP;function uP(e){var n=e.className,i=e.text,r=qn("or",n),o=ni(uP,e),a=ii(uP,e);return t.createElement(a,s({},o,{className:r,"data-text":i}))}uP.handledProps=["as","className","text"],uP.propTypes={};const dP=uP;var pP=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(n=e.call.apply(e,[this].concat(r))||this).ref=(0,t.createRef)(),n.computeElementType=function(){var e=n.props,t=e.attached,i=e.label;if(!Ni(t)||!Ni(i))return"div"},n.computeTabIndex=function(e){var t=n.props,i=t.disabled,r=t.tabIndex;return Ni(r)?i?-1:"div"===e?0:void 0:r},n.focus=function(e){return Hn(n.ref.current,"focus",e)},n.handleClick=function(e){n.props.disabled?e.preventDefault():Hn(n.props,"onClick",e,n.props)},n.hasIconClass=function(){var e=n.props,t=e.labelPosition,i=e.children,r=e.content,s=e.icon;return!0===s||s&&(t||ai(i)&&Ni(r))},n}a(n,e);var i=n.prototype;return i.computeButtonAriaRole=function(e){var t=this.props.role;return Ni(t)?"button"!==e?"button":void 0:t},i.render=function(){var e=this.props,i=e.active,r=e.animated,o=e.attached,a=e.basic,l=e.children,c=e.circular,h=e.className,u=e.color,d=e.compact,p=e.content,f=e.disabled,g=e.floated,m=e.fluid,v=e.icon,y=e.inverted,b=e.label,w=e.labelPosition,x=e.loading,S=e.negative,k=e.positive,_=e.primary,T=e.secondary,C=e.size,E=e.toggle,I=e.type,A=qn(u,C,Kn(i,"active"),Kn(a,"basic"),Kn(c,"circular"),Kn(d,"compact"),Kn(m,"fluid"),Kn(this.hasIconClass(),"icon"),Kn(y,"inverted"),Kn(x,"loading"),Kn(S,"negative"),Kn(k,"positive"),Kn(_,"primary"),Kn(T,"secondary"),Kn(E,"toggle"),Jn(r,"animated"),Jn(o,"attached")),P=qn(Jn(w||!!b,"labeled")),N=qn(Kn(f,"disabled"),Qn(g,"floated")),M=ni(n,this.props),O=ii(n,this.props,this.computeElementType),L=this.computeTabIndex(O);if(!Ni(b)){var D=qn("ui",A,"button",h),R=qn("ui",P,"button",h,N),j=oP.create(b,{defaultProps:{basic:!0,pointing:"left"===w?"right":"left"},autoGenerateKey:!1});return t.createElement(O,s({},M,{className:R,onClick:this.handleClick}),"left"===w&&j,t.createElement(aA,{innerRef:this.ref},t.createElement("button",{className:D,"aria-pressed":E?!!i:void 0,disabled:f,type:I,tabIndex:L},Hr.create(v,{autoGenerateKey:!1})," ",p)),("right"===w||!w)&&j)}var F=qn("ui",A,N,P,"button",h),U=!ai(l),B=this.computeButtonAriaRole(O);return t.createElement(aA,{innerRef:this.ref},t.createElement(O,s({},M,{className:F,"aria-pressed":E?!!i:void 0,disabled:f&&"button"===O||void 0,onClick:this.handleClick,role:B,type:I,tabIndex:L}),U&&l,!U&&Hr.create(v,{autoGenerateKey:!1}),!U&&p))},n}(t.Component);pP.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],pP.propTypes={},pP.defaultProps={as:"button"},pP.Content=lP,pP.Group=hP,pP.Or=dP,pP.create=Oi(pP,(function(e){return{content:e}}));const fP=pP;const gP=function(e,t,n){"__proto__"==t&&Fn?Fn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var mP=Object.prototype.hasOwnProperty;const vP=function(e,t,n){var i=e[t];mP.call(e,t)&&h(i,n)&&(void 0!==n||t in e)||gP(e,t,n)};const yP=function(e,t,n,i){if(!R(e))return e;for(var r=-1,s=(t=dn(t,e)).length,o=s-1,a=e;null!=a&&++r<s;){var l=pn(t[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(r!=o){var h=a[l];void 0===(c=i?i(h,l,a):void 0)&&(c=R(h)?h:tt(t[r+1])?[]:{})}vP(a,l,c),a=a[l]}return e};const bP=function(e,t,n){return null==e?e:yP(e,t,n)};var wP=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).inputRef=(0,t.createRef)(),n.labelRef=(0,t.createRef)(),n.canToggle=function(){var e=n.props,t=e.disabled,i=e.radio,r=e.readOnly,s=n.state.checked;return!t&&!r&&!(i&&s)},n.computeTabIndex=function(){var e=n.props,t=e.disabled,i=e.tabIndex;return Ni(i)?t?-1:0:i},n.handleClick=function(e){var t=n.props.id,i=n.state,r=i.checked,o=i.indeterminate,a=Hn(n.inputRef.current,"contains",e.target),l=Hn(n.labelRef.current,"contains",e.target),c=!l&&!a,h=!Ni(t);l&&h||Hn(n.props,"onClick",e,s({},n.props,{checked:!r,indeterminate:!!o})),n.isClickFromMouse&&(n.isClickFromMouse=!1,l&&!h&&n.handleChange(e),c&&n.handleChange(e),l&&h&&e.stopPropagation())},n.handleChange=function(e){var t=n.state.checked;n.canToggle()&&(Hn(n.props,"onChange",e,s({},n.props,{checked:!t,indeterminate:!1})),n.setState({checked:!t,indeterminate:!1}))},n.handleMouseDown=function(e){var t=n.state,i=t.checked,r=t.indeterminate;Hn(n.props,"onMouseDown",e,s({},n.props,{checked:!!i,indeterminate:!!r})),e.defaultPrevented||Hn(n.inputRef.current,"focus"),e.preventDefault()},n.handleMouseUp=function(e){var t=n.state,i=t.checked,r=t.indeterminate;n.isClickFromMouse=!0,Hn(n.props,"onMouseUp",e,s({},n.props,{checked:!!i,indeterminate:!!r}))},n.setIndeterminate=function(){var e=n.state.indeterminate;bP(n.inputRef,"current.indeterminate",!!e)},n}a(n,e);var i=n.prototype;return i.componentDidMount=function(){this.setIndeterminate()},i.componentDidUpdate=function(){this.setIndeterminate()},i.render=function(){var e=this.props,i=e.className,r=e.disabled,o=e.label,a=e.id,l=e.name,c=e.radio,h=e.readOnly,u=e.slider,d=e.toggle,p=e.type,f=e.value,g=this.state,m=g.checked,v=g.indeterminate,y=qn("ui",Kn(m,"checked"),Kn(r,"disabled"),Kn(v,"indeterminate"),Kn(Ni(o),"fitted"),Kn(c,"radio"),Kn(h,"read-only"),Kn(u,"slider"),Kn(d,"toggle"),"checkbox",i),b=ni(n,this.props),w=ii(n,this.props),x=PA(b,{htmlProps:EA}),S=x[0],k=x[1],_=Ri(o,{defaultProps:{htmlFor:a},autoGenerateKey:!1})||t.createElement("label",{htmlFor:a});return t.createElement(w,s({},k,{className:y,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),t.createElement(aA,{innerRef:this.inputRef},t.createElement("input",s({},S,{checked:m,className:"hidden",disabled:r,id:a,name:l,readOnly:!0,tabIndex:this.computeTabIndex(),type:p,value:f}))),t.createElement(aA,{innerRef:this.labelRef},_))},n}(ci);function xP(e){var n=e.slider,i=e.toggle,r=e.type,o=ni(xP,e),a=!(n||i)||void 0;return t.createElement(wP,s({},o,{type:r,radio:a,slider:n,toggle:i}))}wP.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],wP.propTypes={},wP.defaultProps={type:"checkbox"},wP.autoControlledProps=["checked","indeterminate"],xP.handledProps=["slider","toggle","type"],xP.propTypes={},xP.defaultProps={type:"radio"};const SP=xP;function kP(e){var n=e.children,i=e.className,r=e.content,o=e.control,a=e.disabled,l=e.error,c=e.inline,h=e.label,u=e.required,d=e.type,p=e.width,f=e.id,g=qn(Kn(a,"disabled"),Kn(l,"error"),Kn(c,"inline"),Kn(u,"required"),ti(p,"wide"),"field",i),m=ni(kP,e),v=ii(kP,e),y=gn(l,"pointing","above"),b=oP.create(l,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:y,id:f?f+"-error-message":void 0,role:"alert","aria-atomic":!0}}),w=("below"===y||"right"===y)&&b,x=("above"===y||"left"===y)&&b;if(Ni(o))return Ni(h)?t.createElement(v,s({},m,{className:g,id:f}),ai(n)?r:n):t.createElement(v,s({},m,{className:g,id:f}),w,Ri(h,{autoGenerateKey:!1}),x);var S={"aria-describedby":f&&l?f+"-error-message":null,"aria-invalid":!!l||void 0},k=s({},m,{content:r,children:n,disabled:a,required:u,type:d,id:f});return"input"!==o||"checkbox"!==d&&"radio"!==d?o===wP||o===SP?t.createElement(v,{className:g},w,(0,t.createElement)(o,s({},S,k,{label:h})),x):t.createElement(v,{className:g},Ri(h,{defaultProps:{htmlFor:f},autoGenerateKey:!1}),w,(0,t.createElement)(o,s({},S,k)),x):t.createElement(v,{className:g},t.createElement("label",null,w,(0,t.createElement)(o,s({},S,k))," ",h,x))}kP.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],kP.propTypes={};const _P=kP;function TP(e){var n=e.control,i=ni(TP,e),r=ii(TP,e);return t.createElement(r,s({},i,{control:n}))}TP.handledProps=["as","control"],TP.propTypes={},TP.defaultProps={as:_P,control:fP};const CP=TP;function EP(e){var n=e.control,i=ni(EP,e),r=ii(EP,e);return t.createElement(r,s({},i,{control:n}))}EP.handledProps=["as","control"],EP.propTypes={},EP.defaultProps={as:_P,control:wP};const IP=EP;const AP=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var s=e[t];s&&(r[i++]=s)}return r};const PP=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0};const NP=function(e,t){var n=!0;return En(e,(function(e,i,r){return n=!!t(e,i,r)})),n};const MP=function(e,t,n){var i=De(e)?PP:NP;return n&&si(e,t,n)&&(t=void 0),i(e,_n(t,3))};const OP=function(e,t,n,i){var r=-1,s=fi,o=!0,a=e.length,c=[],h=t.length;if(!a)return c;n&&(t=l(t,st(n))),i?(s=gi,o=!1):t.length>=200&&(s=Ce,o=!1,t=new _e(t));e:for(;++r<a;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d===d){for(var p=h;p--;)if(t[p]===d)continue e;c.push(u)}else s(t,d,i)||c.push(u)}return c};const LP=function(e){return Ge(e)&&wt(e)};var DP=Gn((function(e,t){return LP(e)?OP(e,t):[]}));const RP=DP;const jP=function(e){return function(t,n,i){var r=Object(t);if(!wt(t)){var s=_n(n,3);t=xt(t),n=function(e){return s(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[s?t[o]:o]:void 0}};var FP=Math.max;const UP=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:bA(n);return r<0&&(r=FP(i+r,0)),hi(e,_n(t,3),r)};const BP=jP(UP);const zP=function(e,t,n){var i=null==e?0:e.length;return i?(t=n||void 0===t?1:bA(t),Mn(e,0,(t=i-t)<0?0:t)):[]};var VP=Object.prototype.hasOwnProperty;const GP=function(e){if(null==e)return!0;if(wt(e)&&(De(e)||"string"==typeof e||"function"==typeof e.splice||Ze(e)||ut(e)||Ye(e)))return!e.length;var t=Bt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(gt(e))return!bt(e).length;for(var n in e)if(VP.call(e,n))return!1;return!0};const HP=xn("length");var WP="\\ud800-\\udfff",qP="["+WP+"]",XP="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",YP="\\ud83c[\\udffb-\\udfff]",KP="[^"+WP+"]",QP="(?:\\ud83c[\\udde6-\\uddff]){2}",JP="[\\ud800-\\udbff][\\udc00-\\udfff]",$P="(?:"+XP+"|"+YP+")"+"?",ZP="[\\ufe0e\\ufe0f]?",eN=ZP+$P+("(?:\\u200d(?:"+[KP,QP,JP].join("|")+")"+ZP+$P+")*"),tN="(?:"+[KP+XP+"?",XP,QP,JP,qP].join("|")+")",nN=RegExp(YP+"(?="+YP+")|"+tN+eN,"g");const iN=function(e){for(var t=nN.lastIndex=0;nN.test(e);)++t;return t};const rN=function(e){return kr(e)?iN(e):HP(e)};const sN=function(e){if(null==e)return 0;if(wt(e))return Ai(e)?rN(e):e.length;var t=Bt(e);return"[object Map]"==t||"[object Set]"==t?e.size:bt(e).length};var oN=C?C.isConcatSpreadable:void 0;const aN=function(e){return De(e)||Ye(e)||!!(oN&&e&&e[oN])};const lN=function e(t,n,i,r,s){var o=-1,a=t.length;for(i||(i=aN),s||(s=[]);++o<a;){var l=t[o];n>0&&i(l)?n>1?e(l,n-1,i,r,s):Le(s,l):r||(s[s.length]=l)}return s};var cN=Gn((function(e,t){return LP(e)?OP(e,lN(t,1,LP,!0)):[]}));const hN=cN;const uN=Gn((function(e){return bi(lN(e,1,LP,!0))}));const dN=function(e,t){return qt(e,t)};const pN=function(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var o=t[i],a=fn(e,o);n(a,o)&&yP(s,dn(o,e),a)}return s};const fN=function(e,t){return pN(e,t,(function(t,n){return yn(e,n)}))};const gN=function(e){return(null==e?0:e.length)?lN(e,1):[]};const mN=function(e){return Vn(Rn(e,void 0,gN),e+"")}((function(e,t){return null==e?{}:fN(e,t)}));var vN=n(324),yN=n.n(vN),bN=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.className,r=e.name,o=qn(r,"flag",i),a=ni(n,this.props),l=ii(n,this.props);return t.createElement(l,s({},a,{className:o}))},n}(t.PureComponent);bN.handledProps=["as","className","name"],bN.propTypes={},bN.defaultProps={as:"i"},bN.create=Oi(bN,(function(e){return{name:e}}));const wN=bN;function xN(e){var n=e.className,i=qn("divider",n),r=ni(xN,e),o=ii(xN,e);return t.createElement(o,s({},r,{className:i}))}xN.handledProps=["as","className"],xN.propTypes={};const SN=xN;var kN=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleClick=function(e){Hn(t.props,"onClick",e,t.props)},t}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.active,r=e.children,o=e.className,a=e.content,l=e.disabled,c=e.description,h=e.flag,u=e.icon,d=e.image,p=e.label,f=e.selected,g=e.text,m=qn(Kn(i,"active"),Kn(l,"disabled"),Kn(f,"selected"),"item",o),v=Ni(u)?function(e,n){return oi(t.Children.toArray(e),{type:n})}(r,"DropdownMenu")&&"dropdown":u,y=ni(n,this.props),b=ii(n,this.props),w={role:"option","aria-disabled":l,"aria-checked":i,"aria-selected":f};if(!ai(r))return t.createElement(b,s({},y,w,{className:m,onClick:this.handleClick}),r);var x=wN.create(h,{autoGenerateKey:!1}),S=Hr.create(v,{autoGenerateKey:!1}),k=tP.create(d,{autoGenerateKey:!1}),_=oP.create(p,{autoGenerateKey:!1}),T=Mi("span",(function(e){return{children:e}}),c,{defaultProps:{className:"description"},autoGenerateKey:!1}),C=Mi("span",(function(e){return{children:e}}),ai(a)?g:a,{defaultProps:{className:"text"},autoGenerateKey:!1});return t.createElement(b,s({},y,w,{className:m,onClick:this.handleClick}),k,S,x,_,T,C)},n}(t.Component);kN.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],kN.propTypes={},kN.create=Oi(kN,(function(e){return e}));const _N=kN;function TN(e){var n=e.children,i=e.className,r=e.content,o=e.icon,a=qn("header",i),l=ni(TN,e),c=ii(TN,e);return ai(n)?t.createElement(c,s({},l,{className:a}),Hr.create(o,{autoGenerateKey:!1}),r):t.createElement(c,s({},l,{className:a}),n)}TN.handledProps=["as","children","className","content","icon"],TN.propTypes={},TN.create=Oi(TN,(function(e){return{content:e}}));const CN=TN;function EN(e){var n=e.children,i=e.className,r=e.content,o=e.direction,a=e.open,l=e.scrolling,c=qn(o,Kn(a,"visible"),Kn(l,"scrolling"),"menu transition",i),h=ni(EN,e),u=ii(EN,e);return t.createElement(u,s({},h,{className:c}),ai(n)?r:n)}EN.handledProps=["as","children","className","content","direction","open","scrolling"],EN.propTypes={};const IN=EN;var AN=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleChange=function(e){var n=gn(e,"target.value");Hn(t.props,"onChange",e,s({},t.props,{value:n}))},t}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.autoComplete,r=e.className,o=e.tabIndex,a=e.type,l=e.value,c=qn("search",r),h=ni(n,this.props);return t.createElement("input",s({},h,{"aria-autocomplete":"list",autoComplete:i,className:c,onChange:this.handleChange,tabIndex:o,type:a,value:l}))},n}(t.Component);AN.handledProps=["as","autoComplete","className","tabIndex","type","value"],AN.propTypes={},AN.defaultProps={autoComplete:"off",type:"text"},AN.create=Oi(AN,(function(e){return{type:e}}));const PN=AN;function NN(e){var n=e.children,i=e.className,r=e.content,o=qn("divider",i),a=ni(NN,e),l=ii(NN,e);return t.createElement(l,s({"aria-atomic":!0,"aria-live":"polite",role:"alert"},a,{className:o}),ai(n)?r:n)}NN.handledProps=["as","children","className","content"],NN.propTypes={},NN.create=Oi(NN,(function(e){return{content:e}}));const MN=NN;var ON=/[\\^$.*+?()[\]{}|]/g,LN=RegExp(ON.source);const DN=function(e){return(e=un(e))&&LN.test(e)?e.replace(ON,"\\$&"):e};const RN=function(e,t){var n=[];return En(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n};const jN=function(e,t){return(De(e)?je:RN)(e,_n(t,3))};function FN(e){var n=e.additionLabel,i=e.additionPosition,r=e.allowAdditions,s=e.deburr,o=e.multiple,a=e.options,l=e.search,c=e.searchQuery,h=e.value,u=a;if(o&&(u=jN(u,(function(e){return!kA(h,e.value)}))),l&&c)if(j(l))u=l(u,c);else{var d=s?Hi(c):c,p=new RegExp(DN(d),"i");u=jN(u,(function(e){return p.test(s?Hi(e.text):e.text)}))}if(r&&l&&c&&!oi(u,{text:c})){var f={key:"addition",text:[t.isValidElement(n)?t.cloneElement(n,{key:"addition-label"}):n||"",t.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===i?u.unshift(f):u.push(f)}return u}FN.handledProps=[];const UN=function(e,t,n,i,r){return r(e,(function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)})),n};const BN=function(e,t,n){var i=De(e)?Bi:UN,r=arguments.length<3;return i(e,_n(t,4),n,r,En)};function zN(e){var t,n=e.additionLabel,i=e.additionPosition,r=e.allowAdditions,s=e.deburr,o=e.multiple,a=e.options,l=e.search,c=e.searchQuery,h=e.selectedIndex,u=e.value,d=FN({value:u,options:a,searchQuery:c,additionLabel:n,additionPosition:i,allowAdditions:r,deburr:s,multiple:o,search:l}),p=BN(d,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!h||h<0){var f=p[0];t=o?f:UP(d,["value",u])||p[0]}else if(o)t=BP(p,(function(e){return e>=h})),h>=d.length-1&&(t=p[p.length-1]);else{var g=UP(d,["value",u]);t=kA(p,g)?g:void 0}return(!t||t<0)&&(t=p[0]),t}var VN=function(e,t){return Ni(e)?t:e},GN=function(e){return e?e.map((function(e){return mN(e,["key","value"])})):e};function HN(e){var n=e.flag,i=e.image,r=e.text;return j(r)?r:{content:t.createElement(t.Fragment,null,wN.create(n),tP.create(i),r)}}var WN=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).searchRef=(0,t.createRef)(),n.sizerRef=(0,t.createRef)(),n.ref=(0,t.createRef)(),n.handleChange=function(e,t){Hn(n.props,"onChange",e,s({},n.props,{value:t}))},n.closeOnChange=function(e){var t=n.props,i=t.closeOnChange,r=t.multiple;(li(i)?!r:i)&&n.close(e,mi)},n.closeOnEscape=function(e){n.props.closeOnEscape&&jA().getCode(e)===jA().Escape&&(e.preventDefault(),n.close(e))},n.moveSelectionOnKeyDown=function(e){var t,i=n.props,r=i.multiple,s=i.selectOnNavigation;if(n.state.open){var o=((t={})[jA().ArrowDown]=1,t[jA().ArrowUp]=-1,t)[jA().getCode(e)];if(void 0!==o){e.preventDefault();var a=n.getSelectedIndexAfterMove(o);!r&&s&&n.makeSelectedItemActive(e,a),n.setState({selectedIndex:a})}}},n.openOnSpace=function(e){var t,i,r,s=n.state.focus&&!n.state.open&&jA().getCode(e)===jA().Spacebar,o="INPUT"!==(null==(t=e.target)?void 0:t.tagName)&&"TEXTAREA"!==(null==(i=e.target)?void 0:i.tagName)&&!0!==(null==(r=e.target)?void 0:r.isContentEditable);s&&(o&&e.preventDefault(),n.open(e))},n.openOnArrow=function(e){var t=n.state,i=t.focus,r=t.open;if(i&&!r){var s=jA().getCode(e);s!==jA().ArrowDown&&s!==jA().ArrowUp||(e.preventDefault(),n.open(e))}},n.makeSelectedItemActive=function(e,t){var i=n.state,r=i.open,o=i.value,a=n.props.multiple,l=n.getSelectedItem(t),c=gn(l,"value"),h=gn(l,"disabled");if(Ni(c)||!r||h)return o;var u=a?uN(o,[c]):c;return(a?!!hN(u,o).length:u!==o)&&(n.setState({value:u}),n.handleChange(e,u),l["data-additional"]&&Hn(n.props,"onAddItem",e,s({},n.props,{value:c}))),o},n.selectItemOnEnter=function(e){var t=n.props.search,i=n.state,r=i.open,s=i.selectedIndex;if(r&&(jA().getCode(e)===jA().Enter||!t&&jA().getCode(e)===jA().Spacebar)){e.preventDefault();var o=sN(FN({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search}));if(!t||0!==o){var a=n.makeSelectedItemActive(e,s);n.setState({selectedIndex:zN({additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search,selectedIndex:s,value:a,options:n.props.options,searchQuery:""})}),n.closeOnChange(e),n.clearSearchQuery(),t&&Hn(n.searchRef.current,"focus")}}},n.removeItemOnBackspace=function(e){var t=n.props,i=t.multiple,r=t.search,s=n.state,o=s.searchQuery,a=s.value;if(jA().getCode(e)===jA().Backspace&&!o&&r&&i&&!GP(a)){e.preventDefault();var l=zP(a);n.setState({value:l}),n.handleChange(e,l)}},n.closeOnDocumentClick=function(e){n.props.closeOnBlur&&(n.ref.current&&GA(n.ref.current,e)||n.close())},n.handleMouseDown=function(e){n.isMouseDown=!0,Hn(n.props,"onMouseDown",e,n.props),document.addEventListener("mouseup",n.handleDocumentMouseUp)},n.handleDocumentMouseUp=function(){n.isMouseDown=!1,document.removeEventListener("mouseup",n.handleDocumentMouseUp)},n.handleClick=function(e){var t=n.props,i=t.minCharacters,r=t.search,s=n.state,o=s.open,a=s.searchQuery;if(Hn(n.props,"onClick",e,n.props),e.stopPropagation(),!r)return n.toggle(e);o?Hn(n.searchRef.current,"focus"):a.length>=i||1===i?n.open(e):Hn(n.searchRef.current,"focus")},n.handleIconClick=function(e){var t=n.props.clearable,i=n.hasValue();Hn(n.props,"onClick",e,n.props),e.stopPropagation(),t&&i?n.clearValue(e):n.toggle(e)},n.handleItemClick=function(e,t){var i=n.props,r=i.multiple,o=i.search,a=n.state.value,l=t.value;if(e.stopPropagation(),(r||t.disabled)&&e.nativeEvent.stopImmediatePropagation(),!t.disabled){var c=t["data-additional"],h=r?uN(n.state.value,[l]):l;(r?!!hN(h,a).length:h!==a)&&(n.setState({value:h}),n.handleChange(e,h)),n.clearSearchQuery(),Hn(o?n.searchRef.current:n.ref.current,"focus"),n.closeOnChange(e),c&&Hn(n.props,"onAddItem",e,s({},n.props,{value:l}))}},n.handleFocus=function(e){n.state.focus||(Hn(n.props,"onFocus",e,n.props),n.setState({focus:!0}))},n.handleBlur=function(e){var t=gn(e,"currentTarget");if(!t||!t.contains(document.activeElement)){var i=n.props,r=i.closeOnBlur,s=i.multiple,o=i.selectOnBlur;n.isMouseDown||(Hn(n.props,"onBlur",e,n.props),o&&!s&&(n.makeSelectedItemActive(e,n.state.selectedIndex),r&&n.close()),n.setState({focus:!1}),n.clearSearchQuery())}},n.handleSearchChange=function(e,t){var i=t.value;e.stopPropagation();var r=n.props.minCharacters,o=n.state.open,a=i;Hn(n.props,"onSearchChange",e,s({},n.props,{searchQuery:a})),n.setState({searchQuery:a,selectedIndex:0}),!o&&a.length>=r?n.open():o&&1!==r&&a.length<r&&n.close()},n.handleKeyDown=function(e){n.moveSelectionOnKeyDown(e),n.openOnArrow(e),n.openOnSpace(e),n.selectItemOnEnter(e),Hn(n.props,"onKeyDown",e)},n.getSelectedItem=function(e){var t=FN({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});return gn(t,"["+e+"]")},n.getItemByValue=function(e){var t=n.props.options;return BP(t,{value:e})},n.getDropdownAriaOptions=function(){var e=n.props,t=e.loading,i=e.disabled,r=e.search,s=e.multiple,o={role:r?"combobox":"listbox","aria-busy":t,"aria-disabled":i,"aria-expanded":!!n.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=s),o},n.clearSearchQuery=function(){var e=n.state.searchQuery;void 0!==e&&""!==e&&n.setState({searchQuery:""})},n.handleLabelClick=function(e,t){e.stopPropagation(),n.setState({selectedLabel:t.value}),Hn(n.props,"onLabelClick",e,t)},n.handleLabelRemove=function(e,t){e.stopPropagation();var i=n.state.value,r=RP(i,t.value);n.setState({value:r}),n.handleChange(e,r)},n.getSelectedIndexAfterMove=function(e,t){void 0===t&&(t=n.state.selectedIndex);var i=FN({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(void 0!==i&&!MP(i,"disabled")){var r=i.length-1,s=t+e;return!n.props.wrapSelection&&(s>r||s<0)?s=t:s>r?s=0:s<0&&(s=r),i[s].disabled?n.getSelectedIndexAfterMove(e,s):s}},n.handleIconOverrides=function(e){var t=n.props.clearable;return{className:qn(t&&n.hasValue()&&"clear",e.className),onClick:function(t){Hn(e,"onClick",t,e),n.handleIconClick(t)}}},n.clearValue=function(e){var t=n.props.multiple?[]:"";n.setState({value:t}),n.handleChange(e,t)},n.computeSearchInputTabIndex=function(){var e=n.props,t=e.disabled,i=e.tabIndex;return Ni(i)?t?-1:0:i},n.computeSearchInputWidth=function(){var e=n.state.searchQuery;if(n.sizerRef.current&&e){n.sizerRef.current.style.display="inline",n.sizerRef.current.textContent=e;var t=Math.ceil(n.sizerRef.current.getBoundingClientRect().width);return n.sizerRef.current.style.removeProperty("display"),t}},n.computeTabIndex=function(){var e=n.props,t=e.disabled,i=e.search,r=e.tabIndex;if(!i)return t?-1:Ni(r)?0:r},n.handleSearchInputOverrides=function(e){return{onChange:function(t,i){Hn(e,"onChange",t,i),n.handleSearchChange(t,i)}}},n.hasValue=function(){var e=n.props.multiple,t=n.state.value;return e?!GP(t):!Ni(t)&&""!==t},n.scrollSelectedItemIntoView=function(){if(n.ref.current){var e=n.ref.current.querySelector(".menu.visible");if(e){var t=e.querySelector(".item.selected");if(t){var i=t.offsetTop<e.scrollTop,r=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;i?e.scrollTop=t.offsetTop:r&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}},n.setOpenDirection=function(){if(n.ref.current){var e=n.ref.current.querySelector(".menu.visible");if(e){var t=n.ref.current.getBoundingClientRect(),i=e.clientHeight,r=document.documentElement.clientHeight-t.top-t.height-i,s=t.top-i,o=r<0&&s>r;!o!==!n.state.upward&&n.setState({upward:o})}}},n.open=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!0);var i=n.props,r=i.disabled,s=i.search;r||(s&&Hn(n.searchRef.current,"focus"),Hn(n.props,"onOpen",e,n.props),t&&n.setState({open:!0}),n.scrollSelectedItemIntoView())},n.close=function(e,t){void 0===t&&(t=n.handleClose),n.state.open&&(Hn(n.props,"onClose",e,n.props),n.setState({open:!1},t))},n.handleClose=function(){var e=document.activeElement===n.searchRef.current;!e&&n.ref.current&&n.ref.current.blur();var t=document.activeElement===n.ref.current,i=e||t;n.setState({focus:i})},n.toggle=function(e){return n.state.open?n.close(e):n.open(e)},n.renderText=function(){var e,t=n.props,i=t.multiple,r=t.placeholder,s=t.search,o=t.text,a=n.state,l=a.searchQuery,c=a.selectedIndex,h=a.value,u=a.open,d=n.hasValue(),p=qn(r&&!d&&"default","text",s&&l&&"filtered"),f=r;return o?f=o:u&&!i?e=n.getSelectedItem(c):d&&(e=n.getItemByValue(h)),MN.create(e?HN(e):f,{defaultProps:{className:p}})},n.renderSearchInput=function(){var e=n.props,i=e.search,r=e.searchInput,s=n.state.searchQuery;return i&&t.createElement(aA,{innerRef:n.searchRef},PN.create(r,{defaultProps:{style:{width:n.computeSearchInputWidth()},tabIndex:n.computeSearchInputTabIndex(),value:s},overrideProps:n.handleSearchInputOverrides}))},n.renderSearchSizer=function(){var e=n.props,i=e.search,r=e.multiple;return i&&r&&t.createElement("span",{className:"sizer",ref:n.sizerRef})},n.renderLabels=function(){var e=n.props,t=e.multiple,i=e.renderLabel,r=n.state,s=r.selectedLabel,o=r.value;if(t&&!GP(o)){var a=An(o,n.getItemByValue);return An(AP(a),(function(e,t){var r={active:e.value===s,as:"a",key:VN(e.key,e.value),onClick:n.handleLabelClick,onRemove:n.handleLabelRemove,value:e.value};return oP.create(i(e,t,r),{defaultProps:r})}))}},n.renderOptions=function(){var e=n.props,i=e.lazyLoad,r=e.multiple,o=e.search,a=e.noResultsMessage,l=n.state,c=l.open,h=l.selectedIndex,u=l.value;if(i&&!c)return null;var d=FN({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(null!==a&&o&&GP(d))return t.createElement("div",{className:"message"},a);var p=r?function(e){return kA(u,e)}:function(e){return e===u};return An(d,(function(e,t){return _N.create(s({active:p(e.value),selected:h===t},e,{key:VN(e.key,e.value),style:s({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(t,i){null==e.onClick||e.onClick(t,i),n.handleItemClick(t,i)}}}})}))},n.renderMenu=function(){var e=n.props,i=e.children,r=e.direction,o=e.header,a=n.state.open,l=n.getDropdownMenuAriaOptions();if(!ai(i)){var c=t.Children.only(i),h=qn(r,Kn(a,"visible"),c.props.className);return(0,t.cloneElement)(c,s({className:h},l))}return t.createElement(IN,s({},l,{direction:r,open:a}),CN.create(o,{autoGenerateKey:!1}),n.renderOptions())},n}a(n,e);var i=n.prototype;return i.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},n.getAutoControlledStateFromProps=function(e,t,n){var i={__options:e.options,__value:t.value};return(!yN()(n.__value,t.value)||!dN(GN(e.options),GN(n.__options)))&&(i.selectedIndex=zN({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),i},i.componentDidMount=function(){this.state.open&&this.open(null,!1)},i.shouldComponentUpdate=function(e,t){return!yN()(e,this.props)||!yN()(t,this.state)},i.componentDidUpdate=function(e,t){var n=this.props,i=n.closeOnBlur,r=n.minCharacters,s=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var a=!o||o&&1===r&&!this.state.open;s&&a&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&i&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},i.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,i={};return t&&(i["aria-multiselectable"]=n,i.role="listbox"),i},i.render=function(){var e=this.props,i=e.basic,r=e.button,o=e.className,a=e.compact,l=e.disabled,c=e.error,h=e.fluid,u=e.floating,d=e.icon,p=e.inline,f=e.item,g=e.labeled,m=e.loading,v=e.multiple,y=e.pointing,b=e.search,w=e.selection,x=e.scrolling,S=e.simple,k=e.trigger,_=this.state,T=_.focus,C=_.open,E=_.upward,I=qn("ui",Kn(C,"active visible"),Kn(l,"disabled"),Kn(c,"error"),Kn(m,"loading"),Kn(i,"basic"),Kn(r,"button"),Kn(a,"compact"),Kn(h,"fluid"),Kn(u,"floating"),Kn(p,"inline"),Kn(g,"labeled"),Kn(f,"item"),Kn(v,"multiple"),Kn(b,"search"),Kn(w,"selection"),Kn(S,"simple"),Kn(x,"scrolling"),Kn(E,"upward"),Jn(y,"pointing"),"dropdown",o),A=ni(n,this.props),P=ii(n,this.props),N=this.getDropdownAriaOptions(P,this.props);return t.createElement(aA,{innerRef:this.ref},t.createElement(P,s({},A,N,{className:I,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),k||this.renderText(),Hr.create(d,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),C&&t.createElement(DA(),{name:"keydown",on:this.closeOnEscape}),C&&t.createElement(DA(),{name:"click",on:this.closeOnDocumentClick}),T&&t.createElement(DA(),{name:"keydown",on:this.removeItemOnBackspace})))},n}(ci);function qN(e){var n=e.control,i=ni(qN,e),r=ii(qN,e);return t.createElement(r,s({},i,{control:n}))}WN.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],WN.propTypes={},WN.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:HN,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},WN.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],WN.Divider=SN,WN.Header=CN,WN.Item=_N,WN.Menu=IN,WN.SearchInput=PN,WN.Text=MN,qN.handledProps=["as","control"],qN.propTypes={},qN.defaultProps={as:_P,control:WN};const XN=qN;function YN(e){var n=e.children,i=e.className,r=e.grouped,o=e.inline,a=e.unstackable,l=e.widths,c=qn(Kn(r,"grouped"),Kn(o,"inline"),Kn(a,"unstackable"),ti(l,null,!0),"fields",i),h=ni(YN,e),u=ii(YN,e);return t.createElement(u,s({},h,{className:c}),n)}YN.handledProps=["as","children","className","grouped","inline","unstackable","widths"],YN.propTypes={};const KN=YN;var QN=function(e){function n(){for(var i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(i=e.call.apply(e,[this].concat(o))||this).inputRef=(0,t.createRef)(),i.computeIcon=function(){var e=i.props,t=e.loading,n=e.icon;return Ni(n)?t?"spinner":void 0:n},i.computeTabIndex=function(){var e=i.props,t=e.disabled,n=e.tabIndex;return Ni(n)?t?-1:void 0:n},i.focus=function(e){return i.inputRef.current.focus(e)},i.select=function(){return i.inputRef.current.select()},i.handleChange=function(e){var t=gn(e,"target.value");Hn(i.props,"onChange",e,s({},i.props,{value:t}))},i.handleChildOverrides=function(e,t){return s({},t,e.props,{ref:function(t){nA(e.ref,t),i.inputRef.current=t}})},i.partitionProps=function(){var e=i.props,t=e.disabled,r=e.type,o=i.computeTabIndex(),a=ni(n,i.props),l=PA(a),c=l[0],h=l[1];return[s({},c,{disabled:t,type:r,tabIndex:o,onChange:i.handleChange,ref:i.inputRef}),h]},i}return a(n,e),n.prototype.render=function(){var e=this,i=this.props,r=i.action,o=i.actionPosition,a=i.children,l=i.className,c=i.disabled,h=i.error,u=i.fluid,d=i.focus,p=i.icon,f=i.iconPosition,g=i.input,m=i.inverted,v=i.label,y=i.labelPosition,b=i.loading,w=i.size,x=i.transparent,S=i.type,k=qn("ui",w,Kn(c,"disabled"),Kn(h,"error"),Kn(u,"fluid"),Kn(d,"focus"),Kn(m,"inverted"),Kn(b,"loading"),Kn(x,"transparent"),Qn(o,"action")||Kn(r,"action"),Qn(f,"icon")||Kn(p||b,"icon"),Qn(y,"labeled")||Kn(v,"labeled"),"input",l),_=ii(n,this.props),T=this.partitionProps(),C=T[0],E=T[1];if(!ai(a)){var I=An(t.Children.toArray(a),(function(n){return"input"!==n.type?n:(0,t.cloneElement)(n,e.handleChildOverrides(n,C))}));return t.createElement(_,s({},E,{className:k}),I)}var A=fP.create(r,{autoGenerateKey:!1}),P=oP.create(v,{defaultProps:{className:qn("label",kA(y,"corner")&&y)},autoGenerateKey:!1});return t.createElement(_,s({},E,{className:k}),"left"===o&&A,"right"!==y&&P,Di(g||S,{defaultProps:C,autoGenerateKey:!1}),Hr.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==o&&A,"right"===y&&P)},n}(t.Component);QN.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],QN.propTypes={},QN.defaultProps={type:"text"},QN.create=Oi(QN,(function(e){return{type:e}}));const JN=QN;function $N(e){var n=e.control,i=ni($N,e),r=ii($N,e);return t.createElement(r,s({},i,{control:n}))}$N.handledProps=["as","control"],$N.propTypes={},$N.defaultProps={as:_P,control:JN};const ZN=$N;function eM(e){var n=e.control,i=ni(eM,e),r=ii(eM,e);return t.createElement(r,s({},i,{control:n}))}eM.handledProps=["as","control"],eM.propTypes={},eM.defaultProps={as:_P,control:SP};const tM=eM;function nM(e){return t.createElement(WN,s({},e,{selection:!0}))}nM.handledProps=["options"],nM.propTypes={},nM.Divider=WN.Divider,nM.Header=WN.Header,nM.Item=WN.Item,nM.Menu=WN.Menu;const iM=nM;function rM(e){var n=e.control,i=e.options,r=ni(rM,e),o=ii(rM,e);return t.createElement(o,s({},r,{control:n,options:i}))}rM.handledProps=["as","control","options"],rM.propTypes={},rM.defaultProps={as:_P,control:iM};const sM=rM;var oM=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).ref=(0,t.createRef)(),n.focus=function(){return n.ref.current.focus()},n.handleChange=function(e){var t=gn(e,"target.value");Hn(n.props,"onChange",e,s({},n.props,{value:t}))},n.handleInput=function(e){var t=gn(e,"target.value");Hn(n.props,"onInput",e,s({},n.props,{value:t}))},n}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.rows,r=e.value,o=ni(n,this.props),a=ii(n,this.props);return t.createElement(aA,{innerRef:this.ref},t.createElement(a,s({},o,{onChange:this.handleChange,onInput:this.handleInput,rows:i,value:r})))},n}(t.Component);oM.handledProps=["as","onChange","onInput","rows","value"],oM.propTypes={},oM.defaultProps={as:"textarea",rows:3};const aM=oM;function lM(e){var n=e.control,i=ni(lM,e),r=ii(lM,e);return t.createElement(r,s({},i,{control:n}))}lM.handledProps=["as","control"],lM.propTypes={},lM.defaultProps={as:_P,control:aM};const cM=lM;var hM=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&Hn(e,"preventDefault");for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Hn.apply(void 0,[t.props,"onSubmit",e,t.props].concat(i))},t}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.action,r=e.children,o=e.className,a=e.error,l=e.inverted,c=e.loading,h=e.reply,u=e.size,d=e.success,p=e.unstackable,f=e.warning,g=e.widths,m=qn("ui",u,Kn(a,"error"),Kn(l,"inverted"),Kn(c,"loading"),Kn(h,"reply"),Kn(d,"success"),Kn(p,"unstackable"),Kn(f,"warning"),ti(g,null,!0),"form",o),v=ni(n,this.props),y=ii(n,this.props);return t.createElement(y,s({},v,{action:i,className:m,onSubmit:this.handleSubmit}),r)},n}(t.Component);hM.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],hM.propTypes={},hM.defaultProps={as:"form"},hM.Field=_P,hM.Button=CP,hM.Checkbox=IP,hM.Dropdown=XN,hM.Group=KN,hM.Input=ZN,hM.Radio=tM,hM.Select=sM,hM.TextArea=cM;const uM=hM;function dM(e){var n=e.children,i=e.className,r=e.content,o=qn("content",i),a=ni(dM,e),l=ii(dM,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}dM.handledProps=["as","children","className","content"],dM.propTypes={};const pM=dM;function fM(e){var n=e.children,i=e.className,r=e.content,o=qn("header",i),a=ni(fM,e),l=ii(fM,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}fM.handledProps=["as","children","className","content"],fM.propTypes={},fM.create=Oi(fM,(function(e){return{content:e}}));const gM=fM;function mM(e){var n=e.children,i=e.className,r=e.content,o=qn("content",i),a=ni(mM,e),l=ii(mM,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}mM.handledProps=["as","children","className","content"],mM.propTypes={},mM.defaultProps={as:"li"},mM.create=Oi(mM,(function(e){return{content:e}}));const vM=mM;function yM(e){var n=e.children,i=e.className,r=e.items,o=qn("list",i),a=ni(yM,e),l=ii(yM,e);return t.createElement(l,s({},a,{className:o}),ai(n)?An(r,vM.create):n)}yM.handledProps=["as","children","className","items"],yM.propTypes={},yM.defaultProps={as:"ul"},yM.create=Oi(yM,(function(e){return{items:e}}));const bM=yM;var wM=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.attached,r=e.children,o=e.className,a=e.color,l=e.compact,c=e.content,h=e.error,u=e.floating,d=e.header,p=e.hidden,f=e.icon,g=e.info,m=e.list,v=e.negative,y=e.onDismiss,b=e.positive,w=e.size,x=e.success,S=e.visible,k=e.warning,_=qn("ui",a,w,Kn(l,"compact"),Kn(h,"error"),Kn(u,"floating"),Kn(p,"hidden"),Kn(f,"icon"),Kn(g,"info"),Kn(v,"negative"),Kn(b,"positive"),Kn(x,"success"),Kn(S,"visible"),Kn(k,"warning"),Jn(i,"attached"),"message",o),T=y&&t.createElement(Hr,{name:"close",onClick:this.handleDismiss}),C=ni(n,this.props),E=ii(n,this.props);return ai(r)?t.createElement(E,s({},C,{className:_}),T,Hr.create(f,{autoGenerateKey:!1}),(!Ni(d)||!Ni(c)||!Ni(m))&&t.createElement(pM,null,gM.create(d,{autoGenerateKey:!1}),bM.create(m,{autoGenerateKey:!1}),ji(c,{autoGenerateKey:!1}))):t.createElement(E,s({},C,{className:_}),T,r)},n}(t.Component);wM.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],wM.propTypes={},wM.Content=pM,wM.Header=gM,wM.List=bM,wM.Item=vM;const xM=function(){const e=qs(),[n,i]=(0,t.useState)("register"),[r,s]=(0,t.useState)(""),[o,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[h,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1);return(0,PI.jsxs)(ZI,{children:[(0,PI.jsxs)(Kr,{widths:"2",children:[(0,PI.jsx)(Kr.Item,{active:"register"===n,onClick:()=>{c(""),i("register")},children:"\u8a3b\u518a"}),(0,PI.jsx)(Kr.Item,{active:"signin"===n,onClick:()=>{c(""),i("signin")},children:"\u767b\u5165"})]}),d?(0,PI.jsxs)(uM,{children:[(0,PI.jsx)("span",{children:"\u6211\u5011\u5c07\u6703\u5bc4\u4e00\u5c01\u4fee\u6539\u5bc6\u78bc\u4fe1\u4ef6\u7d66\u60a8\uff0c\u5c46\u6642\u8acb\u81f3\u60a8\u7684\u4fe1\u7bb1\u5167\u6536\u53d6\u3002"}),(0,PI.jsx)(uM.Input,{label:"\u8acb\u8f38\u5165\u60a8\u8a3b\u518a\u7684 Email",value:r,placeholder:"\u8acb\u8f38\u5165\u4fe1\u7bb1",onChange:e=>s(e.target.value)}),l&&(0,PI.jsx)(wM,{negative:!0,children:l}),(0,PI.jsx)(uM.Button,{onClick:function(){u(!0),II.auth().sendPasswordResetEmail(r).then((function(){g(!0),u(!1),setTimeout((()=>{g(!1),p(!1),i("signin")}),5e3)})).catch((function(e){handleFirebaseErrors(e),u(!1)}))},loading:h,children:"\u9001\u51fa"}),f&&(0,PI.jsx)(wM,{positive:!0,children:"\u4fe1\u4ef6\u5df2\u9001\u51fa\uff01\u8acb\u81f3\u60a8\u7684\u4fe1\u7bb1\u6536\u53d6\u4fee\u6539\u5bc6\u78bc\u4fe1\u4ef6\uff0c\u4e26\u5b8c\u6210\u4fee\u6539\u5bc6\u78bc\u52d5\u4f5c\u3002"})]}):(0,PI.jsxs)(uM,{onSubmit:function(){u(!0),"register"===n?II.auth().createUserWithEmailAndPassword(r,o).then((()=>{e("/my/settings"),alert("\u53ef\u4ee5\u5148\u4fee\u6539\u6703\u54e1\u540d\u7a31\u53ca\u7167\u7247\u54e6!"),u(!1)})).catch((e=>{switch(e.code){case"auth/email-already-in-use":c("\u4fe1\u7bb1\u5df2\u5b58\u5728");break;case"auth/invalid-email":c("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/weak-password":c("\u5bc6\u78bc\u7684\u6700\u5c0f\u9577\u5ea6\u70ba 6 \u500b\u5b57\u7b26")}u(!1)})):"signin"===n&&II.auth().signInWithEmailAndPassword(r,o).then((()=>{e("/posts"),u(!1)})).catch((e=>{switch(e.code){case"auth/user-not-found":c("\u4fe1\u7bb1\u4e0d\u5b58\u5728");break;case"auth/invalid-email":c("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/wrong-password":c("\u5bc6\u78bc\u932f\u8aa4")}u(!1)}))},children:[(0,PI.jsx)(uM.Input,{label:"\u4fe1\u7bb1",value:r,placeholder:"\u8acb\u8f38\u5165\u4fe1\u7bb1",onChange:e=>s(e.target.value)}),(0,PI.jsx)(uM.Input,{label:"\u5bc6\u78bc",value:o,placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",onChange:e=>a(e.target.value),type:"password"}),l&&(0,PI.jsx)(wM,{negative:!0,children:l}),"signin"===n&&(0,PI.jsx)(uM.Button,{basic:!0,color:"blue",size:"mini",onClick:()=>p(!0),children:"\u5fd8\u8a18\u5bc6\u78bc"}),(0,PI.jsxs)(uM.Button,{loading:h,children:["register"===n&&"\u8a3b\u518a","signin"===n&&"\u767b\u5165"]})]})]})};function SM(e){var n=e.children,i=e.className,r=e.content,o=qn("header",i),a=ni(SM,e),l=ii(SM,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}SM.handledProps=["as","children","className","content"],SM.propTypes={},SM.create=Oi(SM,(function(e){return{content:e}}));const kM=SM;function _M(e){var n=e.children,i=e.className,r=e.content,o=qn("description",i),a=ni(_M,e),l=ii(_M,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}_M.handledProps=["as","children","className","content"],_M.propTypes={},_M.create=Oi(_M,(function(e){return{content:e}}));const TM=_M;function CM(e){var n=e.children,i=e.className,r=e.content,o=qn("extra",i),a=ni(CM,e),l=ii(CM,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}CM.handledProps=["as","children","className","content"],CM.propTypes={},CM.create=Oi(CM,(function(e){return{content:e}}));const EM=CM;function IM(e){var n=e.children,i=e.className,r=e.content,o=qn("meta",i),a=ni(IM,e),l=ii(IM,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}IM.handledProps=["as","children","className","content"],IM.propTypes={},IM.create=Oi(IM,(function(e){return{content:e}}));const AM=IM;function PM(e){var n=e.children,i=e.className,r=e.content,o=e.description,a=e.extra,l=e.header,c=e.meta,h=e.verticalAlign,u=qn(ei(h),"content",i),d=ni(PM,e),p=ii(PM,e);return ai(n)?t.createElement(p,s({},d,{className:u}),kM.create(l,{autoGenerateKey:!1}),AM.create(c,{autoGenerateKey:!1}),TM.create(o,{autoGenerateKey:!1}),EM.create(a,{autoGenerateKey:!1}),r):t.createElement(p,s({},d,{className:u}),n)}PM.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],PM.propTypes={};const NM=PM;function MM(e){var n=e.children,i=e.className,r=e.content,o=e.divided,a=e.items,l=e.link,c=e.relaxed,h=e.unstackable,u=qn("ui",Kn(o,"divided"),Kn(l,"link"),Kn(h,"unstackable"),Jn(c,"relaxed"),"items",i),d=ni(MM,e),p=ii(MM,e);if(!ai(n))return t.createElement(p,s({},d,{className:u}),n);if(!ai(r))return t.createElement(p,s({},d,{className:u}),r);var f=An(a,(function(e){var n=e.childKey,i=eA(e,["childKey"]),r=null!=n?n:[i.content,i.description,i.header,i.meta].join("-");return t.createElement(jM,s({},i,{key:r}))}));return t.createElement(p,s({},d,{className:u}),f)}MM.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],MM.propTypes={};const OM=MM;function LM(e){var n=e.size,i=ni(LM,e);return t.createElement(tP,s({},i,{size:n,ui:!!n,wrapped:!0}))}LM.handledProps=["size"],LM.propTypes={},LM.create=Oi(LM,(function(e){return{src:e}}));const DM=LM;function RM(e){var n=e.children,i=e.className,r=e.content,o=e.description,a=e.extra,l=e.header,c=e.image,h=e.meta,u=qn("item",i),d=ni(RM,e),p=ii(RM,e);return ai(n)?t.createElement(p,s({},d,{className:u}),DM.create(c,{autoGenerateKey:!1}),t.createElement(NM,{content:r,description:o,extra:a,header:l,meta:h})):t.createElement(p,s({},d,{className:u}),n)}RM.handledProps=["as","children","className","content","description","extra","header","image","meta"],RM.Content=NM,RM.Description=TM,RM.Extra=EM,RM.Group=OM,RM.Header=kM,RM.Image=DM,RM.Meta=AM,RM.propTypes={};const jM=RM;function FM(e){var t;let{post:n}=e;return(0,PI.jsxs)(jM,{as:xo,to:"/posts/".concat(n.id),children:[(0,PI.jsx)(jM.Image,{src:n.imageUrl||"https://react.semantic-ui.com/images/wireframe/image.png"}),(0,PI.jsxs)(jM.Content,{children:[(0,PI.jsxs)(jM.Meta,{className:(e=>{switch(e){case"\u6a02\u6a02":return"joyful";case"\u6182\u6182":return"sadness";case"\u6012\u6012":return"angry";case"\u53ad\u53ad":return"disgusting";case"\u9a5a\u9a5a":return"afraid";default:return""}})(n.topic),children:[(0,PI.jsxs)("div",{className:"userInfo",children:[n.author.photoURL?(0,PI.jsx)(tP,{src:n.author.photoURL,avatar:!0}):(0,PI.jsx)(Hr,{name:"user circle"})," ",n.author.displayName||"\u4f7f\u7528\u8005"]}),(0,PI.jsxs)("div",{className:"emo",children:[n.topic," \u7a0b\u5ea6",n.level]})]}),(0,PI.jsx)(jM.Header,{children:n.title}),(0,PI.jsx)(jM.Description,{children:n.content}),(0,PI.jsxs)(jM.Extra,{children:["\u7559\u8a00 ",n.commentsCount||0," \u8b9a ",(null===(t=n.likedBy)||void 0===t?void 0:t.length)||0]})]})]})}var UM=!("undefined"===typeof window||!window.document||!window.document.createElement);var BM=void 0;function zM(){return void 0===BM&&(BM=function(){if(!UM)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(NL){}return e}()),BM}function VM(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function GM(e){this.target=e,this.events={}}GM.prototype.getEventHandlers=function(e,t){var n,i=String(e)+" "+String((n=t)?!0===n?100:(0|n.capture)+(n.passive<<1)+(n.once<<2):0);return this.events[i]||(this.events[i]={handlers:[],handleEvent:void 0},this.events[i].nextHandlers=this.events[i].handlers),this.events[i]},GM.prototype.handleEvent=function(e,t,n){var i=this.getEventHandlers(e,t);i.handlers=i.nextHandlers,i.handlers.forEach((function(e){e&&e(n)}))},GM.prototype.add=function(e,t,n){var i=this,r=this.getEventHandlers(e,n);VM(r),0===r.nextHandlers.length&&(r.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,r.handleEvent,n)),r.nextHandlers.push(t);var s=!0;return function(){if(s){s=!1,VM(r);var o=r.nextHandlers.indexOf(t);r.nextHandlers.splice(o,1),0===r.nextHandlers.length&&(i.target&&i.target.removeEventListener(e,r.handleEvent,n),r.handleEvent=void 0)}}};var HM="__consolidated_events_handlers__";function WM(e,t,n,i){e[HM]||(e[HM]=new GM(e));var r=function(e){if(e)return zM()?e:!!e.capture}(i);return e[HM].add(t,n,r)}var qM=n(705);function XM(e,t){var n,i=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"===typeof i)return i;var r=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"===typeof r?r*t:void 0}var YM="above",KM="inside",QM="below",JM="invisible";function $M(e){return"string"===typeof e.type}var ZM;var eO=[];function tO(e){eO.push(e),ZM||(ZM=setTimeout((function(){var e;for(ZM=null;e=eO.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=eO.indexOf(e);-1!==n&&(eO.splice(n,1),!eO.length&&ZM&&(clearTimeout(ZM),ZM=null))}}}var nO="undefined"!==typeof window,iO={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},rO=function(e){function i(t){var n;return(n=e.call(this,t)||this).refElement=function(e){n._ref=e},n}a(i,e);var r=i.prototype;return r.componentDidMount=function(){var e=this;nO&&(this.cancelOnNextTick=tO((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug;!function(e,t){if(e&&!$M(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=WM(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=WM(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))},r.componentDidUpdate=function(){var e=this;nO&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=tO((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))},r.componentWillUnmount=function(){nO&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())},r._findScrollableAncestor=function(){var e=this.props,t=e.horizontal,i=e.scrollableAncestor;if(i)return function(e){return"window"===e?n.g.window:e}(i);for(var r=this._ref;r.parentNode;){if((r=r.parentNode)===document.body)return window;var s=window.getComputedStyle(r),o=(t?s.getPropertyValue("overflow-x"):s.getPropertyValue("overflow-y"))||s.getPropertyValue("overflow");if("auto"===o||"scroll"===o||"overlay"===o)return r}return window},r._handleScroll=function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop===0?JM:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?KM:e.viewportBottom<e.waypointTop?QM:e.waypointTop<e.viewportTop?YM:JM}(t),i=this._previousPosition,r=this.props,s=(r.debug,r.onPositionChange),o=r.onEnter,a=r.onLeave,l=r.fireOnRapidScroll;if(this._previousPosition=n,i!==n){var c={currentPosition:n,previousPosition:i,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};s.call(this,c),n===KM?o.call(this,c):i===KM&&a.call(this,c),l&&(i===QM&&n===YM||i===YM&&n===QM)&&(o.call(this,{currentPosition:KM,previousPosition:i,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),a.call(this,{currentPosition:n,previousPosition:KM,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}},r._getBounds=function(){var e,t,n=this.props,i=n.horizontal,r=(n.debug,this._ref.getBoundingClientRect()),s=r.left,o=r.top,a=r.right,l=r.bottom,c=i?s:o,h=i?a:l;this.scrollableAncestor===window?(e=i?window.innerWidth:window.innerHeight,t=0):(e=i?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=i?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var u=this.props,d=u.bottomOffset;return{waypointTop:c,waypointBottom:h,viewportTop:t+XM(u.topOffset,e),viewportBottom:t+e-XM(d,e)}},r.render=function(){var e=this,n=this.props.children;if(!n)return t.createElement("span",{ref:this.refElement,style:{fontSize:0}});if($M(n)||(0,qM.isForwardRef)(n)){return t.cloneElement(n,{ref:function(t){e.refElement(t),n.ref&&("function"===typeof n.ref?n.ref(t):n.ref.current=t)}})}return t.cloneElement(n,{innerRef:this.refElement})},i}(t.PureComponent);rO.above=YM,rO.below=QM,rO.inside=KM,rO.invisible=JM,rO.defaultProps=iO,rO.displayName="Waypoint";const sO=function(){const e=Hs(),n=new URLSearchParams(e.search).get("topic"),[i,r]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1),a=(0,t.useRef)(null);return(0,t.useEffect)((()=>{(()=>{let e=II.firestore().collection("posts").orderBy("createdAt","desc").limit(5);n&&(e=e.where("topic","==",n)),e.get().then((e=>{const t=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));a.current=e.docs[e.docs.length-1],r(t)})).catch((e=>{console.error("Error fetching posts: ",e)}))})()}),[n]),(0,PI.jsxs)(PI.Fragment,{children:[(0,PI.jsx)(jM.Group,{children:i.map((e=>(0,PI.jsx)(FM,{post:e},e.id)))}),(0,PI.jsx)(rO,{onEnter:()=>{if(s||!a.current)return;o(!0);let e=II.firestore().collection("posts").orderBy("createdAt","desc").startAfter(a.current).limit(5);n&&(e=e.where("topic","==",n)),e.get().then((e=>{const t=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));e.docs.length>0&&(a.current=e.docs[e.docs.length-1]),r((e=>[...e,...t])),o(!1)})).catch((e=>{console.error("Error loading more posts: ",e),o(!1)}))}}),s&&(0,PI.jsx)("div",{children:"\u8f09\u5165\u4e2d..."})]})};const oO=function(){const e=qs(),[n,i]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[o,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(""),[h,u]=(0,t.useState)([]),[d,p]=(0,t.useState)(""),[f,g]=(0,t.useState)(null),[m,v]=(0,t.useState)(!1);(0,t.useEffect)((()=>{II.firestore().collection("topics").get().then((e=>{const t=e.docs.map((e=>e.data()));a(t)})),II.firestore().collection("level").get().then((e=>{const t=e.docs.map((e=>e.data()));u(t)}))}),[]);const y=o.map((e=>({text:e.name,value:e.name}))),b=h.map((e=>({text:e.name,value:e.name}))),w=f?URL.createObjectURL(f):"https://react.semantic-ui.com/images/wireframe/image.png";function x(t,i){t.set({title:n,content:r,topic:l,level:d,createdAt:II.firestore.Timestamp.now(),author:{displayName:II.auth().currentUser.displayName||"",photoURL:II.auth().currentUser.photoURL||"",uid:II.auth().currentUser.uid,email:II.auth().currentUser.email},imageUrl:i||""}).then((()=>{v(!1),e("/posts")})).catch((e=>{console.error("Error saving post: ",e),v(!1)}))}return(0,PI.jsxs)(ZI,{children:[(0,PI.jsx)("h2",{className:"heading-secondary",children:"\u5206\u4eab\u60c5\u7dd2"}),(0,PI.jsxs)(uM,{onSubmit:function(){v(!0);const e=II.firestore().collection("posts").doc();if(!f)return void x(e,null);const t=II.storage().ref("post-images/"+e.id),n={contentType:f.type};t.put(f,n).then((()=>t.getDownloadURL())).then((t=>{x(e,t)})).catch((e=>{console.error("Error uploading image: ",e),v(!1)}))},children:[(0,PI.jsx)(tP,{src:w,size:"small",floated:"left"}),(0,PI.jsx)(fP,{basic:!0,as:"label",htmlFor:"post-image",className:"post-image",children:"\u4e0a\u50b3\u5716\u7247"}),(0,PI.jsx)(uM.Input,{type:"file",id:"post-image",style:{display:"none"},onChange:e=>g(e.target.files[0])}),(0,PI.jsxs)("div",{className:"form__group",children:[(0,PI.jsx)("input",{placeholder:"\u8f38\u5165\u6a19\u984c",value:n,onChange:e=>i(e.target.value),id:"title",className:"form__input"}),(0,PI.jsx)("label",{htmlFor:"title",class:"form__label",children:"\u8f38\u5165\u6a19\u984c"})]}),(0,PI.jsxs)("div",{className:"form__group",children:[(0,PI.jsx)("textarea",{placeholder:"\u8f38\u5165\u4e8b\u4ef6\u5167\u5bb9",value:r,onChange:e=>s(e.target.value),id:"content",className:"form__input"}),(0,PI.jsx)("label",{htmlFor:"content",class:"form__label",children:"\u8f38\u5165\u4e8b\u4ef6\u5167\u5bb9"})]}),(0,PI.jsx)(uM.Dropdown,{placeholder:"\u9078\u64c7\u60c5\u7dd2\u4e3b\u984c",options:y,selection:!0,value:l,onChange:(e,t)=>{let{value:n}=t;return c(n)},id:"topicName",className:"form__input"}),(0,PI.jsx)("label",{htmlFor:"topicName",class:"form__label",children:"\u9078\u64c7\u60c5\u7dd2\u4e3b\u984c"}),(0,PI.jsx)(uM.Dropdown,{placeholder:"\u9078\u64c7\u60c5\u7dd2\u5206\u7d1a",options:b,selection:!0,value:d,onChange:(e,t)=>{let{value:n}=t;return p(n)},id:"levelOptions",className:"form__input"}),(0,PI.jsx)("label",{htmlFor:"levelOptions",class:"form__label",children:"\u9078\u64c7\u60c5\u7dd2\u5206\u7d1a"}),(0,PI.jsx)("button",{loading:m,className:"btn btn--green",children:"\u9001\u51fa"})]})]})};function aO(e){var n=e.children,i=e.className,r=e.content,o=qn("sub header",i),a=ni(aO,e),l=ii(aO,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}aO.handledProps=["as","children","className","content"],aO.propTypes={},aO.create=Oi(aO,(function(e){return{content:e}}));const lO=aO;function cO(e){var n=e.children,i=e.className,r=e.content,o=qn("content",i),a=ni(cO,e),l=ii(cO,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}cO.handledProps=["as","children","className","content"],cO.propTypes={};const hO=cO;function uO(e){var n=e.attached,i=e.block,r=e.children,o=e.className,a=e.color,l=e.content,c=e.disabled,h=e.dividing,u=e.floated,d=e.icon,p=e.image,f=e.inverted,g=e.size,m=e.sub,v=e.subheader,y=e.textAlign,b=qn("ui",a,g,Kn(i,"block"),Kn(c,"disabled"),Kn(h,"dividing"),Qn(u,"floated"),Kn(!0===d,"icon"),Kn(!0===p,"image"),Kn(f,"inverted"),Kn(m,"sub"),Jn(n,"attached"),Zn(y),"header",o),w=ni(uO,e),x=ii(uO,e);if(!ai(r))return t.createElement(x,s({},w,{className:b}),r);var S=Hr.create(d,{autoGenerateKey:!1}),k=tP.create(p,{autoGenerateKey:!1}),_=lO.create(v,{autoGenerateKey:!1});return S||k?t.createElement(x,s({},w,{className:b}),S||k,(l||_)&&t.createElement(hO,null,l,_)):t.createElement(x,s({},w,{className:b}),l,_)}uO.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],uO.propTypes={},uO.Content=hO,uO.Subheader=lO;const dO=uO;function pO(e){var n=e.children,i=e.className,r=e.compact,o=e.content,a=e.horizontal,l=e.piled,c=e.raised,h=e.size,u=e.stacked,d=qn("ui",h,Kn(r,"compact"),Kn(a,"horizontal"),Kn(l,"piled"),Kn(c,"raised"),Kn(u,"stacked"),"segments",i),p=ni(pO,e),f=ii(pO,e);return t.createElement(f,s({},p,{className:d}),ai(n)?o:n)}pO.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],pO.propTypes={};const fO=pO;function gO(e){var n=e.children,i=e.className,r=e.content,o=qn("inline",i),a=ni(gO,e),l=ii(gO,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}gO.handledProps=["as","children","className","content"],gO.propTypes={};const mO=gO;function vO(e){var n=e.attached,i=e.basic,r=e.children,o=e.circular,a=e.className,l=e.clearing,c=e.color,h=e.compact,u=e.content,d=e.disabled,p=e.floated,f=e.inverted,g=e.loading,m=e.placeholder,v=e.padded,y=e.piled,b=e.raised,w=e.secondary,x=e.size,S=e.stacked,k=e.tertiary,_=e.textAlign,T=e.vertical,C=qn("ui",c,x,Kn(i,"basic"),Kn(o,"circular"),Kn(l,"clearing"),Kn(h,"compact"),Kn(d,"disabled"),Kn(f,"inverted"),Kn(g,"loading"),Kn(m,"placeholder"),Kn(y,"piled"),Kn(b,"raised"),Kn(w,"secondary"),Kn(S,"stacked"),Kn(k,"tertiary"),Kn(T,"vertical"),Jn(n,"attached"),Jn(v,"padded"),Zn(_),Qn(p,"floated"),"segment",a),E=ni(vO,e),I=ii(vO,e);return t.createElement(I,s({},E,{className:C}),ai(r)?u:r)}vO.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],vO.Group=fO,vO.Inline=mO,vO.propTypes={};const yO=vO;function bO(e){var n=e.active,i=e.className,r=e.children,o=e.content,a=qn(Kn(n,"active"),i),l=ni(bO,e),c=ii(bO,e);return t.createElement(c,s({},l,{className:a}),ai(r)?o:r)}bO.handledProps=["active","as","children","className","content"],bO.defaultProps={as:"a"},bO.propTypes={};const wO=bO;function xO(e){var n=e.className,i=e.children,r=e.content,o=qn("actions",n),a=ni(xO,e),l=ii(xO,e);return t.createElement(l,s({},a,{className:o}),ai(i)?r:i)}xO.handledProps=["as","children","className","content"],xO.propTypes={};const SO=xO;function kO(e){var n=e.className,i=e.children,r=e.content,o=qn("author",n),a=ni(kO,e),l=ii(kO,e);return t.createElement(l,s({},a,{className:o}),ai(i)?r:i)}kO.handledProps=["as","children","className","content"],kO.propTypes={};const _O=kO;function TO(e){var n=e.className,i=e.src,r=qn("avatar",n),o=ni(TO,e),a=PA(o,{htmlProps:AA}),l=a[0],c=a[1],h=ii(TO,e);return t.createElement(h,s({},c,{className:r}),Li(i,{autoGenerateKey:!1,defaultProps:l}))}TO.handledProps=["as","className","src"],TO.propTypes={};const CO=TO;function EO(e){var n=e.className,i=e.children,r=e.content,o=qn(n,"content"),a=ni(EO,e),l=ii(EO,e);return t.createElement(l,s({},a,{className:o}),ai(i)?r:i)}EO.handledProps=["as","children","className","content"],EO.propTypes={};const IO=EO;function AO(e){var n=e.className,i=e.children,r=e.collapsed,o=e.content,a=e.minimal,l=e.size,c=e.threaded,h=qn("ui",l,Kn(r,"collapsed"),Kn(a,"minimal"),Kn(c,"threaded"),"comments",n),u=ni(AO,e),d=ii(AO,e);return t.createElement(d,s({},u,{className:h}),ai(i)?o:i)}AO.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],AO.propTypes={};const PO=AO;function NO(e){var n=e.className,i=e.children,r=e.content,o=qn("metadata",n),a=ni(NO,e),l=ii(NO,e);return t.createElement(l,s({},a,{className:o}),ai(i)?r:i)}NO.handledProps=["as","children","className","content"],NO.propTypes={};const MO=NO;function OO(e){var n=e.className,i=e.children,r=e.content,o=qn(n,"text"),a=ni(OO,e),l=ii(OO,e);return t.createElement(l,s({},a,{className:o}),ai(i)?r:i)}OO.handledProps=["as","children","className","content"],OO.propTypes={};const LO=OO;function DO(e){var n=e.className,i=e.children,r=e.collapsed,o=e.content,a=qn(Kn(r,"collapsed"),"comment",n),l=ni(DO,e),c=ii(DO,e);return t.createElement(c,s({},l,{className:a}),ai(i)?o:i)}DO.handledProps=["as","children","className","collapsed","content"],DO.propTypes={},DO.Author=_O,DO.Action=wO,DO.Actions=SO,DO.Avatar=CO,DO.Content=IO,DO.Group=PO,DO.Metadata=MO,DO.Text=LO;const RO=DO;function jO(){var e,n,i,r;const{postId:s}=function(){let{matches:e}=t.useContext(zs),n=e[e.length-1];return n?n.params:{}}(),[o,a]=(0,t.useState)({author:{}}),[l,c]=(0,t.useState)(""),[h,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)([]),f=qs();function g(e,t){const n=II.auth().currentUser.uid;II.firestore().collection("posts").doc(s).update({[t]:e?II.firestore.FieldValue.arrayRemove(n):II.firestore.FieldValue.arrayUnion(n)})}(0,t.useEffect)((()=>{II.firestore().collection("posts").doc(s).onSnapshot((e=>{const t=e.data();a(t)}))}),[]),(0,t.useEffect)((()=>{II.firestore().collection("posts").doc(s).collection("comments").orderBy("createdAt","desc").onSnapshot((e=>{const t=e.docs.map((e=>e.data()));p(t)}))}),[]);const m=null===(e=o.collectedBy)||void 0===e?void 0:e.includes(II.auth().currentUser.uid),v=null===(n=o.likedBy)||void 0===n?void 0:n.includes(II.auth().currentUser.uid);return(0,PI.jsxs)(PI.Fragment,{children:[o.author.photoURL?(0,PI.jsx)(tP,{src:o.author.photoURL,avatar:!0}):(0,PI.jsx)(Hr,{name:"user circle"}),o.author.displayName||"\u4f7f\u7528\u8005",(0,PI.jsxs)(dO,{children:[o.title,(0,PI.jsxs)(dO.Subheader,{children:[o.topic," .\u7a0b\u5ea6",o.level," .",null===(i=o.createdAt)||void 0===i?void 0:i.toDate().toLocaleDateString()]})]}),(0,PI.jsx)(tP,{src:o.imageUrl}),(0,PI.jsx)(yO,{basic:!0,vertical:!0,style:{fontSize:"1.5rem"},children:o.content}),(0,PI.jsxs)(yO,{basic:!0,vertical:!0,children:["\u7559\u8a00 ",o.commentsCount||0,"\uff0e\u8b9a ",(null===(r=o.likedBy)||void 0===r?void 0:r.length)||0,"\uff0e",(0,PI.jsx)(Hr,{name:"thumbs up".concat(v?"":" outline"),color:v?"yellow":"grey",link:!0,onClick:()=>g(v,"likedBy")}),"\uff0e",(0,PI.jsx)(Hr,{name:"bookmark".concat(m?"":" outline"),color:m?"blue":"grey",link:!0,onClick:()=>g(m,"collectedBy")})]}),(0,PI.jsxs)(RO.Group,{children:[(0,PI.jsxs)(uM,{reply:!0,children:[(0,PI.jsx)(uM.TextArea,{value:l,onChange:e=>c(e.target.value)}),(0,PI.jsx)(uM.Button,{onClick:function(){u(!0);const e=II.firestore(),t=e.batch(),n=e.collection("posts").doc(s);t.update(n,{commentsCount:II.firestore.FieldValue.increment(1)});const i=n.collection("comments").doc();t.set(i,{content:l,createdAt:II.firestore.Timestamp.now(),author:{uid:II.auth().currentUser.uid,displayName:II.auth().currentUser.displayName||"",photoURL:II.auth().currentUser.photoURL||""}}),t.commit().then((()=>{c(""),u(!1)}))},loading:h,children:"\u7559\u8a00"})]}),(0,PI.jsxs)(dO,{children:["\u5171 ",o.commentsCount||0," \u5247\u7559\u8a00"]}),d.map((e=>(0,PI.jsxs)(RO,{children:[(0,PI.jsx)(RO.Avatar,{src:e.author.photoURL}),(0,PI.jsxs)(RO.Content,{children:[(0,PI.jsx)(RO.Author,{as:"span",children:e.author.displayName||"\u4f7f\u7528\u8005"}),(0,PI.jsx)(RO.Metadata,{children:e.createdAt.toDate().toLocaleString()}),(0,PI.jsx)(RO.Text,{children:e.content})]})]},o.id)))]}),(0,PI.jsx)(uM.Button,{onClick:()=>f("/posts"),children:"\u56de\u524d\u9801"})]})}const FO=function(){const[e,n]=(0,t.useState)([]);(0,t.useEffect)((()=>{i()}),[]);const i=()=>{II.firestore().collection("posts").where("author.uid","==",II.auth().currentUser.uid).get().then((e=>{const t=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));n(t)}))};return(0,PI.jsxs)(PI.Fragment,{children:[(0,PI.jsx)(dO,{children:"\u6211\u7684\u6587\u7ae0"}),(0,PI.jsx)(jM.Group,{children:e.map((i=>(0,PI.jsxs)(t.Fragment,{children:[(0,PI.jsx)(FM,{post:i}),(0,PI.jsx)(fP,{negative:!0,onClick:()=>(async t=>{try{const i=II.firestore().collection("posts").doc(t);if(console.log("Document reference:",i),!window.confirm("\u78ba\u5b9a\u8981\u522a\u9664\u6587\u7ae0\u55ce?"))return void console.log("\u522a\u9664\u5df2\u53d6\u6d88");await i.delete(),console.log("Post deleted successfully"),n(e.filter((e=>e.id!==t)))}catch(i){console.error("\u522a\u9664\u6587\u7ae0\u6642\u767c\u751f\u932f\u8aa4:",i)}})(i.id),children:"\u522a\u9664\u6587\u7ae0"})]},i.id)))})]})};const UO=function(){const[e,n]=(0,t.useState)([]);return(0,t.useEffect)((()=>{II.firestore().collection("posts").where("collectedBy","array-contains",II.auth().currentUser.uid).get().then((e=>{const t=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));n(t)}))}),[]),(0,PI.jsxs)(PI.Fragment,{children:[(0,PI.jsx)(dO,{children:"\u6211\u7684\u6536\u85cf"}),(0,PI.jsx)(jM.Group,{children:e.map((e=>(0,PI.jsx)(FM,{post:e},e.id)))})]})},BO=LA.instance;var zO=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleButtonOverrides=function(e){return{onClick:function(n,i){Hn(e,"onClick",n,i),Hn(t.props,"onActionClick",n,i)}}},t}return a(n,e),n.prototype.render=function(){var e=this,i=this.props,r=i.actions,o=i.children,a=i.className,l=i.content,c=qn("actions",a),h=ni(n,this.props),u=ii(n,this.props);return ai(o)?ai(l)?t.createElement(u,s({},h,{className:c}),An(r,(function(t){return fP.create(t,{overrideProps:e.handleButtonOverrides})}))):t.createElement(u,s({},h,{className:c}),l):t.createElement(u,s({},h,{className:c}),o)},n}(t.Component);function VO(e){var n=e.children,i=e.className,r=e.content,o=e.image,a=e.scrolling,l=qn(i,Kn(o,"image"),Kn(a,"scrolling"),"content"),c=ni(VO,e),h=ii(VO,e);return t.createElement(h,s({},c,{className:l}),ai(n)?r:n)}zO.handledProps=["actions","as","children","className","content","onActionClick"],zO.propTypes={},zO.create=Oi(zO,(function(e){return{actions:e}})),VO.handledProps=["as","children","className","content","image","scrolling"],VO.propTypes={},VO.create=Oi(VO,(function(e){return{content:e}}));const GO=VO;function HO(e){var n=e.children,i=e.className,r=e.content,o=qn("description",i),a=ni(HO,e),l=ii(HO,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}HO.handledProps=["as","children","className","content"],HO.propTypes={};const WO=HO;const qO=OA()?t.useLayoutEffect:t.useEffect;var XO=/\s+/;var YO=new Map,KO=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(XO).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),i=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(YO.get(e)||[],n),r=i[0],s=i[1];e&&(r.forEach((function(t){return e.classList.add(t)})),s.forEach((function(t){return e.classList.remove(t)}))),YO.set(e,n)},QO=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var i=new Set;i.add(n),e.nodes.set(t,i)}},this.del=function(t,n){if(e.nodes.has(t)){var i=e.nodes.get(t);1!==i.size?i.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function JO(e){var n=e.blurring,i=e.children,r=e.className,o=e.centered,a=e.content,l=e.inverted,c=e.mountNode,h=e.scrolling,u=t.useRef(),d=qn("ui",Kn(l,"inverted"),Kn(!o,"top aligned"),"page modals dimmer transition visible active",r),p=qn("dimmable dimmed",Kn(n,"blurring"),Kn(h,"scrolling")),f=ni(JO,e),g=ii(JO,e);return function(e,n){var i=t.useRef(),r=t.useRef(!1);qO((function(){if(i.current=n,r.current){var t=iA(e)?e.current:e;QO.emit(t,KO)}r.current=!0}),[n]),qO((function(){var t=iA(e)?e.current:e;return QO.add(t,i),QO.emit(t,KO),function(){QO.del(t,i),QO.emit(t,KO)}}),[e])}(c,p),t.useEffect((function(){u.current&&u.current.style&&u.current.style.setProperty("display","flex","important")}),[]),t.createElement(aA,{innerRef:u},t.createElement(g,s({},f,{className:d}),ai(i)?a:i))}JO.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],JO.propTypes={},JO.create=Oi(JO,(function(e){return{content:e}}));const $O=JO;function ZO(e){var n=e.children,i=e.className,r=e.content,o=qn("header",i),a=ni(ZO,e),l=ii(ZO,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}ZO.handledProps=["as","children","className","content"],ZO.propTypes={},ZO.create=Oi(ZO,(function(e){return{content:e}}));const eL=ZO;var tL=function(e){function n(){for(var i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(i=e.call.apply(e,[this].concat(o))||this).legacy=OA()&&!window.ActiveXObject&&"ActiveXObject"in window,i.ref=(0,t.createRef)(),i.dimmerRef=(0,t.createRef)(),i.latestDocumentMouseDownEvent=null,i.getMountNode=function(){return OA()?i.props.mountNode||document.body:null},i.handleActionsOverrides=function(e){return{onActionClick:function(t,n){Hn(e,"onActionClick",t,n),Hn(i.props,"onActionClick",t,i.props),i.handleClose(t)}}},i.handleClose=function(e){i.setState({open:!1}),Hn(i.props,"onClose",e,s({},i.props,{open:!1}))},i.handleDocumentMouseDown=function(e){i.latestDocumentMouseDownEvent=e},i.handleDocumentClick=function(e){var t=i.props.closeOnDimmerClick,n=i.latestDocumentMouseDownEvent;i.latestDocumentMouseDownEvent=null,!t||GA(i.ref.current,n)||GA(i.ref.current,e)||(i.setState({open:!1}),Hn(i.props,"onClose",e,s({},i.props,{open:!1})))},i.handleIconOverrides=function(e){return{onClick:function(t){Hn(e,"onClick",t),i.handleClose(t)}}},i.handleOpen=function(e){Hn(i.props,"onOpen",e,s({},i.props,{open:!0})),i.setState({open:!0})},i.handlePortalMount=function(e){var t=i.props.eventPool;i.setState({scrolling:!1}),i.setPositionAndClassNames(),BO.sub("mousedown",i.handleDocumentMouseDown,{pool:t,target:i.dimmerRef.current}),BO.sub("click",i.handleDocumentClick,{pool:t,target:i.dimmerRef.current}),Hn(i.props,"onMount",e,i.props)},i.handlePortalUnmount=function(e){var t=i.props.eventPool;cancelAnimationFrame(i.animationRequestId),BO.unsub("mousedown",i.handleDocumentMouseDown,{pool:t,target:i.dimmerRef.current}),BO.unsub("click",i.handleDocumentClick,{pool:t,target:i.dimmerRef.current}),Hn(i.props,"onUnmount",e,i.props)},i.setPositionAndClassNames=function(){var e,t=i.props.centered,n={};if(i.ref.current){var r=i.ref.current.getBoundingClientRect(),s=function(e){var t=e.height+0,n=e.height+0,i=window.innerHeight;return i/2+-n/2+t+50<i}(r);e=!s;var o=i.legacy?function(e,t,n){var i=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:i}}(s,t,r):{};yN()(i.state.legacyStyles,o)||(n.legacyStyles=o),i.state.scrolling!==e&&(n.scrolling=e)}GP(n)||i.setState(n),i.animationRequestId=requestAnimationFrame(i.setPositionAndClassNames)},i.renderContent=function(e){var r=i.props,o=r.actions,a=r.basic,l=r.children,c=r.className,h=r.closeIcon,u=r.content,d=r.header,p=r.size,f=r.style,g=i.state,m=g.legacyStyles,v=g.scrolling,y=qn("ui",p,Kn(a,"basic"),Kn(i.legacy,"legacy"),Kn(v,"scrolling"),"modal transition visible active",c),b=ii(n,i.props),w=!0===h?"close":h,x=Hr.create(w,{overrideProps:i.handleIconOverrides});return t.createElement(aA,{innerRef:i.ref},t.createElement(b,s({},e,{className:y,style:s({},m,f)}),x,ai(l)?t.createElement(t.Fragment,null,eL.create(d,{autoGenerateKey:!1}),GO.create(u,{autoGenerateKey:!1}),zO.create(o,{overrideProps:i.handleActionsOverrides})):l))},i}a(n,e);var i=n.prototype;return i.componentWillUnmount=function(){this.handlePortalUnmount()},i.render=function(){var e=this.props,i=e.centered,r=e.closeOnDocumentClick,o=e.dimmer,a=e.eventPool,l=e.trigger,c=this.state,h=c.open,u=c.scrolling,d=this.getMountNode();if(!OA())return(0,t.isValidElement)(l)?l:null;var p=ni(n,this.props),f=XA.handledProps,g=BN(p,(function(e,t,n){return kA(f,n)||(e[n]=t),e}),{}),m=mN(p,f);return t.createElement(XA,s({closeOnDocumentClick:r},m,{trigger:l,eventPool:a,mountNode:d,open:h,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),t.createElement(aA,{innerRef:this.dimmerRef},$O.create(Ei(o)?o:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===o,inverted:"inverted"===o},overrideProps:{children:this.renderContent(g),centered:i,mountNode:d,scrolling:u}})))},n}(ci);tL.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],tL.propTypes={},tL.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},tL.autoControlledProps=["open"],tL.Actions=zO,tL.Content=GO,tL.Description=WO,tL.Dimmer=$O,tL.Header=eL;const nL=tL;function iL(e){let{user:n}=e;const[i,r]=(0,t.useState)(!1),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(!1);return(0,PI.jsxs)(PI.Fragment,{children:[(0,PI.jsxs)(dO,{size:"small",children:["\u6703\u54e1\u540d\u7a31",(0,PI.jsx)(fP,{floated:"right",onClick:()=>r(!0),children:"\u4fee\u6539"})]}),(0,PI.jsx)(yO,{vertical:!0,children:n.displayName}),(0,PI.jsxs)(nL,{open:i,size:"mini",children:[(0,PI.jsx)(nL.Header,{children:"\u4fee\u6539\u6703\u54e1\u540d\u7a31"}),(0,PI.jsx)(nL.Content,{children:(0,PI.jsx)(JN,{placeholder:"\u8acb\u8f38\u5165\u6703\u54e1\u540d\u7a31",value:s,onChange:e=>o(e.target.value),fluid:!0})}),(0,PI.jsxs)(nL.Actions,{children:[(0,PI.jsx)(fP,{onClick:()=>r(!1),children:"\u53d6\u6d88"}),(0,PI.jsx)(fP,{onClick:function(){l(!0),n.updateProfile({displayName:s}).then((()=>{l(!1),o(""),r(!1)}))},loading:a,children:"\u4fee\u6539"})]})]})]})}function rL(e){let{user:n}=e;const[i,r]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(null),c=a?URL.createObjectURL(a):n.photoURL;return(0,PI.jsxs)(PI.Fragment,{children:[(0,PI.jsxs)(dO,{size:"small",children:["\u6703\u54e1\u7167\u7247",(0,PI.jsx)(fP,{floated:"right",onClick:()=>r(!0),children:"\u4fee\u6539"})]}),(0,PI.jsx)(yO,{vertical:!0,children:(0,PI.jsx)(tP,{src:c,avatar:!0})}),(0,PI.jsxs)(nL,{open:i,size:"mini",children:[(0,PI.jsx)(nL.Header,{children:"\u4fee\u6539\u6703\u54e1\u7167\u7247"}),(0,PI.jsxs)(nL.Content,{image:!0,children:[(0,PI.jsx)(tP,{src:c,avatar:!0,wrapped:!0}),(0,PI.jsxs)(nL.Description,{children:[(0,PI.jsx)(fP,{as:"label",htmlFor:"post-image",children:"\u4e0a\u50b3"}),(0,PI.jsx)(JN,{type:"file",id:"post-image",style:{display:"none"},onChange:e=>l(e.target.files[0])})]})]}),(0,PI.jsxs)(nL.Actions,{children:[(0,PI.jsx)(fP,{onClick:()=>r(!1),children:"\u53d6\u6d88"}),(0,PI.jsx)(fP,{loading:s,onClick:function(){o(!0);const e=II.storage().ref("user-photos/"+n.uid),t={contentType:a.type};e.put(a,t).then((()=>{e.getDownloadURL().then((e=>{n.updateProfile({photoURL:e}).then((()=>{o(!1),l(null),r(!1)}))}))}))},children:"\u4fee\u6539"})]})]})]})}function sL(e){let{user:n}=e;const[i,r]=(0,t.useState)(!1),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,h]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[p,f]=(0,t.useState)("");function g(e){return e.length<6?"\u5bc6\u78bc\u81f3\u5c116\u500b\u5b57\u5143":""}return(0,PI.jsxs)(PI.Fragment,{children:[(0,PI.jsxs)(dO,{size:"small",children:["\u6703\u54e1\u5bc6\u78bc",(0,PI.jsx)(fP,{floated:"right",onClick:()=>r(!0),children:"\u4fee\u6539"})]}),(0,PI.jsx)(yO,{vertical:!0,children:"******"}),(0,PI.jsxs)(nL,{open:i,size:"mini",children:[(0,PI.jsx)(nL.Header,{children:"\u4fee\u6539\u6703\u54e1\u5bc6\u78bc"}),(0,PI.jsxs)(nL.Content,{children:[(0,PI.jsx)(dO,{size:"small",children:"\u76ee\u524d\u5bc6\u78bc"}),(0,PI.jsx)(JN,{placeholder:"\u8acb\u8f38\u5165\u820a\u5bc6\u78bc",value:s,onChange:e=>o(e.target.value),fluid:!0}),(0,PI.jsx)(dO,{size:"small",children:"\u65b0\u5bc6\u78bc"}),(0,PI.jsx)(JN,{placeholder:"\u8acb\u8f38\u5165\u65b0\u5bc6\u78bc",value:a,onChange:e=>{l(e.target.value),f(g(e.target.value))},fluid:!0}),p&&(0,PI.jsx)(wM,{warning:!0,content:p}),u&&(0,PI.jsx)(wM,{negative:!0,content:u})]}),(0,PI.jsxs)(nL.Actions,{children:[(0,PI.jsx)(fP,{onClick:()=>r(!1),children:"\u53d6\u6d88"}),(0,PI.jsx)(fP,{onClick:function(){d(""),h(!0);const e=g(a);if(e)return h(!1),void d(e);const t=II.auth.EmailAuthProvider.credential(n.email,s);n.reauthenticateWithCredential(t).then((()=>{n.updatePassword(a).then((()=>{h(!1),r(!1),o(""),l(""),f("")})).catch((e=>{h(!1),d("\u7121\u6cd5\u66f4\u65b0\u5bc6\u78bc\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66")}))})).catch((e=>{h(!1),d("\u539f\u5bc6\u78bc\u8f38\u5165\u932f\u8aa4\uff0c\u8acb\u91cd\u65b0\u8f38\u5165")}))},loading:c,children:"\u4fee\u6539"})]})]})]})}function oL(e){let{user:t}=e;return(0,PI.jsxs)(PI.Fragment,{children:[(0,PI.jsx)(dO,{children:"\u6703\u54e1\u8cc7\u6599"}),(0,PI.jsx)(iL,{user:t}),(0,PI.jsx)(rL,{user:t}),(0,PI.jsx)(sL,{user:t})]})}function aL(e){var n=e.children,i=e.className,r=e.content,o=qn(i,"description"),a=ni(aL,e),l=ii(aL,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}aL.handledProps=["as","children","className","content"],aL.propTypes={},aL.create=Oi(aL,(function(e){return{content:e}}));const lL=aL;function cL(e){var n=e.children,i=e.className,r=e.content,o=qn("header",i),a=ni(cL,e),l=ii(cL,e);return t.createElement(l,s({},a,{className:o}),ai(n)?r:n)}cL.handledProps=["as","children","className","content"],cL.propTypes={},cL.create=Oi(cL,(function(e){return{content:e}}));const hL=cL;function uL(e){var n=e.children,i=e.className,r=e.content,o=e.description,a=e.floated,l=e.header,c=e.verticalAlign,h=qn(Qn(a,"floated"),ei(c),"content",i),u=ni(uL,e),d=ii(uL,e);return ai(n)?t.createElement(d,s({},u,{className:h}),hL.create(l),lL.create(o),r):t.createElement(d,s({},u,{className:h}),n)}uL.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],uL.propTypes={},uL.create=Oi(uL,(function(e){return{content:e}}));const dL=uL;function pL(e){var n=e.className,i=e.verticalAlign,r=qn(ei(i),n),o=ni(pL,e);return t.createElement(Hr,s({},o,{className:r}))}pL.handledProps=["className","verticalAlign"],pL.propTypes={},pL.create=Oi(pL,(function(e){return{name:e}}));const fL=pL;var gL=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleClick=function(e){t.props.disabled||Hn(t.props,"onClick",e,t.props)},t}return a(n,e),n.prototype.render=function(){var e=this.props,i=e.active,r=e.children,o=e.className,a=e.content,l=e.description,c=e.disabled,h=e.header,u=e.icon,d=e.image,p=e.value,f=ii(n,this.props),g=qn(Kn(i,"active"),Kn(c,"disabled"),Kn("li"!==f,"item"),o),m=ni(n,this.props),v="li"===f?{value:p}:{"data-value":p};if(!ai(r))return t.createElement(f,s({},v,{role:"listitem",className:g,onClick:this.handleClick},m),r);var y=fL.create(u,{autoGenerateKey:!1}),b=tP.create(d,{autoGenerateKey:!1});if(!(0,t.isValidElement)(a)&&Ei(a))return t.createElement(f,s({},v,{role:"listitem",className:g,onClick:this.handleClick},m),y||b,dL.create(a,{autoGenerateKey:!1,defaultProps:{header:h,description:l}}));var w=hL.create(h,{autoGenerateKey:!1}),x=lL.create(l,{autoGenerateKey:!1});return y||b?t.createElement(f,s({},v,{role:"listitem",className:g,onClick:this.handleClick},m),y||b,(a||w||x)&&t.createElement(dL,null,w,x,a)):t.createElement(f,s({},v,{role:"listitem",className:g,onClick:this.handleClick},m),w,x,a)},n}(t.Component);gL.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],gL.propTypes={},gL.create=Oi(gL,(function(e){return{content:e}}));const mL=gL;function vL(e){var n=e.children,i=e.className,r=e.content,o=ni(vL,e),a=ii(vL,e),l=qn(Kn("ul"!==a&&"ol"!==a,"list"),i);return t.createElement(a,s({},o,{className:l}),ai(n)?r:n)}vL.handledProps=["as","children","className","content"],vL.propTypes={};const yL=vL;var bL=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleItemOverrides=function(e){return{onClick:function(n,i){Hn(e,"onClick",n,i),Hn(t.props,"onItemClick",n,i)}}},t}return a(n,e),n.prototype.render=function(){var e=this,i=this.props,r=i.animated,o=i.bulleted,a=i.celled,l=i.children,c=i.className,h=i.content,u=i.divided,d=i.floated,p=i.horizontal,f=i.inverted,g=i.items,m=i.link,v=i.ordered,y=i.relaxed,b=i.selection,w=i.size,x=i.verticalAlign,S=qn("ui",w,Kn(r,"animated"),Kn(o,"bulleted"),Kn(a,"celled"),Kn(u,"divided"),Kn(p,"horizontal"),Kn(f,"inverted"),Kn(m,"link"),Kn(v,"ordered"),Kn(b,"selection"),Jn(y,"relaxed"),Qn(d,"floated"),ei(x),"list",c),k=ni(n,this.props),_=ii(n,this.props);return ai(l)?ai(h)?t.createElement(_,s({role:"list",className:S},k),An(g,(function(t){return mL.create(t,{overrideProps:e.handleItemOverrides})}))):t.createElement(_,s({role:"list",className:S},k),h):t.createElement(_,s({role:"list",className:S},k),l)},n}(t.Component);bL.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],bL.propTypes={},bL.Content=dL,bL.Description=lL,bL.Header=hL,bL.Icon=fL,bL.Item=mL,bL.List=yL;const wL=bL;const xL=function(){const e=Hs(),n=new URLSearchParams(e.search).get("topic"),[i,r]=(0,t.useState)([]);return(0,t.useEffect)((()=>{II.firestore().collection("topics").get().then((e=>{const t=e.docs.map((e=>e.data()));r([{name:"\u5168\u90e8"},...t])}))}),[]),(0,PI.jsx)(wL,{animated:!0,selection:!0,children:i.map((e=>(0,PI.jsx)(wL.Item,{as:xo,to:"/posts".concat("\u5168\u90e8"===e.name?"#":"?topic="+e.name),active:n===e.name||null===n&&"\u5168\u90e8"===e.name,className:"listItem",children:e.name},e.name)))})};function SL(e){var n=e.children,i=e.className,r=e.computer,o=e.color,a=e.floated,l=e.largeScreen,c=e.mobile,h=e.only,u=e.stretched,d=e.tablet,p=e.textAlign,f=e.verticalAlign,g=e.widescreen,m=e.width,v=qn(o,Kn(u,"stretched"),$n(h,"only"),Zn(p),Qn(a,"floated"),ei(f),ti(r,"wide computer"),ti(l,"wide large screen"),ti(c,"wide mobile"),ti(d,"wide tablet"),ti(g,"wide widescreen"),ti(m,"wide"),"column",i),y=ni(SL,e),b=ii(SL,e);return t.createElement(b,s({},y,{className:v}),n)}SL.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],SL.propTypes={},SL.create=Oi(SL,(function(e){return{children:e}}));const kL=SL;function _L(e){var n=e.centered,i=e.children,r=e.className,o=e.color,a=e.columns,l=e.divided,c=e.only,h=e.reversed,u=e.stretched,d=e.textAlign,p=e.verticalAlign,f=qn(o,Kn(n,"centered"),Kn(l,"divided"),Kn(u,"stretched"),$n(c,"only"),$n(h,"reversed"),Zn(d),ei(p),ti(a,"column",!0),"row",r),g=ni(_L,e),m=ii(_L,e);return t.createElement(m,s({},g,{className:f}),i)}_L.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],_L.propTypes={};const TL=_L;function CL(e){var n=e.celled,i=e.centered,r=e.children,o=e.className,a=e.columns,l=e.container,c=e.divided,h=e.doubling,u=e.inverted,d=e.padded,p=e.relaxed,f=e.reversed,g=e.stackable,m=e.stretched,v=e.textAlign,y=e.verticalAlign,b=qn("ui",Kn(i,"centered"),Kn(l,"container"),Kn(h,"doubling"),Kn(u,"inverted"),Kn(g,"stackable"),Kn(m,"stretched"),Jn(n,"celled"),Jn(c,"divided"),Jn(d,"padded"),Jn(p,"relaxed"),$n(f,"reversed"),Zn(v),ei(y),ti(a,"column",!0),"grid",o),w=ni(CL,e),x=ii(CL,e);return t.createElement(x,s({},w,{className:b}),r)}CL.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],CL.Column=kL,CL.Row=TL,CL.propTypes={};const EL=CL;const IL=function(){const e=Hs();return(0,PI.jsx)(wL,{animated:!0,selection:!0,children:[{name:"\u6211\u7684\u6587\u7ae0",path:"/my/posts"},{name:"\u6211\u7684\u6536\u85cf",path:"/my/collections"},{name:"\u6703\u54e1\u8cc7\u6599",path:"/my/settings"}].map((t=>(0,PI.jsx)(wL.Item,{as:xo,to:t.path,active:t.path===e.pathname,children:t.name},t.name)))})};const AL=function(){const[e,n]=(0,t.useState)();return(0,t.useEffect)((()=>{II.auth().onAuthStateChanged((e=>{n(e)}))}),[]),(0,PI.jsxs)(yo,{children:[(0,PI.jsx)(NI,{user:e}),(0,PI.jsxs)(uo,{children:[(0,PI.jsx)(co,{path:"/",element:(0,PI.jsx)(JI,{user:e})}),(0,PI.jsxs)(co,{path:"/posts",element:(0,PI.jsx)(ZI,{children:(0,PI.jsx)(EL,{children:(0,PI.jsxs)(EL.Row,{children:[(0,PI.jsx)(EL.Column,{width:3,children:(0,PI.jsx)(xL,{})}),(0,PI.jsx)(EL.Column,{width:10,children:(0,PI.jsx)(lo,{})}),(0,PI.jsx)(EL.Column,{width:3})]})})}),children:[(0,PI.jsx)(co,{index:!0,element:(0,PI.jsx)(sO,{})}),(0,PI.jsx)(co,{path:":postId",element:null!==e?(0,PI.jsx)(jO,{}):(0,PI.jsx)(ao,{to:"/signin"})})]}),(0,PI.jsxs)(co,{path:"/my/*",element:null!==e?(0,PI.jsx)(ZI,{children:(0,PI.jsx)(EL,{children:(0,PI.jsxs)(EL.Row,{children:[(0,PI.jsx)(EL.Column,{width:3,children:(0,PI.jsx)(IL,{})}),(0,PI.jsx)(EL.Column,{width:10,children:(0,PI.jsx)(lo,{})}),(0,PI.jsx)(EL.Column,{width:3})]})})}):(0,PI.jsx)(ao,{to:"/signin"}),children:[(0,PI.jsx)(co,{path:"posts",element:(0,PI.jsx)(FO,{})}),(0,PI.jsx)(co,{path:"collections",element:(0,PI.jsx)(UO,{})}),(0,PI.jsx)(co,{path:"settings",element:(0,PI.jsx)(oL,{user:e})})]}),(0,PI.jsx)(co,{path:"/signin",element:(0,PI.jsx)(xM,{})}),(0,PI.jsx)(co,{path:"/new-post",element:null!==e?(0,PI.jsx)(oO,{}):(0,PI.jsx)(ao,{to:"/signin"})})]}),(0,PI.jsx)(MI,{})]})},PL=document.getElementById("root");(0,r.H)(PL).render((0,PI.jsx)(AL,{}))})()})();
//# sourceMappingURL=main.01811daa.js.map